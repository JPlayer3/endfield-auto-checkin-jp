/*! WEB-SDK@1.11.0 © GRYPHLINE. GRYPH FRONTIER PTE.LTD. 2022-2026. All Rights Reserved. Published at 2026-01-22 07:57:54 UTC+08:00 */
(self.webpackChunk_hg_gl_web_sdk=self.webpackChunk_hg_gl_web_sdk||[]).push([[289,387],{9412:function(t,e,n){!function(t){"use strict";let e=null,r=null;function i(){try{if("undefined"==typeof localStorage)return!1;const t="__localStorage_test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}}function o(){let t="";if(crypto&&crypto.randomUUID)return t=crypto.randomUUID().replace(/-/g,""),t;const e=crypto&&crypto.getRandomValues?()=>crypto.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return t=([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&e())>>t/4).toString(16))),t}function s(){var t;return i()?null!==(t=localStorage.getItem("#eventLogDeviceId"))&&void 0!==t?t:"":null!=e?e:""}function a(t){i()?localStorage.setItem("#eventLogDeviceId",t):e=t}function u(){let t=s();return t&&d(t)||(t=o(),a(t)),t}function c(){var t;return null!==(t=localStorage.getItem("#deviceIDS"))&&void 0!==t?t:""}function l(t){localStorage.setItem("#deviceIDS",t)}function d(t){return t&&t.length>=6&&t.length<=128&&!/^[0fF_-]+$/.test(t)}function h(){const t="abcdefghijklmnopqrstuvwxyz0123456789";let e="";if(crypto&&crypto.getRandomValues){const n=new Uint32Array(12);crypto.getRandomValues(n);for(let r=0;r<12;r++)e+=t[n[r]%t.length]}else for(let n=0;n<12;n++)e+=t[Math.floor(Math.random()*t.length)];return e}function f(){if(r)return r;const t=localStorage.getItem("#trackingCode");return t&&(r=t),t}function p(t){r=t,localStorage.setItem("#trackingCode",t)}function v(){let t=f();return t||(t=h(),p(t),t)}function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}var m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},b={};!function(t,e){!function(n,r){var i="1.0.34",o="",s="?",a="function",u="undefined",c="object",l="string",d="major",h="model",f="name",p="type",v="vendor",m="version",b="architecture",w="console",_="mobile",y="tablet",k="smarttv",E="wearable",S="embedded",T=350,x="Amazon",A="Apple",I="ASUS",O="BlackBerry",R="Browser",C="Chrome",P="Firefox",D="Google",G="Huawei",U="LG",L="Microsoft",N="Motorola",j="Opera",z="Samsung",B="Sharp",J="Sony",M="Xiaomi",q="Zebra",H="Facebook",$="Chromium OS",Z="Mac OS",F=function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2==0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n},W=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].toUpperCase()]=t[n];return e},Y=function(t,e){return g(t)===l&&-1!==K(e).indexOf(K(t))},K=function(t){return t.toLowerCase()},V=function(t){return g(t)===l?t.replace(/[^\d\.]/g,o).split(".")[0]:r},X=function(t,e){if(g(t)===l)return t=t.replace(/^\s\s*/,o),g(e)===u?t:t.substring(0,T)},Q=function(t,e){for(var n,i,o,s,u,l,d=0;d<e.length&&!u;){var h=e[d],f=e[d+1];for(n=i=0;n<h.length&&!u&&h[n];)if(u=h[n++].exec(t))for(o=0;o<f.length;o++)l=u[++i],g(s=f[o])===c&&s.length>0?2===s.length?g(s[1])==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?g(s[1])!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):r:this[s[0]]=l?s[1].call(this,l,s[2]):r:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):r):this[s]=l||r;d+=2}},tt=function(t,e){for(var n in e)if(g(e[n])===c&&e[n].length>0){for(var i=0;i<e[n].length;i++)if(Y(e[n][i],t))return n===s?r:n}else if(Y(e[n],t))return n===s?r:n;return t},et={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},nt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,m],[/opios[\/ ]+([\w\.]+)/i],[m,[f,j+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[f,j]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[f,"UC"+R]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[m,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[m,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[m,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+R],m],[/\bfocus\/([\w\.]+)/i],[m,[f,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[f,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[f,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[f,"MIUI "+R]],[/fxios\/([-\w\.]+)/i],[m,[f,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+R]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+R],m],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,m],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,H],m],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[f,C+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,C+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[f,"Android "+R]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[m,tt,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[f,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,m],[/(cobalt)\/([\w\.]+)/i],[f,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,K]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,o,K]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[v,z],[p,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[v,z],[p,_]],[/\((ip(?:hone|od)[\w ]*);/i],[h,[v,A],[p,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[v,A],[p,y]],[/(macintosh);/i],[h,[v,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[v,B],[p,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[v,G],[p,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[v,G],[p,_]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[v,M],[p,_]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[v,M],[p,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[v,"OPPO"],[p,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[v,"Vivo"],[p,_]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[v,"Realme"],[p,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[v,N],[p,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[v,N],[p,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[v,U],[p,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[v,U],[p,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[v,"Lenovo"],[p,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[v,"Nokia"],[p,_]],[/(pixel c)\b/i],[h,[v,D],[p,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[v,D],[p,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[v,J],[p,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[v,J],[p,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[v,"OnePlus"],[p,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[v,x],[p,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[v,x],[p,_]],[/(playbook);[-\w\),; ]+(rim)/i],[h,v,[p,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[v,O],[p,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[v,I],[p,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[v,I],[p,_]],[/(nexus 9)/i],[h,[v,"HTC"],[p,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[h,/_/g," "],[p,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[v,"Acer"],[p,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[v,"Meizu"],[p,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,h,[p,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,h,[p,y]],[/(surface duo)/i],[h,[v,L],[p,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[v,"Fairphone"],[p,_]],[/(u304aa)/i],[h,[v,"AT&T"],[p,_]],[/\bsie-(\w*)/i],[h,[v,"Siemens"],[p,_]],[/\b(rct\w+) b/i],[h,[v,"RCA"],[p,y]],[/\b(venue[\d ]{2,7}) b/i],[h,[v,"Dell"],[p,y]],[/\b(q(?:mv|ta)\w+) b/i],[h,[v,"Verizon"],[p,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[v,"Barnes & Noble"],[p,y]],[/\b(tm\d{3}\w+) b/i],[h,[v,"NuVision"],[p,y]],[/\b(k88) b/i],[h,[v,"ZTE"],[p,y]],[/\b(nx\d{3}j) b/i],[h,[v,"ZTE"],[p,_]],[/\b(gen\d{3}) b.+49h/i],[h,[v,"Swiss"],[p,_]],[/\b(zur\d{3}) b/i],[h,[v,"Swiss"],[p,y]],[/\b((zeki)?tb.*\b) b/i],[h,[v,"Zeki"],[p,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],h,[p,y]],[/\b(ns-?\w{0,9}) b/i],[h,[v,"Insignia"],[p,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[v,"NextBook"],[p,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],h,[p,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],h,[p,_]],[/\b(ph-1) /i],[h,[v,"Essential"],[p,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[v,"Envizen"],[p,y]],[/\b(trio[-\w\. ]+) b/i],[h,[v,"MachSpeed"],[p,y]],[/\btu_(1491) b/i],[h,[v,"Rotor"],[p,y]],[/(shield[\w ]+) b/i],[h,[v,"Nvidia"],[p,y]],[/(sprint) (\w+)/i],[v,h,[p,_]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[v,L],[p,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[v,q],[p,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[v,q],[p,_]],[/smart-tv.+(samsung)/i],[v,[p,k]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[v,z],[p,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,U],[p,k]],[/(apple) ?tv/i],[v,[h,A+" TV"],[p,k]],[/crkey/i],[[h,C+"cast"],[v,D],[p,k]],[/droid.+aft(\w)( bui|\))/i],[h,[v,x],[p,k]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[v,B],[p,k]],[/(bravia[\w ]+)( bui|\))/i],[h,[v,J],[p,k]],[/(mitv-\w{5}) bui/i],[h,[v,M],[p,k]],[/Hbbtv.*(technisat) (.*);/i],[v,h,[p,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,X],[h,X],[p,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,h,[p,w]],[/droid.+; (shield) bui/i],[h,[v,"Nvidia"],[p,w]],[/(playstation [345portablevi]+)/i],[h,[v,J],[p,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[v,L],[p,w]],[/((pebble))app/i],[v,h,[p,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[v,A],[p,E]],[/droid.+; (glass) \d/i],[h,[v,D],[p,E]],[/droid.+; (wt63?0{2,3})\)/i],[h,[v,q],[p,E]],[/(quest( 2| pro)?)/i],[h,[v,H],[p,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[p,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[p,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[p,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,_]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[f,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,m],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[m,tt,et]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[m,tt,et]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,Z],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,m],[/\(bb(10);/i],[m,[f,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[f,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[f,C+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,$],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,m],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[f,m]]},rt=function t(e,i){if(g(e)===c&&(i=e,e=r),!(this instanceof t))return new t(e,i).getResult();var s=g(n)!==u&&n.navigator?n.navigator:r,w=e||(s&&s.userAgent?s.userAgent:o),k=s&&s.userAgentData?s.userAgentData:r,E=i?F(nt,i):nt;return this.getBrowser=function(){var t={};return t[f]=r,t[m]=r,Q.call(t,w,E.browser),t[d]=V(t[m]),s&&s.brave&&g(s.brave.isBrave)==a&&(t[f]="Brave"),t},this.getCPU=function(){var t={};return t[b]=r,Q.call(t,w,E.cpu),t},this.getDevice=function(){var t={};return t[v]=r,t[h]=r,t[p]=r,Q.call(t,w,E.device),!t[p]&&k&&k.mobile&&(t[p]=_),"Macintosh"==t[h]&&s&&g(s.standalone)!==u&&s.maxTouchPoints&&s.maxTouchPoints>2&&(t[h]="iPad",t[p]=y),t},this.getEngine=function(){var t={};return t[f]=r,t[m]=r,Q.call(t,w,E.engine),t},this.getOS=function(){var t={};return t[f]=r,t[m]=r,Q.call(t,w,E.os),!t[f]&&k&&"Unknown"!=k.platform&&(t[f]=k.platform.replace(/chrome os/i,$).replace(/macos/i,Z)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return w},this.setUA=function(t){return w=g(t)===l&&t.length>T?X(t,T):t,this},this.setUA(w),this};rt.VERSION=i,rt.BROWSER=W([f,m,d]),rt.CPU=W([b]),rt.DEVICE=W([h,v,p,w,_,k,y,E,S]),rt.ENGINE=rt.OS=W([f,m]),t.exports&&(e=t.exports=rt),e.UAParser=rt;var it=g(n)!==u&&(n.jQuery||n.Zepto);if(it&&!it.ua){var ot=new rt;it.ua=ot.getResult(),it.ua.get=function(){return ot.getUA()},it.ua.set=function(t){ot.setUA(t);var e=ot.getResult();for(var n in e)it.ua[n]=e[n]}}}("object"===("undefined"==typeof window?"undefined":g(window))?window:m)}({get exports(){return b},set exports(t){b=t}},b);var w=b;const _=function(t){return t=null!=t?t:navigator.userAgent,new w(t).getResult()},y=function(t){var e;t&&""!==t||(t=location.href);try{const n=new URL(t),{hash:r,host:i,hostname:o,href:s,origin:a,pathname:u,port:c,protocol:l,search:d,searchParams:h}=n;return{hashname:(null!==(e=n.hash.match(/#([^?]+)/))&&void 0!==e?e:[])[1],hash:r,host:i,hostname:o,href:s,origin:a,pathname:u,port:c,protocol:l,search:d,searchParams:h}}catch(e){return console.log("非法的URL路径",t),{}}},k=function(t,e=!1){const{search:n,hash:r}=y(t),i=e?r:n,o={};return null==i||i.replace(/[?&]+([^=&]+)=([^&#]*)/gi,(function(t,e,n){try{o[e]=decodeURIComponent(n)}catch(t){o[e]=n,console.warn(`URL参数解码失败: ${n}`)}return t})),o},E=function(t){const e=y(t),n=k(t),r=k(t,!0);return Object.assign({params:n,hashParams:r},e)};var S;t.SDK_TYPE=void 0,(S=t.SDK_TYPE||(t.SDK_TYPE={})).WEB="webjs",S.JS="native";const T="HGInsight",x="_instance";function A(t){return t&&t.Math==Math?t:void 0}function I(){return"object"==typeof globalThis&&A(globalThis)||"object"==typeof window&&A(window)||"object"==typeof self&&A(self)||"object"==typeof n.g&&A(n.g)||function(){return this}()||{}}function O(t,e){var n,r,i;const o=I();return null!==(n=o[T])&&void 0!==n||(o[T]={}),null!==(r=(i=o[T])[t])&&void 0!==r||(i[t]={}),o[T][t]}function R(t){return O(x)[t]}function C(e=t.SDK_TYPE.WEB){return e===t.SDK_TYPE.WEB}class P{static keyName(t){return P.isString(t)&&!!t}static blackName(e,n){if(!P.isString(e))return!1;const r=(n===t.SDK_TYPE.WEB?["#sdid_s","#sdid_c","#device_id","#tracking_code","#ga_client_id","#sdk_type","#sdk_vn","#sdk_vc","#ts_c","#ts_s","#seq","#ts","#ipv4","#continent_code","#country_iso_code","#subdivision_1_iso_code","#geoname_id","#latitude","#longitude","#time_zone","#app_id","#name","#user_id","#character_id","#server_id"]:["#user_id","#character_id","#server_id","#sdid_c","#sdk_type","#sdk_vn","#sdk_vc","#ts_c","#ts_s","#seq","#ipv4","#continent_code","#country_iso_code","#subdivision_1_iso_code","#geoname_id","#latitude","#longitude","#time_zone","#app_id","#name","#ts"]).includes(e.toLowerCase());return!!e&&!r}static presetKeyName(t){if(!P.isString(t))return!1;const e=["#sdid_c","#sdk_type","#sdk_vn","#sdk_vc","#app_id","#ts_c","#seq","#ts_s","#ts","#name","#user_id","#character_id","#server_id","#ipv4","#continent_code","#country_iso_code","#subdivision_1_iso_code","#geoname_id","#latitude","#longitude","#time_zone"].includes(t.toLowerCase());return!!t&&P.presetKeyNameRegex.test(t)&&!e}static presetName(e,n){const r=(n===t.SDK_TYPE.WEB?["#user_login","#character_login","#page_view"]:["#user_login","#character_login"]).includes(e.toLowerCase());return P.isString(e)&&!!e&&!r}static keySize(t,e){return!e&&(e=128),P.isString(t)&&!!t&&t.length<=e}static params(t,e){if("object"!=typeof t)return!1;if(Array.isArray(t))return!1;for(const n in t)if(!P.keyName(n)||!P.blackName(n,e))return!1;return P.dataSize(t)}static presetParams(t){if("object"!=typeof t)return!1;if(Array.isArray(t))return!1;for(const e in t)if(!P.presetKeyName(e))return!1;return!0}static initOptions(t){const{env:e,regionTag:n,enableRealTimeSend:r,routeChange:i,sdkType:o,enableAdTrack:s,enableGA4:a,ga4:u}=null!=t?t:{};if(!(void 0===e||P.isString(e)&&/^(dev|staging|prod)$/.test(e)))return console.error('初始化失败: env 必须是 "dev"、"staging" 或 "prod"'),!1;if(!P.isString(n)||!/^(cn|sg)$/.test(n))return console.error('初始化失败: regionTag 必须是 "cn" 或 "sg"'),!1;if(!P.isUndefined(r)&&!P.isBoolean(r))return console.error("初始化失败: enableRealTimeSend 必须是布尔值"),!1;if(C(o)){if(!(void 0===i||P.isString(i)&&["default","history","hash"].includes(i)))return console.error('初始化失败: routeChange 必须是 "default"、"history" 或 "hash"'),!1;if(!P.isUndefined(s)&&!P.isBoolean(s))return console.error("初始化失败: enableAdTrack 必须是布尔值"),!1;if(!P.isUndefined(a)&&!P.isBoolean(a))return console.error("初始化失败: enableGA4 必须是布尔值"),!1;if(!P.isUndefined(u)){if("object"!=typeof u||null===u||Array.isArray(u))return console.error("初始化失败: ga4 必须是对象"),!1;if(!u.measurementId||!P.isString(u.measurementId)||!/^G-[A-Z0-9]+$/.test(u.measurementId))return console.error('初始化失败: ga4.measurementId 必须是字符串且符合格式 "G-XXXXXXXXXX"'),!1;if(!P.isUndefined(u.autoInject)&&!P.isBoolean(u.autoInject))return console.error("初始化失败: ga4.autoInject 必须是布尔值"),!1;if(!P.isUndefined(u.timeout)&&("number"!=typeof u.timeout||isNaN(u.timeout)||u.timeout<=0))return console.error("初始化失败: ga4.timeout 必须是大于0的数字"),!1}}return!0}static strictValidateOptions(t,e){if(!t||"object"!=typeof t)return console.warn("初始化失败: 选项必须是对象"),!1;const n=Object.keys(t).filter((t=>!e.includes(t)));return!(n.length>0&&(console.warn(`初始化失败: 存在无效的配置项: ${n.join(", ")}`),1))}static isString(t){return"string"==typeof t}static isBoolean(t){return"boolean"==typeof t}static isUndefined(t){return void 0===t}static isNull(t){return null===t}static dataSize(t,e){e||(e=128);try{const n=JSON.stringify(t);return new Blob([n]).size<=1024*e}catch(t){return!1}}}function D(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function G(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}P.keyNameRegex=/^(?!#)/,P.presetKeyNameRegex=/^#/;var U="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==U&&U,L={searchParams:"URLSearchParams"in U,iterable:"Symbol"in U&&"iterator"in Symbol,blob:"FileReader"in U&&"Blob"in U&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in U,arrayBuffer:"ArrayBuffer"in U};function N(t){return t&&DataView.prototype.isPrototypeOf(t)}if(L.arrayBuffer)var j=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],z=ArrayBuffer.isView||function(t){return t&&j.indexOf(Object.prototype.toString.call(t))>-1};function B(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function J(t){return"string"!=typeof t&&(t=String(t)),t}function M(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return L.iterable&&(e[Symbol.iterator]=function(){return e}),e}function q(t){this.map={},t instanceof q?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function H(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function $(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function Z(t){var e=new FileReader,n=$(e);return e.readAsArrayBuffer(t),n}function F(t){var e=new FileReader,n=$(e);return e.readAsText(t),n}function W(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function Y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function K(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:L.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:L.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:L.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():L.arrayBuffer&&L.blob&&N(t)?(this._bodyArrayBuffer=Y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):L.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||z(t))?this._bodyArrayBuffer=Y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):L.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},L.blob&&(this.blob=function(){var t=H(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=H(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(Z)}),this.text=function(){var t=H(this);if(t)return t;if(this._bodyBlob)return F(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(W(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},L.formData&&(this.formData=function(){return this.text().then(tt)}),this.json=function(){return this.text().then(JSON.parse)},this}q.prototype.append=function(t,e){t=B(t),e=J(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},q.prototype.delete=function(t){delete this.map[B(t)]},q.prototype.get=function(t){return t=B(t),this.has(t)?this.map[t]:null},q.prototype.has=function(t){return this.map.hasOwnProperty(B(t))},q.prototype.set=function(t,e){this.map[B(t)]=J(e)},q.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},q.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),M(t)},q.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),M(t)},q.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),M(t)},L.iterable&&(q.prototype[Symbol.iterator]=q.prototype.entries);var V=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function X(t){var e=t.toUpperCase();return V.indexOf(e)>-1?e:t}function Q(t,e){if(!(this instanceof Q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(e=e||{}).body;if(t instanceof Q){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new q(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new q(e.headers)),this.method=X(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function tt(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function et(t){var e=new q;return t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e}function nt(t,e){if(!(this instanceof nt))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new q(e.headers),this.url=e.url||"",this._initBody(t)}Q.prototype.clone=function(){return new Q(this,{body:this._bodyInit})},K.call(Q.prototype),K.call(nt.prototype),nt.prototype.clone=function(){return new nt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new q(this.headers),url:this.url})},nt.error=function(){var t=new nt(null,{status:0,statusText:""});return t.type="error",t};var rt=[301,302,303,307,308];nt.redirect=function(t,e){if(-1===rt.indexOf(e))throw new RangeError("Invalid status code");return new nt(null,{status:e,headers:{location:t}})};var it=U.DOMException;try{new it}catch(gn){(it=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),it.prototype.constructor=it}function ot(t,e){return new Promise((function(n,r){var i=new Q(t,e);if(i.signal&&i.signal.aborted)return r(new it("Aborted","AbortError"));var o=new XMLHttpRequest;function s(){o.abort()}function a(t){try{return""===t&&U.location.href?U.location.href:t}catch(e){return t}}o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:et(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;setTimeout((function(){n(new nt(e,t))}),0)},o.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},o.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},o.onabort=function(){setTimeout((function(){r(new it("Aborted","AbortError"))}),0)},o.open(i.method,a(i.url),!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&(L.blob?o.responseType="blob":L.arrayBuffer&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(o.responseType="arraybuffer")),!e||"object"!==g(e.headers)||e.headers instanceof q?i.headers.forEach((function(t,e){o.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){o.setRequestHeader(t,J(e.headers[t]))})),i.signal&&(i.signal.addEventListener("abort",s),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",s)}),o.send(void 0===i._bodyInit?null:i._bodyInit)}))}ot.polyfill=!0,U.fetch||(U.fetch=ot,U.Headers=q,U.Request=Q,U.Response=nt);class st{static get(t){return this.store[t]}static set(t,e){this.store[t]=e}}st.store={};var at=4,ut=0,ct=1,lt=2;function dt(t){for(var e=t.length;--e>=0;)t[e]=0}var ht=0,ft=1,pt=2,vt=3,gt=258,mt=29,bt=256,wt=bt+1+mt,_t=30,yt=19,kt=2*wt+1,Et=15,St=16,Tt=7,xt=256,At=16,It=17,Ot=18,Rt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ct=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Pt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Dt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Gt=512,Ut=new Array(2*(wt+2));dt(Ut);var Lt=new Array(2*_t);dt(Lt);var Nt=new Array(Gt);dt(Nt);var jt=new Array(gt-vt+1);dt(jt);var zt=new Array(mt);dt(zt);var Bt,Jt,Mt,qt=new Array(_t);function Ht(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function $t(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}dt(qt);var Zt=function(t){return t<256?Nt[t]:Nt[256+(t>>>7)]},Ft=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},Wt=function(t,e,n){t.bi_valid>St-n?(t.bi_buf|=e<<t.bi_valid&65535,Ft(t,t.bi_buf),t.bi_buf=e>>St-t.bi_valid,t.bi_valid+=n-St):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Yt=function(t,e,n){Wt(t,n[2*e],n[2*e+1])},Kt=function(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},Vt=function(t){16===t.bi_valid?(Ft(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)},Xt=function(t,e){var n,r,i,o,s,a,u=e.dyn_tree,c=e.max_code,l=e.stat_desc.static_tree,d=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,v=0;for(o=0;o<=Et;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<kt;n++)(o=u[2*u[2*(r=t.heap[n])+1]+1]+1)>p&&(o=p,v++),u[2*r+1]=o,r>c||(t.bl_count[o]++,s=0,r>=f&&(s=h[r-f]),a=u[2*r],t.opt_len+=a*(o+s),d&&(t.static_len+=a*(l[2*r+1]+s)));if(0!==v){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,v-=2}while(v>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>c||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}},Qt=function(t,e,n){var r,i,o=new Array(Et+1),s=0;for(r=1;r<=Et;r++)s=s+n[r-1]<<1,o[r]=s;for(i=0;i<=e;i++){var a=t[2*i+1];0!==a&&(t[2*i]=Kt(o[a]++,a))}},te=function(){var t,e,n,r,i,o=new Array(Et+1);for(n=0,r=0;r<mt-1;r++)for(zt[r]=n,t=0;t<1<<Rt[r];t++)jt[n++]=r;for(jt[n-1]=r,i=0,r=0;r<16;r++)for(qt[r]=i,t=0;t<1<<Ct[r];t++)Nt[i++]=r;for(i>>=7;r<_t;r++)for(qt[r]=i<<7,t=0;t<1<<Ct[r]-7;t++)Nt[256+i++]=r;for(e=0;e<=Et;e++)o[e]=0;for(t=0;t<=143;)Ut[2*t+1]=8,t++,o[8]++;for(;t<=255;)Ut[2*t+1]=9,t++,o[9]++;for(;t<=279;)Ut[2*t+1]=7,t++,o[7]++;for(;t<=287;)Ut[2*t+1]=8,t++,o[8]++;for(Qt(Ut,wt+1,o),t=0;t<_t;t++)Lt[2*t+1]=5,Lt[2*t]=Kt(t,5);Bt=new Ht(Ut,Rt,bt+1,wt,Et),Jt=new Ht(Lt,Ct,0,_t,Et),Mt=new Ht(new Array(0),Pt,0,yt,Tt)},ee=function(t){var e;for(e=0;e<wt;e++)t.dyn_ltree[2*e]=0;for(e=0;e<_t;e++)t.dyn_dtree[2*e]=0;for(e=0;e<yt;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*xt]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},ne=function(t){t.bi_valid>8?Ft(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},re=function(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},ie=function(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&re(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!re(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},oe=function(t,e,n){var r,i,o,s,a=0;if(0!==t.sym_next)do{r=255&t.pending_buf[t.sym_buf+a++],r+=(255&t.pending_buf[t.sym_buf+a++])<<8,i=t.pending_buf[t.sym_buf+a++],0===r?Yt(t,i,e):(o=jt[i],Yt(t,o+bt+1,e),0!==(s=Rt[o])&&(i-=zt[o],Wt(t,i,s)),r--,o=Zt(r),Yt(t,o,n),0!==(s=Ct[o])&&(r-=qt[o],Wt(t,r,s)))}while(a<t.sym_next);Yt(t,xt,e)},se=function(t,e){var n,r,i,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=kt,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[i]=0,t.opt_len--,a&&(t.static_len-=s[2*i+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)ie(t,o,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],ie(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,ie(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Xt(t,e),Qt(o,c,t.bl_count)},ae=function(t,e,n){var r,i,o=-1,s=e[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=e[2*(r+1)+1],++a<u&&i===s||(a<c?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*At]++):a<=10?t.bl_tree[2*It]++:t.bl_tree[2*Ot]++,a=0,o=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4))},ue=function(t,e,n){var r,i,o=-1,s=e[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),r=0;r<=n;r++)if(i=s,s=e[2*(r+1)+1],!(++a<u&&i===s)){if(a<c)do{Yt(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(Yt(t,i,t.bl_tree),a--),Yt(t,At,t.bl_tree),Wt(t,a-3,2)):a<=10?(Yt(t,It,t.bl_tree),Wt(t,a-3,3)):(Yt(t,Ot,t.bl_tree),Wt(t,a-11,7));a=0,o=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4)}},ce=function(t){var e;for(ae(t,t.dyn_ltree,t.l_desc.max_code),ae(t,t.dyn_dtree,t.d_desc.max_code),se(t,t.bl_desc),e=yt-1;e>=3&&0===t.bl_tree[2*Dt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e},le=function(t,e,n,r){var i;for(Wt(t,e-257,5),Wt(t,n-1,5),Wt(t,r-4,4),i=0;i<r;i++)Wt(t,t.bl_tree[2*Dt[i]+1],3);ue(t,t.dyn_ltree,e-1),ue(t,t.dyn_dtree,n-1)},de=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return ut;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return ct;for(e=32;e<bt;e++)if(0!==t.dyn_ltree[2*e])return ct;return ut},he=!1,fe=function(t,e,n,r){Wt(t,(ht<<1)+(r?1:0),3),ne(t),Ft(t,n),Ft(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},pe=function(t,e,n,r){var i,o,s=0;t.level>0?(t.strm.data_type===lt&&(t.strm.data_type=de(t)),se(t,t.l_desc),se(t,t.d_desc),s=ce(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?fe(t,e,n,r):t.strategy===at||o===i?(Wt(t,(ft<<1)+(r?1:0),3),oe(t,Ut,Lt)):(Wt(t,(pt<<1)+(r?1:0),3),le(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),oe(t,t.dyn_ltree,t.dyn_dtree)),ee(t),r&&ne(t)},ve={_tr_init:function(t){he||(te(),he=!0),t.l_desc=new $t(t.dyn_ltree,Bt),t.d_desc=new $t(t.dyn_dtree,Jt),t.bl_desc=new $t(t.bl_tree,Mt),t.bi_buf=0,t.bi_valid=0,ee(t)},_tr_stored_block:fe,_tr_flush_block:pe,_tr_tally:function(t,e,n){return t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(jt[n]+bt+1)]++,t.dyn_dtree[2*Zt(e)]++),t.sym_next===t.sym_end},_tr_align:function(t){Wt(t,ft<<1,3),Yt(t,xt,Ut),Vt(t)}},ge=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16|0},me=new Uint32Array(function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}()),be=function(t,e,n,r){var i=me,o=r+n;t^=-1;for(var s=r;s<o;s++)t=t>>>8^i[255&(t^e[s])];return-1^t},we={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_e={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},ye=ve._tr_init,ke=ve._tr_stored_block,Ee=ve._tr_flush_block,Se=ve._tr_tally,Te=ve._tr_align,xe=_e.Z_NO_FLUSH,Ae=_e.Z_PARTIAL_FLUSH,Ie=_e.Z_FULL_FLUSH,Oe=_e.Z_FINISH,Re=_e.Z_BLOCK,Ce=_e.Z_OK,Pe=_e.Z_STREAM_END,De=_e.Z_STREAM_ERROR,Ge=_e.Z_DATA_ERROR,Ue=_e.Z_BUF_ERROR,Le=_e.Z_DEFAULT_COMPRESSION,Ne=_e.Z_FILTERED,je=_e.Z_HUFFMAN_ONLY,ze=_e.Z_RLE,Be=_e.Z_FIXED,Je=_e.Z_DEFAULT_STRATEGY,Me=_e.Z_UNKNOWN,qe=_e.Z_DEFLATED,He=9,$e=15,Ze=8,Fe=286,We=30,Ye=19,Ke=2*Fe+1,Ve=15,Xe=3,Qe=258,tn=Qe+Xe+1,en=32,nn=42,rn=57,on=69,sn=73,an=91,un=103,cn=113,ln=666,dn=1,hn=2,fn=3,pn=4,vn=3,gn=function(t,e){return t.msg=we[e],e},mn=function(t){return 2*t-(t>4?9:0)},bn=function(t){for(var e=t.length;--e>=0;)t[e]=0},wn=function(t){var e,n,r,i=t.w_size;r=e=t.hash_size;do{n=t.head[--r],t.head[r]=n>=i?n-i:0}while(--e);r=e=i;do{n=t.prev[--r],t.prev[r]=n>=i?n-i:0}while(--e)},_n=function(t,e,n){return(e<<t.hash_shift^n)&t.hash_mask},yn=function(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},kn=function(t,e){Ee(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,yn(t.strm)},En=function(t,e){t.pending_buf[t.pending++]=e},Sn=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Tn=function(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),1===t.state.wrap?t.adler=ge(t.adler,e,i,n):2===t.state.wrap&&(t.adler=be(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},xn=function(t,e){var n,r,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-tn?t.strstart-(t.w_size-tn):0,c=t.window,l=t.w_mask,d=t.prev,h=t.strstart+Qe,f=c[o+s-1],p=c[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(c[(n=e)+s]===p&&c[n+s-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<h);if(r=Qe-(h-o),o=h-Qe,r>s){if(t.match_start=e,s=r,r>=a)break;f=c[o+s-1],p=c[o+s]}}}while((e=d[e&l])>u&&0!=--i);return s<=t.lookahead?s:t.lookahead},An=function(t){var e,n,r,i=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=i+(i-tn)&&(t.window.set(t.window.subarray(i,i+i-n),0),t.match_start-=i,t.strstart-=i,t.block_start-=i,t.insert>t.strstart&&(t.insert=t.strstart),wn(t),n+=i),0===t.strm.avail_in)break;if(e=Tn(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=e,t.lookahead+t.insert>=Xe)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=_n(t,t.ins_h,t.window[r+1]);t.insert&&(t.ins_h=_n(t,t.ins_h,t.window[r+Xe-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<Xe)););}while(t.lookahead<tn&&0!==t.strm.avail_in)},In=function(t,e){var n,r,i,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,a=t.strm.avail_in;do{if(n=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,n>(r=t.strstart-t.block_start)+t.strm.avail_in&&(n=r+t.strm.avail_in),n>i&&(n=i),n<o&&(0===n&&e!==Oe||e===xe||n!==r+t.strm.avail_in))break;s=e===Oe&&n===r+t.strm.avail_in?1:0,ke(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,yn(t.strm),r&&(r>n&&(r=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,n-=r),n&&(Tn(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===s);return(a-=t.strm.avail_in)&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?pn:e!==xe&&e!==Oe&&0===t.strm.avail_in&&t.strstart===t.block_start?hn:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(Tn(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,o=(i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i)>t.w_size?t.w_size:i,((r=t.strstart-t.block_start)>=o||(r||e===Oe)&&e!==xe&&0===t.strm.avail_in&&r<=i)&&(n=r>i?i:r,s=e===Oe&&0===t.strm.avail_in&&n===r?1:0,ke(t,t.block_start,n,s),t.block_start+=n,yn(t.strm)),s?fn:dn)},On=function(t,e){for(var n,r;;){if(t.lookahead<tn){if(An(t),t.lookahead<tn&&e===xe)return dn;if(0===t.lookahead)break}if(n=0,t.lookahead>=Xe&&(t.ins_h=_n(t,t.ins_h,t.window[t.strstart+Xe-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-tn&&(t.match_length=xn(t,n)),t.match_length>=Xe)if(r=Se(t,t.strstart-t.match_start,t.match_length-Xe),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Xe){t.match_length--;do{t.strstart++,t.ins_h=_n(t,t.ins_h,t.window[t.strstart+Xe-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=_n(t,t.ins_h,t.window[t.strstart+1]);else r=Se(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(kn(t,!1),0===t.strm.avail_out))return dn}return t.insert=t.strstart<Xe-1?t.strstart:Xe-1,e===Oe?(kn(t,!0),0===t.strm.avail_out?fn:pn):t.sym_next&&(kn(t,!1),0===t.strm.avail_out)?dn:hn},Rn=function(t,e){for(var n,r,i;;){if(t.lookahead<tn){if(An(t),t.lookahead<tn&&e===xe)return dn;if(0===t.lookahead)break}if(n=0,t.lookahead>=Xe&&(t.ins_h=_n(t,t.ins_h,t.window[t.strstart+Xe-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Xe-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-tn&&(t.match_length=xn(t,n),t.match_length<=5&&(t.strategy===Ne||t.match_length===Xe&&t.strstart-t.match_start>4096)&&(t.match_length=Xe-1)),t.prev_length>=Xe&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-Xe,r=Se(t,t.strstart-1-t.prev_match,t.prev_length-Xe),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=_n(t,t.ins_h,t.window[t.strstart+Xe-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=Xe-1,t.strstart++,r&&(kn(t,!1),0===t.strm.avail_out))return dn}else if(t.match_available){if((r=Se(t,0,t.window[t.strstart-1]))&&kn(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return dn}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Se(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Xe-1?t.strstart:Xe-1,e===Oe?(kn(t,!0),0===t.strm.avail_out?fn:pn):t.sym_next&&(kn(t,!1),0===t.strm.avail_out)?dn:hn},Cn=function(t,e){for(var n,r,i,o,s=t.window;;){if(t.lookahead<=Qe){if(An(t),t.lookahead<=Qe&&e===xe)return dn;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=Xe&&t.strstart>0&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=t.strstart+Qe;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=Qe-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Xe?(n=Se(t,1,t.match_length-Xe),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Se(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(kn(t,!1),0===t.strm.avail_out))return dn}return t.insert=0,e===Oe?(kn(t,!0),0===t.strm.avail_out?fn:pn):t.sym_next&&(kn(t,!1),0===t.strm.avail_out)?dn:hn},Pn=function(t,e){for(var n;;){if(0===t.lookahead&&(An(t),0===t.lookahead)){if(e===xe)return dn;break}if(t.match_length=0,n=Se(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(kn(t,!1),0===t.strm.avail_out))return dn}return t.insert=0,e===Oe?(kn(t,!0),0===t.strm.avail_out?fn:pn):t.sym_next&&(kn(t,!1),0===t.strm.avail_out)?dn:hn};function Dn(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}var Gn=[new Dn(0,0,0,0,In),new Dn(4,4,8,4,On),new Dn(4,5,16,8,On),new Dn(4,6,32,32,On),new Dn(4,4,16,16,Rn),new Dn(8,16,32,32,Rn),new Dn(8,16,128,128,Rn),new Dn(8,32,128,256,Rn),new Dn(32,128,258,1024,Rn),new Dn(32,258,258,4096,Rn)],Un=function(t){t.window_size=2*t.w_size,bn(t.head),t.max_lazy_match=Gn[t.level].max_lazy,t.good_match=Gn[t.level].good_length,t.nice_match=Gn[t.level].nice_length,t.max_chain_length=Gn[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Xe-1,t.match_available=0,t.ins_h=0};function Ln(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=qe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*Ke),this.dyn_dtree=new Uint16Array(2*(2*We+1)),this.bl_tree=new Uint16Array(2*(2*Ye+1)),bn(this.dyn_ltree),bn(this.dyn_dtree),bn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Ve+1),this.heap=new Uint16Array(2*Fe+1),bn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Fe+1),bn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Nn=function(t){if(!t)return 1;var e=t.state;return!e||e.strm!==t||e.status!==nn&&e.status!==rn&&e.status!==on&&e.status!==sn&&e.status!==an&&e.status!==un&&e.status!==cn&&e.status!==ln?1:0},jn=function(t){if(Nn(t))return gn(t,De);t.total_in=t.total_out=0,t.data_type=Me;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?rn:e.wrap?nn:cn,t.adler=2===e.wrap?0:1,e.last_flush=-2,ye(e),Ce},zn=function(t){var e=jn(t);return e===Ce&&Un(t.state),e},Bn=function(t,e,n,r,i,o){if(!t)return De;var s=1;if(e===Le&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>He||n!==qe||r<8||r>15||e<0||e>9||o<0||o>Be||8===r&&1!==s)return gn(t,De);8===r&&(r=9);var a=new Ln;return t.state=a,a.strm=t,a.status=nn,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Xe-1)/Xe),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=n,zn(t)},Jn={deflateInit:function(t,e){return Bn(t,e,qe,$e,Ze,Je)},deflateInit2:Bn,deflateReset:zn,deflateResetKeep:jn,deflateSetHeader:function(t,e){return Nn(t)||2!==t.state.wrap?De:(t.state.gzhead=e,Ce)},deflate:function(t,e){if(Nn(t)||e>Re||e<0)return t?gn(t,De):De;var n=t.state;if(!t.output||0!==t.avail_in&&!t.input||n.status===ln&&e!==Oe)return gn(t,0===t.avail_out?Ue:De);var r=n.last_flush;if(n.last_flush=e,0!==n.pending){if(yn(t),0===t.avail_out)return n.last_flush=-1,Ce}else if(0===t.avail_in&&mn(e)<=mn(r)&&e!==Oe)return gn(t,Ue);if(n.status===ln&&0!==t.avail_in)return gn(t,Ue);if(n.status===nn&&0===n.wrap&&(n.status=cn),n.status===nn){var i=qe+(n.w_bits-8<<4)<<8;if(i|=(n.strategy>=je||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(i|=en),Sn(n,i+=31-i%31),0!==n.strstart&&(Sn(n,t.adler>>>16),Sn(n,65535&t.adler)),t.adler=1,n.status=cn,yn(t),0!==n.pending)return n.last_flush=-1,Ce}if(n.status===rn)if(t.adler=0,En(n,31),En(n,139),En(n,8),n.gzhead)En(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),En(n,255&n.gzhead.time),En(n,n.gzhead.time>>8&255),En(n,n.gzhead.time>>16&255),En(n,n.gzhead.time>>24&255),En(n,9===n.level?2:n.strategy>=je||n.level<2?4:0),En(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(En(n,255&n.gzhead.extra.length),En(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=be(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=on;else if(En(n,0),En(n,0),En(n,0),En(n,0),En(n,0),En(n,9===n.level?2:n.strategy>=je||n.level<2?4:0),En(n,vn),n.status=cn,yn(t),0!==n.pending)return n.last_flush=-1,Ce;if(n.status===on){if(n.gzhead.extra){for(var o=n.pending,s=(65535&n.gzhead.extra.length)-n.gzindex;n.pending+s>n.pending_buf_size;){var a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(t.adler=be(t.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=a,yn(t),0!==n.pending)return n.last_flush=-1,Ce;o=0,s-=a}var u=new Uint8Array(n.gzhead.extra);n.pending_buf.set(u.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>o&&(t.adler=be(t.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=sn}if(n.status===sn){if(n.gzhead.name){var c,l=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>l&&(t.adler=be(t.adler,n.pending_buf,n.pending-l,l)),yn(t),0!==n.pending)return n.last_flush=-1,Ce;l=0}c=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,En(n,c)}while(0!==c);n.gzhead.hcrc&&n.pending>l&&(t.adler=be(t.adler,n.pending_buf,n.pending-l,l)),n.gzindex=0}n.status=an}if(n.status===an){if(n.gzhead.comment){var d,h=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>h&&(t.adler=be(t.adler,n.pending_buf,n.pending-h,h)),yn(t),0!==n.pending)return n.last_flush=-1,Ce;h=0}d=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,En(n,d)}while(0!==d);n.gzhead.hcrc&&n.pending>h&&(t.adler=be(t.adler,n.pending_buf,n.pending-h,h))}n.status=un}if(n.status===un){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(yn(t),0!==n.pending))return n.last_flush=-1,Ce;En(n,255&t.adler),En(n,t.adler>>8&255),t.adler=0}if(n.status=cn,yn(t),0!==n.pending)return n.last_flush=-1,Ce}if(0!==t.avail_in||0!==n.lookahead||e!==xe&&n.status!==ln){var f=0===n.level?In(n,e):n.strategy===je?Pn(n,e):n.strategy===ze?Cn(n,e):Gn[n.level].func(n,e);if(f!==fn&&f!==pn||(n.status=ln),f===dn||f===fn)return 0===t.avail_out&&(n.last_flush=-1),Ce;if(f===hn&&(e===Ae?Te(n):e!==Re&&(ke(n,0,0,!1),e===Ie&&(bn(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),yn(t),0===t.avail_out))return n.last_flush=-1,Ce}return e!==Oe?Ce:n.wrap<=0?Pe:(2===n.wrap?(En(n,255&t.adler),En(n,t.adler>>8&255),En(n,t.adler>>16&255),En(n,t.adler>>24&255),En(n,255&t.total_in),En(n,t.total_in>>8&255),En(n,t.total_in>>16&255),En(n,t.total_in>>24&255)):(Sn(n,t.adler>>>16),Sn(n,65535&t.adler)),yn(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Ce:Pe)},deflateEnd:function(t){if(Nn(t))return De;var e=t.state.status;return t.state=null,e===cn?gn(t,Ge):Ce},deflateSetDictionary:function(t,e){var n=e.length;if(Nn(t))return De;var r=t.state,i=r.wrap;if(2===i||1===i&&r.status!==nn||r.lookahead)return De;if(1===i&&(t.adler=ge(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===i&&(bn(r.head),r.strstart=0,r.block_start=0,r.insert=0);var o=new Uint8Array(r.w_size);o.set(e.subarray(n-r.w_size,n),0),e=o,n=r.w_size}var s=t.avail_in,a=t.next_in,u=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,An(r);r.lookahead>=Xe;){var c=r.strstart,l=r.lookahead-(Xe-1);do{r.ins_h=_n(r,r.ins_h,r.window[c+Xe-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++}while(--l);r.strstart=c,r.lookahead=Xe-1,An(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Xe-1,r.match_available=0,t.next_in=a,t.input=u,t.avail_in=s,r.wrap=i,Ce},deflateInfo:"pako deflate (from Nodeca project)"},Mn=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},qn=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!==g(n))throw new TypeError(n+"must be non-object");for(var r in n)Mn(n,r)&&(t[r]=n[r])}}return t},Hn={assign:qn,flattenChunks:function(t){for(var e=0,n=0,r=t.length;n<r;n++)e+=t[n].length;for(var i=new Uint8Array(e),o=0,s=0,a=t.length;o<a;o++){var u=t[o];i.set(u,s),s+=u.length}return i}},$n=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){$n=!1}for(var Zn=new Uint8Array(256),Fn=0;Fn<256;Fn++)Zn[Fn]=Fn>=252?6:Fn>=248?5:Fn>=240?4:Fn>=224?3:Fn>=192?2:1;Zn[254]=Zn[254]=1;var Wn=function(t,e){if(e<65534&&t.subarray&&$n)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n},Yn={string2buf:function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},buf2string:function(t,e){var n,r,i=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));var o=new Array(2*i);for(r=0,n=0;n<i;){var s=t[n++];if(s<128)o[r++]=s;else{var a=Zn[s];if(a>4)o[r++]=65533,n+=a-1;else{for(s&=2===a?31:3===a?15:7;a>1&&n<i;)s=s<<6|63&t[n++],a--;a>1?o[r++]=65533:s<65536?o[r++]=s:(s-=65536,o[r++]=55296|s>>10&1023,o[r++]=56320|1023&s)}}}return Wn(o,r)},utf8border:function(t,e){(e=e||t.length)>t.length&&(e=t.length);for(var n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+Zn[t[n]]>e?n:e}};function Kn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Vn=Kn,Xn=Object.prototype.toString,Qn=_e.Z_NO_FLUSH,tr=_e.Z_SYNC_FLUSH,er=_e.Z_FULL_FLUSH,nr=_e.Z_FINISH,rr=_e.Z_OK,ir=_e.Z_STREAM_END,or=_e.Z_DEFAULT_COMPRESSION,sr=_e.Z_DEFAULT_STRATEGY,ar=_e.Z_DEFLATED;function ur(t){this.options=Hn.assign({level:or,method:ar,chunkSize:16384,windowBits:15,memLevel:8,strategy:sr},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Vn,this.strm.avail_out=0;var n=Jn.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==rr)throw new Error(we[n]);if(e.header&&Jn.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?Yn.string2buf(e.dictionary):"[object ArrayBuffer]"===Xn.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=Jn.deflateSetDictionary(this.strm,r))!==rr)throw new Error(we[n]);this._dict_set=!0}}function cr(t,e){var n=new ur(e);if(n.push(t,!0),n.err)throw n.msg||we[n.err];return n.result}function lr(t,e){return(e=e||{}).raw=!0,cr(t,e)}function dr(t,e){return(e=e||{}).gzip=!0,cr(t,e)}ur.prototype.push=function(t,e){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(r=e===~~e?e:!0===e?nr:Qn,"string"==typeof t?i.input=Yn.string2buf(t):"[object ArrayBuffer]"===Xn.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(r===tr||r===er)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if((n=Jn.deflate(i,r))===ir)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),n=Jn.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===rr;if(0!==i.avail_out){if(r>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},ur.prototype.onData=function(t){this.chunks.push(t)},ur.prototype.onEnd=function(t){t===rr&&(this.result=Hn.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var hr={Deflate:ur,deflate:cr,deflateRaw:lr,gzip:dr,constants:_e},fr=16209,pr=16191,vr=function(t,e){var n,r,i,o,s,a,u,c,l,d,h,f,p,v,g,m,b,w,_,y,k,E,S,T,x=t.state;n=t.next_in,S=t.input,r=n+(t.avail_in-5),i=t.next_out,T=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),a=x.dmax,u=x.wsize,c=x.whave,l=x.wnext,d=x.window,h=x.hold,f=x.bits,p=x.lencode,v=x.distcode,g=(1<<x.lenbits)-1,m=(1<<x.distbits)-1;t:do{f<15&&(h+=S[n++]<<f,f+=8,h+=S[n++]<<f,f+=8),b=p[h&g];e:for(;;){if(h>>>=w=b>>>24,f-=w,0==(w=b>>>16&255))T[i++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=p[(65535&b)+(h&(1<<w)-1)];continue e}if(32&w){x.mode=pr;break t}t.msg="invalid literal/length code",x.mode=fr;break t}_=65535&b,(w&=15)&&(f<w&&(h+=S[n++]<<f,f+=8),_+=h&(1<<w)-1,h>>>=w,f-=w),f<15&&(h+=S[n++]<<f,f+=8,h+=S[n++]<<f,f+=8),b=v[h&m];n:for(;;){if(h>>>=w=b>>>24,f-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=v[(65535&b)+(h&(1<<w)-1)];continue n}t.msg="invalid distance code",x.mode=fr;break t}if(y=65535&b,f<(w&=15)&&(h+=S[n++]<<f,(f+=8)<w&&(h+=S[n++]<<f,f+=8)),(y+=h&(1<<w)-1)>a){t.msg="invalid distance too far back",x.mode=fr;break t}if(h>>>=w,f-=w,y>(w=i-o)){if((w=y-w)>c&&x.sane){t.msg="invalid distance too far back",x.mode=fr;break t}if(k=0,E=d,0===l){if(k+=u-w,w<_){_-=w;do{T[i++]=d[k++]}while(--w);k=i-y,E=T}}else if(l<w){if(k+=u+l-w,(w-=l)<_){_-=w;do{T[i++]=d[k++]}while(--w);if(k=0,l<_){_-=w=l;do{T[i++]=d[k++]}while(--w);k=i-y,E=T}}}else if(k+=l-w,w<_){_-=w;do{T[i++]=d[k++]}while(--w);k=i-y,E=T}for(;_>2;)T[i++]=E[k++],T[i++]=E[k++],T[i++]=E[k++],_-=3;_&&(T[i++]=E[k++],_>1&&(T[i++]=E[k++]))}else{k=i-y;do{T[i++]=T[k++],T[i++]=T[k++],T[i++]=T[k++],_-=3}while(_>2);_&&(T[i++]=T[k++],_>1&&(T[i++]=T[k++]))}break}}break}}while(n<r&&i<s);n-=_=f>>3,h&=(1<<(f-=_<<3))-1,t.next_in=n,t.next_out=i,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=i<s?s-i+257:257-(i-s),x.hold=h,x.bits=f},gr=15,mr=852,br=592,wr=0,_r=1,yr=2,kr=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Er=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Sr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Tr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),xr=function(t,e,n,r,i,o,s,a){var u,c,l,d,h,f,p,v,g,m=a.bits,b=0,w=0,_=0,y=0,k=0,E=0,S=0,T=0,x=0,A=0,I=null,O=new Uint16Array(gr+1),R=new Uint16Array(gr+1),C=null;for(b=0;b<=gr;b++)O[b]=0;for(w=0;w<r;w++)O[e[n+w]]++;for(k=m,y=gr;y>=1&&0===O[y];y--);if(k>y&&(k=y),0===y)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(_=1;_<y&&0===O[_];_++);for(k<_&&(k=_),T=1,b=1;b<=gr;b++)if(T<<=1,(T-=O[b])<0)return-1;if(T>0&&(t===wr||1!==y))return-1;for(R[1]=0,b=1;b<gr;b++)R[b+1]=R[b]+O[b];for(w=0;w<r;w++)0!==e[n+w]&&(s[R[e[n+w]]++]=w);if(t===wr?(I=C=s,f=20):t===_r?(I=kr,C=Er,f=257):(I=Sr,C=Tr,f=0),A=0,w=0,b=_,h=o,E=k,S=0,l=-1,d=(x=1<<k)-1,t===_r&&x>mr||t===yr&&x>br)return 1;for(;;){p=b-S,s[w]+1<f?(v=0,g=s[w]):s[w]>=f?(v=C[s[w]-f],g=I[s[w]-f]):(v=96,g=0),u=1<<b-S,_=c=1<<E;do{i[h+(A>>S)+(c-=u)]=p<<24|v<<16|g|0}while(0!==c);for(u=1<<b-1;A&u;)u>>=1;if(0!==u?(A&=u-1,A+=u):A=0,w++,0==--O[b]){if(b===y)break;b=e[n+s[w]]}if(b>k&&(A&d)!==l){for(0===S&&(S=k),h+=_,T=1<<(E=b-S);E+S<y&&!((T-=O[E+S])<=0);)E++,T<<=1;if(x+=1<<E,t===_r&&x>mr||t===yr&&x>br)return 1;i[l=A&d]=k<<24|E<<16|h-o|0}}return 0!==A&&(i[h+A]=b-S<<24|64<<16|0),a.bits=k,0},Ar=0,Ir=1,Or=2,Rr=_e.Z_FINISH,Cr=_e.Z_BLOCK,Pr=_e.Z_TREES,Dr=_e.Z_OK,Gr=_e.Z_STREAM_END,Ur=_e.Z_NEED_DICT,Lr=_e.Z_STREAM_ERROR,Nr=_e.Z_DATA_ERROR,jr=_e.Z_MEM_ERROR,zr=_e.Z_BUF_ERROR,Br=_e.Z_DEFLATED,Jr=16180,Mr=16181,qr=16182,Hr=16183,$r=16184,Zr=16185,Fr=16186,Wr=16187,Yr=16188,Kr=16189,Vr=16190,Xr=16191,Qr=16192,ti=16193,ei=16194,ni=16195,ri=16196,ii=16197,oi=16198,si=16199,ai=16200,ui=16201,ci=16202,li=16203,di=16204,hi=16205,fi=16206,pi=16207,vi=16208,gi=16209,mi=16210,bi=16211,wi=852,_i=592,yi=15,ki=function(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)};function Ei(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Si,Ti,xi=function(t){if(!t)return 1;var e=t.state;return!e||e.strm!==t||e.mode<Jr||e.mode>bi?1:0},Ai=function(t){if(xi(t))return Lr;var e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Jr,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(wi),e.distcode=e.distdyn=new Int32Array(_i),e.sane=1,e.back=-1,Dr},Ii=function(t){if(xi(t))return Lr;var e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Ai(t)},Oi=function(t,e){var n;if(xi(t))return Lr;var r=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Lr:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Ii(t))},Ri=function(t,e){if(!t)return Lr;var n=new Ei;t.state=n,n.strm=t,n.window=null,n.mode=Jr;var r=Oi(t,e);return r!==Dr&&(t.state=null),r},Ci=!0,Pi=function(t){if(Ci){Si=new Int32Array(512),Ti=new Int32Array(32);for(var e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(xr(Ir,t.lens,0,288,Si,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;xr(Or,t.lens,0,32,Ti,0,t.work,{bits:5}),Ci=!1}t.lencode=Si,t.lenbits=9,t.distcode=Ti,t.distbits=5},Di=function(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Gi={inflateReset:Ii,inflateReset2:Oi,inflateResetKeep:Ai,inflateInit:function(t){return Ri(t,yi)},inflateInit2:Ri,inflate:function(t,e){var n,r,i,o,s,a,u,c,l,d,h,f,p,v,g,m,b,w,_,y,k,E,S,T,x=0,A=new Uint8Array(4),I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(xi(t)||!t.output||!t.input&&0!==t.avail_in)return Lr;(n=t.state).mode===Xr&&(n.mode=Qr),s=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,c=n.hold,l=n.bits,d=a,h=u,E=Dr;t:for(;;)switch(n.mode){case Jr:if(0===n.wrap){n.mode=Qr;break}for(;l<16;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,A[0]=255&c,A[1]=c>>>8&255,n.check=be(n.check,A,2,0),c=0,l=0,n.mode=Mr;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=gi;break}if((15&c)!==Br){t.msg="unknown compression method",n.mode=gi;break}if(l-=4,k=8+(15&(c>>>=4)),0===n.wbits&&(n.wbits=k),k>15||k>n.wbits){t.msg="invalid window size",n.mode=gi;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&c?Kr:Xr,c=0,l=0;break;case Mr:for(;l<16;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==Br){t.msg="unknown compression method",n.mode=gi;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=gi;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(A[0]=255&c,A[1]=c>>>8&255,n.check=be(n.check,A,2,0)),c=0,l=0,n.mode=qr;case qr:for(;l<32;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(A[0]=255&c,A[1]=c>>>8&255,A[2]=c>>>16&255,A[3]=c>>>24&255,n.check=be(n.check,A,4,0)),c=0,l=0,n.mode=Hr;case Hr:for(;l<16;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(A[0]=255&c,A[1]=c>>>8&255,n.check=be(n.check,A,2,0)),c=0,l=0,n.mode=$r;case $r:if(1024&n.flags){for(;l<16;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(A[0]=255&c,A[1]=c>>>8&255,n.check=be(n.check,A,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=Zr;case Zr:if(1024&n.flags&&((f=n.length)>a&&(f=a),f&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+f),k)),512&n.flags&&4&n.wrap&&(n.check=be(n.check,r,f,o)),a-=f,o+=f,n.length-=f),n.length))break t;n.length=0,n.mode=Fr;case Fr:if(2048&n.flags){if(0===a)break t;f=0;do{k=r[o+f++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=be(n.check,r,f,o)),a-=f,o+=f,k)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=Wr;case Wr:if(4096&n.flags){if(0===a)break t;f=0;do{k=r[o+f++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=be(n.check,r,f,o)),a-=f,o+=f,k)break t}else n.head&&(n.head.comment=null);n.mode=Yr;case Yr:if(512&n.flags){for(;l<16;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}if(4&n.wrap&&c!==(65535&n.check)){t.msg="header crc mismatch",n.mode=gi;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Xr;break;case Kr:for(;l<32;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}t.adler=n.check=ki(c),c=0,l=0,n.mode=Vr;case Vr:if(0===n.havedict)return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=c,n.bits=l,Ur;t.adler=n.check=1,n.mode=Xr;case Xr:if(e===Cr||e===Pr)break t;case Qr:if(n.last){c>>>=7&l,l-=7&l,n.mode=fi;break}for(;l<3;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}switch(n.last=1&c,l-=1,3&(c>>>=1)){case 0:n.mode=ti;break;case 1:if(Pi(n),n.mode=si,e===Pr){c>>>=2,l-=2;break t}break;case 2:n.mode=ri;break;case 3:t.msg="invalid block type",n.mode=gi}c>>>=2,l-=2;break;case ti:for(c>>>=7&l,l-=7&l;l<32;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=gi;break}if(n.length=65535&c,c=0,l=0,n.mode=ei,e===Pr)break t;case ei:n.mode=ni;case ni:if(f=n.length){if(f>a&&(f=a),f>u&&(f=u),0===f)break t;i.set(r.subarray(o,o+f),s),a-=f,o+=f,u-=f,s+=f,n.length-=f;break}n.mode=Xr;break;case ri:for(;l<14;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=gi;break}n.have=0,n.mode=ii;case ii:for(;n.have<n.ncode;){for(;l<3;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}n.lens[I[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,S={bits:n.lenbits},E=xr(Ar,n.lens,0,19,n.lencode,0,n.work,S),n.lenbits=S.bits,E){t.msg="invalid code lengths set",n.mode=gi;break}n.have=0,n.mode=oi;case oi:for(;n.have<n.nlen+n.ndist;){for(;m=(x=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&x,!((g=x>>>24)<=l);){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}if(b<16)c>>>=g,l-=g,n.lens[n.have++]=b;else{if(16===b){for(T=g+2;l<T;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}if(c>>>=g,l-=g,0===n.have){t.msg="invalid bit length repeat",n.mode=gi;break}k=n.lens[n.have-1],f=3+(3&c),c>>>=2,l-=2}else if(17===b){for(T=g+3;l<T;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}l-=g,k=0,f=3+(7&(c>>>=g)),c>>>=3,l-=3}else{for(T=g+7;l<T;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}l-=g,k=0,f=11+(127&(c>>>=g)),c>>>=7,l-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=gi;break}for(;f--;)n.lens[n.have++]=k}}if(n.mode===gi)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=gi;break}if(n.lenbits=9,S={bits:n.lenbits},E=xr(Ir,n.lens,0,n.nlen,n.lencode,0,n.work,S),n.lenbits=S.bits,E){t.msg="invalid literal/lengths set",n.mode=gi;break}if(n.distbits=6,n.distcode=n.distdyn,S={bits:n.distbits},E=xr(Or,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,S),n.distbits=S.bits,E){t.msg="invalid distances set",n.mode=gi;break}if(n.mode=si,e===Pr)break t;case si:n.mode=ai;case ai:if(a>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=c,n.bits=l,vr(t,h),s=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,c=n.hold,l=n.bits,n.mode===Xr&&(n.back=-1);break}for(n.back=0;m=(x=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&x,!((g=x>>>24)<=l);){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}if(m&&0==(240&m)){for(w=g,_=m,y=b;m=(x=n.lencode[y+((c&(1<<w+_)-1)>>w)])>>>16&255,b=65535&x,!(w+(g=x>>>24)<=l);){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}c>>>=w,l-=w,n.back+=w}if(c>>>=g,l-=g,n.back+=g,n.length=b,0===m){n.mode=hi;break}if(32&m){n.back=-1,n.mode=Xr;break}if(64&m){t.msg="invalid literal/length code",n.mode=gi;break}n.extra=15&m,n.mode=ui;case ui:if(n.extra){for(T=n.extra;l<T;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ci;case ci:for(;m=(x=n.distcode[c&(1<<n.distbits)-1])>>>16&255,b=65535&x,!((g=x>>>24)<=l);){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}if(0==(240&m)){for(w=g,_=m,y=b;m=(x=n.distcode[y+((c&(1<<w+_)-1)>>w)])>>>16&255,b=65535&x,!(w+(g=x>>>24)<=l);){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}c>>>=w,l-=w,n.back+=w}if(c>>>=g,l-=g,n.back+=g,64&m){t.msg="invalid distance code",n.mode=gi;break}n.offset=b,n.extra=15&m,n.mode=li;case li:if(n.extra){for(T=n.extra;l<T;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=gi;break}n.mode=di;case di:if(0===u)break t;if(f=h-u,n.offset>f){if((f=n.offset-f)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=gi;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),v=n.window}else v=i,p=s-n.offset,f=n.length;f>u&&(f=u),u-=f,n.length-=f;do{i[s++]=v[p++]}while(--f);0===n.length&&(n.mode=ai);break;case hi:if(0===u)break t;i[s++]=n.length,u--,n.mode=ai;break;case fi:if(n.wrap){for(;l<32;){if(0===a)break t;a--,c|=r[o++]<<l,l+=8}if(h-=u,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=n.flags?be(n.check,i,h,s-h):ge(n.check,i,h,s-h)),h=u,4&n.wrap&&(n.flags?c:ki(c))!==n.check){t.msg="incorrect data check",n.mode=gi;break}c=0,l=0}n.mode=pi;case pi:if(n.wrap&&n.flags){for(;l<32;){if(0===a)break t;a--,c+=r[o++]<<l,l+=8}if(4&n.wrap&&c!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=gi;break}c=0,l=0}n.mode=vi;case vi:E=Gr;break t;case gi:E=Nr;break t;case mi:return jr;default:return Lr}return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,n.hold=c,n.bits=l,(n.wsize||h!==t.avail_out&&n.mode<gi&&(n.mode<fi||e!==Rr))&&Di(t,t.output,t.next_out,h-t.avail_out),d-=t.avail_in,h-=t.avail_out,t.total_in+=d,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=n.flags?be(n.check,i,h,t.next_out-h):ge(n.check,i,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Xr?128:0)+(n.mode===si||n.mode===ei?256:0),(0===d&&0===h||e===Rr)&&E===Dr&&(E=zr),E},inflateEnd:function(t){if(xi(t))return Lr;var e=t.state;return e.window&&(e.window=null),t.state=null,Dr},inflateGetHeader:function(t,e){if(xi(t))return Lr;var n=t.state;return 0==(2&n.wrap)?Lr:(n.head=e,e.done=!1,Dr)},inflateSetDictionary:function(t,e){var n,r=e.length;return xi(t)||0!==(n=t.state).wrap&&n.mode!==Vr?Lr:n.mode===Vr&&ge(1,e,r,0)!==n.check?Nr:Di(t,e,r,r)?(n.mode=mi,jr):(n.havedict=1,Dr)},inflateInfo:"pako inflate (from Nodeca project)"};function Ui(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Li=Ui,Ni=Object.prototype.toString,ji=_e.Z_NO_FLUSH,zi=_e.Z_FINISH,Bi=_e.Z_OK,Ji=_e.Z_STREAM_END,Mi=_e.Z_NEED_DICT,qi=_e.Z_STREAM_ERROR,Hi=_e.Z_DATA_ERROR,$i=_e.Z_MEM_ERROR;function Zi(t){this.options=Hn.assign({chunkSize:65536,windowBits:15,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Vn,this.strm.avail_out=0;var n=Gi.inflateInit2(this.strm,e.windowBits);if(n!==Bi)throw new Error(we[n]);if(this.header=new Li,Gi.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Yn.string2buf(e.dictionary):"[object ArrayBuffer]"===Ni.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Gi.inflateSetDictionary(this.strm,e.dictionary))!==Bi))throw new Error(we[n])}function Fi(t,e){var n=new Zi(e);if(n.push(t),n.err)throw n.msg||we[n.err];return n.result}function Wi(t,e){return(e=e||{}).raw=!0,Fi(t,e)}Zi.prototype.push=function(t,e){var n,r,i,o=this.strm,s=this.options.chunkSize,a=this.options.dictionary;if(this.ended)return!1;for(r=e===~~e?e:!0===e?zi:ji,"[object ArrayBuffer]"===Ni.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(s),o.next_out=0,o.avail_out=s),(n=Gi.inflate(o,r))===Mi&&a&&((n=Gi.inflateSetDictionary(o,a))===Bi?n=Gi.inflate(o,r):n===Hi&&(n=Mi));o.avail_in>0&&n===Ji&&o.state.wrap>0&&0!==t[o.next_in];)Gi.inflateReset(o),n=Gi.inflate(o,r);switch(n){case qi:case Hi:case Mi:case $i:return this.onEnd(n),this.ended=!0,!1}if(i=o.avail_out,o.next_out&&(0===o.avail_out||n===Ji))if("string"===this.options.to){var u=Yn.utf8border(o.output,o.next_out),c=o.next_out-u,l=Yn.buf2string(o.output,u);o.next_out=c,o.avail_out=s-c,c&&o.output.set(o.output.subarray(u,u+c),0),this.onData(l)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(n!==Bi||0!==i){if(n===Ji)return n=Gi.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},Zi.prototype.onData=function(t){this.chunks.push(t)},Zi.prototype.onEnd=function(t){t===Bi&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Hn.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Yi,Ki,Vi,Xi,Qi,to,eo,no,ro,io,oo,so,ao,uo,co,lo,ho,fo,po={Inflate:Zi,inflate:Fi,inflateRaw:Wi,ungzip:Fi,constants:_e},vo=hr.Deflate,go=hr.deflate,mo=hr.deflateRaw,bo=hr.gzip,wo=po.Inflate,_o=po.inflate,yo=po.inflateRaw,ko=po.ungzip,Eo={Deflate:vo,deflate:go,deflateRaw:mo,gzip:bo,Inflate:wo,inflate:_o,inflateRaw:yo,ungzip:ko,constants:_e};class So{constructor(e,n,r,i=t.SDK_TYPE.WEB){Yi.add(this),Ki.set(this,void 0),Vi.set(this,void 0),Xi.set(this,void 0),Qi.set(this,void 0),to.set(this,void 0),eo.set(this,void 0),no.set(this,void 0),ro.set(this,void 0),io.set(this,void 0),oo.set(this,1e4),so.set(this,void 0),G(this,Ki,[],"f"),G(this,Xi,e,"f"),G(this,Vi,n,"f"),G(this,Qi,!1,"f"),G(this,to,!1,"f"),G(this,no,void 0,"f"),G(this,ro,!0,"f"),G(this,io,!1,"f"),G(this,eo,!1,"f"),G(this,oo,null!=r?r:1e4,"f"),G(this,so,i,"f")}send(t){const e=t;return Reflect.deleteProperty(e,"#sdk_type"),Reflect.deleteProperty(e,"#ts_s"),!(P.dataSize(e,128)&&(D(this,Ki,"f").push(e),D(this,Vi,"f")&&D(this,Yi,"m",ho).call(this),D(this,ro,"f")&&(G(this,ro,!1,"f"),D(this,Yi,"m",ho).call(this)),D(this,io,"f")&&D(this,Yi,"m",ho).call(this),D(this,Ki,"f").length>So.maxCacheSize&&D(this,Ki,"f").shift(),D(this,Yi,"m",co).call(this),!D(this,to,"f")&&!D(this,eo,"f")&&D(this,Ki,"f").length>=So.maxDataSize&&(D(this,Yi,"m",ho).call(this),0)))}flush(){G(this,Qi,!0,"f"),D(this,eo,"f")||D(this,Yi,"m",ho).call(this)}}Ki=new WeakMap,Vi=new WeakMap,Xi=new WeakMap,Qi=new WeakMap,to=new WeakMap,eo=new WeakMap,no=new WeakMap,ro=new WeakMap,io=new WeakMap,oo=new WeakMap,so=new WeakMap,Yi=new WeakSet,ao=function(t){return Eo.gzip(t)},uo=function(){clearTimeout(D(this,no,"f")),G(this,io,!1,"f"),G(this,no,void 0,"f")},co=function(){D(this,no,"f")||G(this,no,setTimeout((()=>{D(this,Yi,"m",uo).call(this),G(this,io,!0,"f"),D(this,Yi,"m",ho).call(this)}),D(this,oo,"f")),"f")},lo=async function(){const e=D(this,Ki,"f").slice(0,So.maxReportNum),n={"#ts_s":Date.now(),"#sdk_type":D(this,so,"f")===t.SDK_TYPE.WEB?"Web JS":"JavaScript",data:e};return[await D(this,Yi,"m",ao).call(this,JSON.stringify(n)),e.length]},ho=async function t(e=0){var n,r;if(D(this,to,"f"))return;if(!(null===(n=D(this,Ki,"f"))||void 0===n?void 0:n.length))return void G(this,Qi,!1,"f");G(this,to,!0,"f"),D(this,Yi,"m",uo).call(this);const i=[1,4,9,16,25,36,49,64,81,100],[o,s]=await D(this,Yi,"m",lo).call(this),a=null!==(r=i[e])&&void 0!==r?r:i.at(-1);return D(this,Yi,"m",fo).call(this,o).then((()=>{var e;D(this,Ki,"f").splice(0,s),G(this,to,!1,"f"),G(this,eo,!1,"f"),(D(this,Qi,"f")||(null===(e=D(this,Ki,"f"))||void 0===e?void 0:e.length)>=So.maxDataSize||D(this,Vi,"f"))&&D(this,Yi,"m",t).call(this),D(this,Yi,"m",uo).call(this),D(this,Yi,"m",co).call(this)})).catch((()=>{D(this,Yi,"m",uo).call(this),G(this,eo,!0,"f"),G(this,no,setTimeout((()=>{D(this,Yi,"m",uo).call(this),D(this,Yi,"m",t).call(this,e+1)}),1e3*a),"f"),G(this,to,!1,"f")}))},fo=async function(t){return P.dataSize(t,63),fetch(`${D(this,Xi,"f")}/batch_event`,{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",keepalive:!1,headers:{"Content-Type":"application/json","Content-Encoding":"gzip"},redirect:"follow",referrerPolicy:"same-origin",body:t})},So.maxCacheSize=1e3,So.maxReportNum=100,So.maxDataSize=50;let To=null;const xo=function(){return To},Ao=function(){var t,e,n,r,i;if(!To){const o=null!==(t=null===navigator||void 0===navigator?void 0:navigator.userAgent)&&void 0!==t?t:"",s=_(o);To={"#ua":o,"#os":null!==(e=s.os.name)&&void 0!==e?e:"","#os_ver":null!==(n=s.os.version)&&void 0!==n?n:"","#browser":null!==(r=s.browser.name)&&void 0!==r?r:"","#browser_ver":null!==(i=s.browser.version)&&void 0!==i?i:""}}},Io=new Map;function Oo(){return"undefined"!=typeof window&&"function"==typeof window.gtag&&Array.isArray(window.dataLayer)}function Ro(t){if("undefined"==typeof document)return!1;const e=document.getElementsByTagName("script"),n=`https://www.googletagmanager.com/gtag/js?id=${t}`;for(let t=0;t<e.length;t++)if(e[t].src===n)return!0;return!1}function Co(t){return Ro(t)?Promise.resolve():new Promise(((e,n)=>{let r=!1,i=null,o=null,s=null;const a=5e3,u=()=>{i&&(clearInterval(i),i=null),o&&(clearTimeout(o),o=null),s&&(clearTimeout(s),s=null)},c=()=>{r||(r=!0,u(),e())},l=t=>{r||(r=!0,u(),n(t))};s=setTimeout((()=>{l(new Error("GA4 script injection timeout after 5s"))}),a);try{window.dataLayer||(window.dataLayer=[]);const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,e.onerror=()=>{l(new Error("Failed to load GA4 script"))},e.onload=()=>{const e=document.createElement("script");e.textContent=`\n                    window.dataLayer = window.dataLayer || [];\n                    function gtag(){dataLayer.push(arguments);}\n                    gtag('js', new Date());\n                    gtag('config', '${t}');\n                `,document.head.appendChild(e),i=setInterval((()=>{Oo()&&c()}),50),o=setTimeout((()=>{Oo()||l(new Error("GA4 script loaded but gtag function not available"))}),a)},document.head.appendChild(e)}catch(t){l(t instanceof Error?t:new Error("Unknown error in injectGA4Script"))}}))}function Po(t,e){return new Promise(((n,r)=>{if(!Oo())return void r(new Error("GA4 is not loaded"));let i=!1;const o=setTimeout((()=>{i||(i=!0,r(new Error("Timeout while getting clientId")))}),e);try{if(!window.gtag)return void r(new Error("gtag function is not available"));window.gtag("get",t,"client_id",(t=>{i||(i=!0,clearTimeout(o),t&&"string"==typeof t&&t.length>0?n(t):r(new Error("Invalid clientId received: "+typeof t)))}))}catch(t){i||(i=!0,clearTimeout(o),r(t instanceof Error?t:new Error("Unknown error in gtag call")))}}))}function Do(){if("undefined"==typeof document)return null;try{const t=document.cookie.split(";");for(const e of t){const[t,n]=e.trim().split("=");if(t.startsWith("_ga")&&n){const t=n.split(".");if(t.length>=4)return`${t[2]}.${t[3]}`}}}catch(t){}return null}async function Go(t){const{measurementId:e,autoInject:n=!0,timeout:r=5e3}=t;if("undefined"==typeof window||"undefined"==typeof document)return{success:!1,clientId:null,error:"Not in browser environment"};try{if(n&&!Oo()&&await Co(e),Oo())try{const t=await Po(e,r);if(t)return Io.set(e,t),{success:!0,clientId:t}}catch(t){const n=Do();return n?(Io.set(e,n),{success:!0,clientId:n}):{success:!1,clientId:null,error:t instanceof Error?t.message:"Failed to get clientId"}}const t=Do();return t?(Io.set(e,t),{success:!0,clientId:t}):{success:!1,clientId:null,error:"GA4 is not loaded and no clientId found in cookies"}}catch(t){return{success:!1,clientId:null,error:t instanceof Error?t.message:"Unknown error"}}}async function Uo(t){const{measurementId:e}=t;if(!e||"string"!=typeof e)return{success:!1,clientId:null,error:"Invalid measurementId"};const n=Io.get(e);return n?{success:!0,clientId:n}:Go(t)}class Lo{constructor(){this._user=this.getUser(),this._sdk=this.initSDK(),this._log={},this._global={},this._preset={}}getUser(){const t=u();return{"#sdid_c":null!=t?t:""}}initSDK(){return{"#sdk_type":"JavaScript","#sdk_vn":"4.2.0","#sdk_vc":"1"}}getInnerScope(t,...e){const n=this.getGlobal(t),r=this.getCommonScope(),i=this._preset;return Object.assign(Object.assign(Object.assign({},i),r),n)}getCommonScope(){return Object.assign(Object.assign(Object.assign({},this._user),this._sdk),this._log)}getCommonProperty(t){var e;return null===(e=this.getCommonScope())||void 0===e?void 0:e[t]}getGlobal(t){return st.get(t)}setGlobal(t,e){const n=this.getGlobal(t),r=Object.assign({},n,e);st.set(t,r)}unsetGlobal(t,e){const n=this.getGlobal(t),r=this._delProperty(n,e);return r&&st.set(t,n),r}clearGlobal(t){const e={};st.set(t,e)}setUser(t){return this._user["#user_id"]=t,this._delProperty(this._user,["#character_id","#server_id"])}unsetUser(){return this._delProperty(this._user,["#user_id","#character_id","#server_id"])}setCharacter(t,e){return this._user["#character_id"]=t,this._user["#server_id"]=e,!0}unsetCharacter(){return this._delProperty(this._user,["#character_id","#server_id"])}setPreset(t){return this._preset=t,!0}getPreset(){return this._preset}static _clone(t){const e=new Lo;return t&&(e._user=Object.assign({},t._user),e._sdk=Object.assign({},t._sdk),e._log=Object.assign({},t._log),e._global=Object.assign({},t._global)),e}_delProperty(t,e){try{const n=Array.isArray(e)?e:[e];for(const e of n)Reflect.deleteProperty(t,e);return!0}catch(t){return console.log("属性删除失败，请提供正确的参数"),!1}}}class No{constructor(t){var e;this._hookListener={},this._argSize=null!==(e=null==t?void 0:t.length)&&void 0!==e?e:0}call(t){const e=Object.values(this._hookListener).flat();for(const t of e)t(null)}tap(t,e){var n,r,i;(null===(n=this._hookListener)||void 0===n?void 0:n[t])?null===(i=null===(r=this._hookListener)||void 0===r?void 0:r[t])||void 0===i||i.push(e):this._hookListener[t]=[e]}size(t){var e,n,r;return null!==(r=null===(n=null===(e=this._hookListener)||void 0===e?void 0:e[t])||void 0===n?void 0:n.length)&&void 0!==r?r:0}tapWithInstanceId(t,e,n){var r;const i=`${t}:${e}`;(null===(r=this._hookListener)||void 0===r?void 0:r[i])&&delete this._hookListener[i],this._hookListener[i]=[n]}sizeWithInstanceId(t,e){var n,r,i;const o=`${t}:${e}`;return null!==(i=null===(r=null===(n=this._hookListener)||void 0===n?void 0:n[o])||void 0===r?void 0:r.length)&&void 0!==i?i:0}removeInstanceHandler(t,e){var n;const r=`${t}:${e}`;(null===(n=this._hookListener)||void 0===n?void 0:n[r])&&delete this._hookListener[r]}}class jo{constructor(){this.hook={init:new No(["arg1"]),pageShow:new No(["arg1"]),hashChange:new No(["arg1"]),pushState:new No(["arg1"]),replaceState:new No(["arg1"]),changeState:new No(["arg1"]),pageHide:new No(["arg1"]),exception:new No(["arg1"]),scopeChange:new No(["arg1"]),beforeTrace:new No(["arg1"])},this._initHook()}static getInstance(){return jo._instance||(jo._instance=new jo),jo._instance}_initHook(){jo._isInitialized||(this._pageShow(),this._hashChange(),this._pageHide(),this._changeState(),jo._isInitialized=!0)}_pageShow(){addEventListener("pageshow",(()=>{this.hook.pageShow.call({})}))}_changeState(){if(history.pushState.__wrapped)return;function t(t){const e=history[t];return(...n)=>{const r=new Event(t);return dispatchEvent(r),e.apply(history,n)}}const e=()=>{setTimeout((()=>{this.hook.changeState.call({})}),0)},n=t("pushState"),r=t("replaceState");n.__wrapped=!0,r.__wrapped=!0,history.pushState=n,history.replaceState=r,addEventListener("pushState",e),addEventListener("replaceState",e)}_hashChange(){addEventListener("hashchange",(()=>{this.hook.hashChange.call({})}))}_pageHide(){addEventListener("pagehide",(()=>{this.hook.pageHide.call({})}))}exception(){this.hook.exception.call({})}scopeChange(){this.hook.scopeChange.call({})}beforeTrace(){this.hook.beforeTrace.call({})}}jo._instance=null,jo._isInitialized=!1;var zo=function(t,e){return t?e.reduce((function(e,n){return Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]),e}),{}):{}};const Bo="AD_TRACK",Jo=["hg_media","hg_partner","hg_link_code","hg_link_name","hg_link_campaign","hg_link_ad","hg_link_adset","hg_keyword_id","hg_keyword","hg_campaign_id","hg_campaign","hg_adset_id","hg_adset","hg_ad_id","hg_ad","hg_tracking_id","hg_raw0"],Mo="_hg_tracking_key",qo="_hg_raw0_key",Ho=[{targetField:"hg_tracking_id",mappingRules:{bilibili:"trackid",oceanengine:"clickid",weibo:"mark_id",qqad:["qz_gdt","gdt_vid"],tencentsogou:["qz_gdt","gdt_vid"],kuaishou:"callback",baidusearch:"bd_vid","360displayad":"sourceid",google:"gclid",meta:"fbclid",twitch:"clickId",pwn:"transaction_id",macan:"sid"},internalKey:Mo,defaultFallbackKey:"tracking_id"},{targetField:"hg_raw0",mappingRules:{twitch:"deploymentId",macan:"gid"},internalKey:qo,defaultFallbackKey:"deploymentId"}];function $o(t){return[...t].reduce(((t,[e,n])=>(t[e]=n,t)),{})}function Zo(t){const e=Object.assign({},t);return delete e[Mo],delete e[qo],e}function Fo(t,e,n){const r=n.mappingRules[e];if(!r)return{value:null,usedMappingKey:null};const i=Array.isArray(r)?r:[r];for(const e of i){const n=t[e];if(null!=n&&""!==n)return{value:n,usedMappingKey:e}}return{value:null,usedMappingKey:null}}function Wo(t,e,n){const r=t[n.internalKey];if(r)return r;const i=n.mappingRules[e];return i?Array.isArray(i)?i[0]:i:n.defaultFallbackKey}function Yo(t,e,n){for(const r of Ho){const i=t[r.targetField];i&&(t[Wo(e,n,r)]=i,delete t[r.targetField])}}function Ko(t){return $o(Object.entries(Zo(t)).map((([t,e])=>[Jo.includes(t)?t.replace("hg_","#"):t,e])))}function Vo(t){return $o(Object.entries(t).filter((([t])=>!Jo.includes(t))))}function Xo(){const t=E(location.href),{params:e}=t,n=$o(Object.entries(zo(e,Jo)).filter((([,t])=>null!=t&&""!==t))),r=n.hg_media;for(const t of Ho)if(r&&t.mappingRules[r]){const{value:i,usedMappingKey:o}=Fo(e,r,t);null!=i&&""!==i?(n[t.targetField]=i,o&&(n[t.internalKey]=o)):delete n[t.targetField]}else delete n[t.targetField];return Object.assign({},n)}var Qo,ts,es;class ns{constructor(t,e){Qo.add(this),this._options=t,this._trace=e,this._scope=e.getScope(),this._hook=jo.getInstance().hook,this._seq=1,this._instanceId=`${t.appId}_${Date.now()}_${Math.random().toString(36).slice(2,9)}`;const n=new So(D(this,Qo,"m",es).call(this),!!(null==t?void 0:t.enableRealTimeSend),null==t?void 0:t.sendTime,null==t?void 0:t.sdkType);this._report=n}setPresetProperties(t){var e;return!t||!P.presetParams(t)||(null===(e=this._scope)||void 0===e||e.setPreset(t),!0)}setGlobalProperties(t,e){var n,r;return!t||!P.params(t,this._options.sdkType)||(null===(r=null===(n=this._scope)||void 0===n?void 0:n.setGlobal)||void 0===r||r.call(n,null!=e?e:this._options.appId,t),!0)}unsetGlobalProperties(t){var e,n,r,i;if(!t||!Array.isArray(t))return!0;for(const e of t)if(!P.blackName(e,this._options.sdkType))return console.log(`属性 ${e} 在黑名单内，无法销毁`),!0;return null===(n=null===(e=this._scope)||void 0===e?void 0:e.unsetGlobal)||void 0===n||n.call(e,this._options.appId,t),null===(i=null===(r=this._scope)||void 0===r?void 0:r.unsetGlobal)||void 0===i||i.call(r,Bo,t),!0}clearGlobalProperties(){var t,e;null===(e=null===(t=this._scope)||void 0===t?void 0:t.clearGlobal)||void 0===e||e.call(t,this._options.appId)}event(t,e,n=!1){return!t||"string"!=typeof t||!n&&!P.presetName(t,this._options.sdkType)||D(this,Qo,"m",ts).call(this,t,Object.assign({},e))}rmNull(t){const e={};for(const n in t)Object.is(t[n],null)||(e[n]=t[n]);return e}setUser(t){var e,n,r;return!P.keySize(t)||(null===(r=null===(n=null===(e=this._scope)||void 0===e?void 0:e.setUser)||void 0===n?void 0:n.call(e,t))||void 0===r||r)}unsetUser(){var t,e;null===(e=null===(t=this._scope)||void 0===t?void 0:t.unsetUser)||void 0===e||e.call(t)}userLoginEvent(t,e){var n,r,i;if(!P.keySize(t)||!P.params(null!=e?e:{}))return!0;const o=null===(i=null===(r=null===(n=this._scope)||void 0===n?void 0:n.setUser)||void 0===r?void 0:r.call(n,t))||void 0===i||i;return o&&this.event("#user_login",Object.assign({},e),!0),o}setCharacter(t,e){var n,r,i;return!P.keySize(t)||!P.keySize(e)||(null===(i=null===(r=null===(n=this._scope)||void 0===n?void 0:n.setCharacter)||void 0===r?void 0:r.call(n,t,e))||void 0===i||i)}unsetCharacter(){var t,e;null===(e=null===(t=this._scope)||void 0===t?void 0:t.unsetCharacter)||void 0===e||e.call(t)}characterLoginEvent(t,e,n){var r,i,o;if(!P.keySize(t)||!P.keySize(e)||!P.params(null!=n?n:{},this._options.sdkType))return!0;const s=null===(o=null===(i=null===(r=this._scope)||void 0===r?void 0:r.setCharacter)||void 0===i?void 0:i.call(r,t,e))||void 0===o||o;return s&&this.event("#character_login",Object.assign({},n),!0),s}flush(){var t;null===(t=this._report)||void 0===t||t.flush()}}Qo=new WeakSet,ts=function(t,e){var n;if(!P.params(null!=e?e:{},this._options.sdkType))return!0;let r=null===(n=this._scope)||void 0===n?void 0:n.getInnerScope(this._options.appId);return r=Object.assign({},r,e,{"#name":t,"#app_id":this._options.appId,"#seq":this._seq++,"#ts_c":Date.now()}),P.dataSize(r)?(r=this.rmNull(r),this._report.send(r),!0):(console.log("data oversize!"),!0)},es=function(){var t;return{"dev-cn":"https://event-log-api-data-lake-dev-cn.hypergryph.net","staging-cn":"https://event-log-api-data-lake-staging-cn.hypergryph.net","prod-cn":"https://event-log-api-data-lake-prod-cn.hypergryph.com","dev-sg":"https://event-log-api-data-platform-data-lake-dev.gryphline.net","staging-sg":"https://event-log-api-data-platform-data-lake-staging.gryphline.net","prod-sg":"https://event-log-api-data-platform-data-lake-prod.gryphline.com"}[`${null!==(t=this._options.env)&&void 0!==t?t:"prod"}-${this._options.regionTag}`]};let rs=null;const is=function(){return rs},os=function(){if(!rs){const t=v(),e=o();let n=s();!d(n)&&e&&(n=e,a(e));let r=c();d(r)||(r=n,l(r)),rs={"#sdid_c":null!=e?e:"","#sdid_s":null!=n?n:"","#device_id":null!=r?r:"","#tracking_code":null!=t?t:""}}},ss="GA4_CLIENT_ID",as="G-V1KBM9EQ75";let us=null;function cs(t){const e=(null==t?void 0:t.measurementId)?t:Object.assign(Object.assign({},t),{measurementId:as});us=Uo(e).then((t=>{t.success&&t.clientId?st.set(ss,{"#ga_client_id":t.clientId}):console.warn(`[EventLog] Failed to get GA4 clientId: ${t.error||"Unknown error"}`)})).catch((t=>{console.warn("[EventLog] Error while getting GA4 clientId:",t instanceof Error?t.message:t)})).then((()=>{}))}function ls(){return us}function ds(){return st.get(ss)||{}}class hs extends Lo{constructor(){super(),this._page={},this._pv={},this._url=this.getURL(),this._ua=this.getUA()}initSDK(){return{"#sdk_type":"Web JS","#sdk_vn":"4.2.0","#sdk_vc":"1"}}getUser(){const t=is();return t?Object.assign({},t):(console.warn("[EventLog] User info not initialized, please call initWebJSWithConfig first"),{"#sdid_c":"","#sdid_s":"","#device_id":"","#tracking_code":""})}getUA(){var t,e,n,r,i;const o=xo();if(o)return o;const s=null!==(t=null===navigator||void 0===navigator?void 0:navigator.userAgent)&&void 0!==t?t:"",a=_(s);return{"#ua":s,"#os":null!==(e=a.os.name)&&void 0!==e?e:"","#os_ver":null!==(n=a.os.version)&&void 0!==n?n:"","#browser":null!==(r=a.browser.name)&&void 0!==r?r:"","#browser_ver":null!==(i=a.browser.version)&&void 0!==i?i:""}}getURL(){var t;const e=location.href,n=document.referrer,{pathname:r,hash:i}=y(e),{host:o}=y(n);return{"#url":e,"#url_path":null!==(t=i?r+i:r)&&void 0!==t?t:"","#referrer":n,"#referrer_host":null!=o?o:"","#title":document.title}}getGA4ClientId(){return st.get(ss)||{}}getInnerScope(t,e,n){var r;const{enableAdTrack:i}=n,o=this.getGlobal(t,i,i),s=this.getAppProperties(t),a=i?(()=>{const t=st.get(Bo);return t?Ko(t):{}})():{},u=this.getGA4ClientId(),c=this.getCommonScope(),l=this._preset,d=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a),l),c),o),s),u),h=null!==(r=this._page[e])&&void 0!==r?r:{};return Object.assign(Object.assign({},d),h)}getCommonScope(){const t=super.getCommonScope();return Object.assign(Object.assign(Object.assign({},t),this.getURL()),this._ua)}setPage(t,e){var n;const r=null!==(n=this._page[t])&&void 0!==n?n:{};this._page[t]=Object.assign({},r,e)}static _clone(t){const e=new hs;return t&&(e._user=Object.assign({},t._user),e._ua=e.getUA(),e._url=Object.assign({},t._url),e._sdk=Object.assign({},t._sdk),e._page=Object.assign({},t._page),e._log=Object.assign({},t._log),e._global=Object.assign({},t._global)),e}getGlobal(t,e=!1,n=!0){var r;try{let i=st.get(t);if(!i){const e=null!==(r=localStorage.getItem(t))&&void 0!==r?r:"{}";i=JSON.parse(e),st.set(t,i)}return e?n?Ko(i):Zo(i):Vo(i)}catch(t){return{}}}setGlobal(t,e){const n=this.getGlobal(t,!0,!1),r=Object.assign({},n,e);localStorage.setItem(t,JSON.stringify(r)),st.set(t,r)}unsetGlobal(t,e){const n=this.getGlobal(t,!0,!1),r=this._delProperty(n,e);return r&&(localStorage.setItem(t,JSON.stringify(n)),st.set(t,n)),r}clearGlobal(t){const e=this.getGlobal(t,!0,!1),n=Object.keys(e).reduce(((t,n)=>(Jo.some((t=>n.startsWith(t)))&&(t[n]=e[n]),t)),{});localStorage.setItem(t,JSON.stringify(n)),st.set(t,n)}setAppProperties(t,e){const n=`${t}_appProperties`,r=st.get(n)||{},i=Object.assign({},r,e);st.set(n,i)}getAppProperties(t){const e=`${t}_appProperties`;return st.get(e)||{}}}class fs{constructor(e=t.SDK_TYPE.WEB,n){this._stack=[{}];const r=(C(e)?hs:Lo)._clone();this._sdkType=e,this.getStackTop().scope=r,n&&this.bindClient(n)}bindClient(t){this.getStackTop().client=t}withScope(t){const e=this.pushScope();try{t(e)}finally{this.popScope()}}_withClient(t){const{scope:e,client:n}=this.getStackTop();n&&t(n,e)}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}pushScope(){const t=(C(this._sdkType)?hs:Lo)._clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}getScope(){return this.getStackTop().scope}getClient(){return this.getStackTop().client}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}}var ps,vs,gs,ms;class bs extends ns{constructor(t,e){super(t,e),ps.add(this),this._options=t,this._scope=e.getScope()}async getGA4ClientId(t){const e=ds();if(e["#ga_client_id"])return e["#ga_client_id"];let n=t||this._options.ga4;n?n.measurementId||(n=Object.assign(Object.assign({},n),{measurementId:as})):n={measurementId:as};try{const t=await Uo(n);return t.success&&t.clientId?(st.set(ss,{"#ga_client_id":t.clientId}),t.clientId):(console.warn(`[EventLog] Failed to get GA4 clientId: ${t.error||"Unknown error"}`),null)}catch(t){return console.warn("[EventLog] Error while getting GA4 clientId:",t instanceof Error?t.message:t),null}}setPresetProperties(){return console.warn("setPresetProperties is not supported in web client"),!0}setPageProperties(e){var n,r;if(!e)return!0;const i=D(this,ps,"m",vs).call(this);return"string"!=typeof i||!P.params(e,t.SDK_TYPE.WEB)||(null===(r=null===(n=this._scope)||void 0===n?void 0:n.setPage)||void 0===r||r.call(n,i,e),!0)}setAppProperties(e,n){var r,i;return!e||!P.params(e,t.SDK_TYPE.WEB)||(null===(i=null===(r=this._scope)||void 0===r?void 0:r.setAppProperties)||void 0===i||i.call(r,null!=n?n:this._options.appId,e),!0)}getAdTrackParams(t=!0){var e,n,r;const i=null!==(n=null===(e=this._scope)||void 0===e?void 0:e.getGlobal(this._options.appId,!0,!1))&&void 0!==n?n:{},o=null!==(r=st.get(Bo))&&void 0!==r?r:{},s=Object.assign({},i,o),a=Zo(Jo.reduce(((t,e)=>(e in s&&(t[e]=String(s[e])),t)),{}));return t&&a.hg_media&&Yo(a,o,a.hg_media),JSON.stringify(a)}getAdTrackProperties(){return JSON.stringify(Ko(JSON.parse(this.getAdTrackParams(!1))))}getTrackingCode(){return f()}cleanupHandlers(){var t,e,n,r,i,o;"history"===this._options.routeChange&&(null===(n=null===(e=null===(t=this._hook)||void 0===t?void 0:t.changeState)||void 0===e?void 0:e.removeInstanceHandler)||void 0===n||n.call(e,this._instanceId,"pageView")),"hash"===this._options.routeChange&&(null===(o=null===(i=null===(r=this._hook)||void 0===r?void 0:r.hashChange)||void 0===i?void 0:i.removeInstanceHandler)||void 0===o||o.call(i,this._instanceId,"pageView"))}pageViewEvent(e){return!P.params(null!=e?e:{},t.SDK_TYPE.WEB)||(this.event("#page_view",Object.assign({},e),!0),!0)}autoPageViewEvent(){var t,e,n,r,i,o,s,a,u,c,l,d,h,f;const p=()=>{this.event("#page_view",{},!0)},v=()=>{this.event("#page_view",{},!0)};return"history"===this._options.routeChange&&(null===(r=null===(n=null===(e=null===(t=this._hook)||void 0===t?void 0:t.changeState)||void 0===e?void 0:e.sizeWithInstanceId)||void 0===n?void 0:n.call(e,this._instanceId,"pageView"))||void 0===r||!r)&&(null===(s=null===(o=null===(i=this._hook)||void 0===i?void 0:i.changeState)||void 0===o?void 0:o.tapWithInstanceId)||void 0===s||s.call(o,this._instanceId,"pageView",p)),"hash"===this._options.routeChange&&(null===(l=null===(c=null===(u=null===(a=this._hook)||void 0===a?void 0:a.hashChange)||void 0===u?void 0:u.sizeWithInstanceId)||void 0===c?void 0:c.call(u,this._instanceId,"pageView"))||void 0===l||!l)&&(null===(f=null===(h=null===(d=this._hook)||void 0===d?void 0:d.hashChange)||void 0===h?void 0:h.tapWithInstanceId)||void 0===f||f.call(h,this._instanceId,"pageView",v)),!0}event(e,n,r=!1){return!e||"string"!=typeof e||!r&&!P.presetName(e,t.SDK_TYPE.WEB)||D(this,ps,"m",gs).call(this,e,Object.assign({},n))}}ps=new WeakSet,vs=function(){var t,e,n,r;const i="hash"===this._options.routeChange,o=null!==(e=null===(t=y())||void 0===t?void 0:t.pathname)&&void 0!==e?e:"",s=null!==(r=null===(n=y())||void 0===n?void 0:n.hash)&&void 0!==r?r:"";return i?`${o}${s}`:`${o}`},gs=function(t,e){if(this._options.enableGA4){if(ds()["#ga_client_id"])return D(this,ps,"m",ms).call(this,t,e);const n=ls();if(n)return n.then((()=>{D(this,ps,"m",ms).call(this,t,e)})),!0}return D(this,ps,"m",ms).call(this,t,e)},ms=function(e,n){var r,i;const o=D(this,ps,"m",vs).call(this);if(!P.params(null!=n?n:{},t.SDK_TYPE.WEB))return!0;let s=null!==(i=null===(r=this._scope)||void 0===r?void 0:r.getInnerScope(this._options.appId,o,this._options))&&void 0!==i?i:{};return s=Object.assign({},s,n,{"#name":e,"#app_id":this._options.appId,"#seq":this._seq++,"#ts_c":Date.now()}),P.dataSize(s)?(s=this.rmNull(s),this._report.send(s),!0):(console.log("data oversize!"),!0)};const ws={[t.SDK_TYPE.WEB]:{},[t.SDK_TYPE.JS]:{}},_s={};function ys(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function ks(e){return!_s[e]||(console.warn(`[EventLog] ${e===t.SDK_TYPE.WEB?"WEB":"Native"} SDK 已经初始化过，不允许重复调用`),!1)}function Es(){const e=Xo();if(P.params(e,t.SDK_TYPE.WEB)&&Object.keys(e).length>0)try{st.set(Bo,e),localStorage.setItem(Bo,JSON.stringify(e))}catch(t){console.warn("[EventLog] Failed to initialize ad track properties:",t)}else try{const t=localStorage.getItem(Bo);if(t){const e=JSON.parse(t);st.set(Bo,e)}}catch(t){console.warn("[EventLog] Failed to sync ad track properties from localStorage:",t)}}const Ss=function(e){if(!ks(t.SDK_TYPE.WEB))return!1;const n=["env","regionTag","enableRealTimeSend","routeChange","enableAdTrack","enableGA4","sendTime","ga4"];if(P.strictValidateOptions(e,n),e.enableGA4&&e.ga4&&ys(e.ga4)&&void 0!==e.ga4.measurementId&&("string"!=typeof e.ga4.measurementId||""===e.ga4.measurementId))return console.error("初始化失败: ga4.measurementId 必须是字符串类型且不能为空字符串"),!1;const r=e.enableGA4&&e.ga4&&ys(e.ga4)&&!e.ga4.measurementId?Object.assign(Object.assign({},e.ga4),{measurementId:as}):e.ga4,i=Object.assign(Object.assign({enableAdTrack:!0},e),{ga4:r,sdkType:t.SDK_TYPE.WEB,appId:""});return!!P.initOptions(i)&&(Ao(),os(),i.enableAdTrack&&Es(),i.enableGA4&&cs(i.ga4),_s[t.SDK_TYPE.WEB]=i,!0)},Ts=function(e){if(!ks(t.SDK_TYPE.JS))return!1;const n=["env","regionTag","enableRealTimeSend","sendTime"];P.strictValidateOptions(e,n);const r=Object.assign(Object.assign({},e),{sdkType:t.SDK_TYPE.JS,appId:""});return!!P.initOptions(r)&&(_s[t.SDK_TYPE.JS]=r,!0)};function xs(e,n){const r=n===t.SDK_TYPE.WEB?t.SDK_TYPE.JS:t.SDK_TYPE.WEB;if(ws[r][e]){const i=r===t.SDK_TYPE.WEB?"WEB":"Native",o=n===t.SDK_TYPE.WEB?"WEB":"Native";throw new Error(`初始化失败: appId "${e}" 已经在 ${i} SDK 中初始化，不能同时在 ${o} SDK 中初始化`)}}function As(e){const n=_s[t.SDK_TYPE.WEB],r=_s[t.SDK_TYPE.JS];let i,o;if(void 0!==e)if(e===t.SDK_TYPE.WEB){if(!n)throw new Error("请先调用 initWebJSWithConfig 进行 WEB SDK 初始化");i=n,o=t.SDK_TYPE.WEB}else{if(e!==t.SDK_TYPE.JS)throw new Error(`不支持的 SDK 类型: ${e}`);if(!r)throw new Error("请先调用 initNativeWithConfig 进行 Native SDK 初始化");i=r,o=t.SDK_TYPE.JS}else if(n&&r)i=n,o=t.SDK_TYPE.WEB;else if(n)i=n,o=t.SDK_TYPE.WEB;else{if(!r)throw new Error("请先调用 initWebJSWithConfig 或 initNativeWithConfig进行sdk初始化");i=r,o=t.SDK_TYPE.JS}return{savedOptions:i,sdkType:o}}const Is=function(t,e){if(!P.keySize(t))throw new Error("初始化失败: appId 无效，必须是不超过128字符的字符串");const{savedOptions:n,sdkType:r}=As(e),i=ws[r][t];if(i)return C(r),i;xs(t,r);const o=Object.assign({},n,{appId:t}),s=Os(t,r),a=C(r)?new bs(o,s):new ns(o,s);s.bindClient(a);const u=s.getClient();return ws[r][t]=u,C(r),u},Os=function(t,e){return Rs(t,(()=>new fs(e)))};function Rs(t,e){let n=R(t);return n||(n=e())}const Cs=function(t){return _s[t]||null};var Ps={initWebJSWithConfig:Ss,initNativeWithConfig:Ts,getInstance:Is};t.default=Ps,t.getInstance=Is,t.getSavedOptions=Cs,t.initNativeWithConfig=Ts,t.initWebJSWithConfig=Ss,Object.defineProperty(t,"__esModule",{value:!0})}(e)},7484:function(t){t.exports=function(){"use strict";var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",o="minute",s="hour",a="day",u="week",c="month",l="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},b={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),o=n-i<0,s=e.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:u,d:a,D:h,h:s,m:o,s:i,ms:r,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},w="en",_={};_[w]=g;var y=function(t){return t instanceof T},k=function(t,e,n){var r;if(!t)return w;if("string"==typeof t)_[t]&&(r=t),e&&(_[t]=e,r=t);else{var i=t.name;_[i]=t,r=i}return!n&&r&&(w=r),r||!n&&w},E=function(t,e){if(y(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new T(n)},S=b;S.l=k,S.i=y,S.w=function(t,e){return E(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var T=function(){function g(t){this.$L=k(t.locale,null,!0),this.parse(t)}var m=g.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(S.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return S},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(t,e){var n=E(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return E(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<E(t)},m.$g=function(t,e,n){return S.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!S.u(e)||e,l=S.p(t),f=function(t,e){var i=S.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},p=function(t,e){return S.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},v=this.$W,g=this.$M,m=this.$D,b="set"+(this.$u?"UTC":"");switch(l){case d:return r?f(1,0):f(31,11);case c:return r?f(1,g):f(0,g+1);case u:var w=this.$locale().weekStart||0,_=(v<w?v+7:v)-w;return f(r?m-_:m+(6-_),g);case a:case h:return p(b+"Hours",0);case s:return p(b+"Minutes",1);case o:return p(b+"Seconds",2);case i:return p(b+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,u=S.p(t),l="set"+(this.$u?"UTC":""),f=(n={},n[a]=l+"Date",n[h]=l+"Date",n[c]=l+"Month",n[d]=l+"FullYear",n[s]=l+"Hours",n[o]=l+"Minutes",n[i]=l+"Seconds",n[r]=l+"Milliseconds",n)[u],p=u===a?this.$D+(e-this.$W):e;if(u===c||u===d){var v=this.clone().set(h,1);v.$d[f](p),v.init(),this.$d=v.set(h,Math.min(this.$D,v.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[S.p(t)]()},m.add=function(r,l){var h,f=this;r=Number(r);var p=S.p(l),v=function(t){var e=E(f);return S.w(e.date(e.date()+Math.round(t*r)),f)};if(p===c)return this.set(c,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===a)return v(1);if(p===u)return v(7);var g=(h={},h[o]=e,h[s]=n,h[i]=t,h)[p]||1,m=this.$d.getTime()+r*g;return S.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),o=this.$H,s=this.$m,a=this.$M,u=n.weekdays,c=n.months,l=function(t,n,i,o){return t&&(t[n]||t(e,r))||i[n].substr(0,o)},d=function(t){return S.s(o%12||12,t,"0")},h=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:S.s(a+1,2,"0"),MMM:l(n.monthsShort,a,c,3),MMMM:l(c,a),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:S.s(o,2,"0"),h:d(1),hh:d(2),a:h(o,s,!0),A:h(o,s,!1),m:String(s),mm:S.s(s,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:i};return r.replace(v,(function(t,e){return e||p[t]||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,h,f){var p,v=S.p(h),g=E(r),m=(g.utcOffset()-this.utcOffset())*e,b=this-g,w=S.m(this,g);return w=(p={},p[d]=w/12,p[c]=w,p[l]=w/3,p[u]=(b-m)/6048e5,p[a]=(b-m)/864e5,p[s]=b/n,p[o]=b/e,p[i]=b/t,p)[v]||b,f?w:S.a(w)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return _[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=k(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return S.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),x=T.prototype;return E.prototype=x,[["$ms",r],["$s",i],["$m",o],["$H",s],["$W",a],["$M",c],["$y",d],["$D",h]].forEach((function(t){x[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),E.extend=function(t,e){return t.$i||(t(e,T,E),t.$i=!0),E},E.locale=k,E.isDayjs=y,E.unix=function(t){return E(1e3*t)},E.en=_[w],E.Ls=_,E.p={},E}()},1350:function(t,e,n){"use strict";n.d(e,{B:function(){return o}});var r=n(655),i={"en-us":"eng","ja-jp":"jpn","ko-kr":"kor","zh-tw":"zho-tw","zh-cn":"zho","es-mx":"spa","pt-br":"pon","fr-fr":"fra","de-de":"deu","ru-ru":"rus","it-it":"isl","id-id":"ind","th-th":"tha","vi-vn":"vie"};function o(t,e){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n.e(293).then(n.bind(n,8293))];case 1:return r.sent(),[3,3];case 2:return r.sent(),[2,null];case 3:return n.e(577).then(n.bind(n,8577)),[2,new Promise((function(n){window.initGeetest4({language:i[e]||"eng",captchaId:t.geetestId,riskType:t.riskType,product:"bind"},(function(e){e.onReady((function(){e.showCaptcha()})),e.onSuccess((function(){var r=e.getValidate();r&&(r.challenge=t.challenge,n(r),e.destroy())})),e.onError((function(t){var r=t.error_code;t.msg;"error_01"!==r&&(n(null),e.destroy())})),e.onClose((function(){n(null),e.destroy()}))}))}))]}}))}))}},6755:function(t,e,n){"use strict";n.d(e,{q:function(){return i},P:function(){return o}});var r=n(655),i=function(t){function e(e,n,r){var i=t.call(this,n)||this;return i.code=e,i._type="SDK_ERROR",r&&(i.stack=r.stack),i}return(0,r.ZT)(e,t),e.is=function(t){return t instanceof Error&&"SDK_ERROR"===t._type},e.isSafe=function(t){return this.is(t)&&!!t._safe},e.prototype.toString=function(){return"[GL-WEB-SDK] Error (".concat(this.module?"(".concat(this.module,")"):"",")[").concat(this.code,"]: ").concat(this.message," \n").concat(this.stack)},e}(Error),o=function(t){function e(e,n,r){void 0===r&&(r="");var i=t.call(this,n,r)||this;return i.module=e,i}return(0,r.ZT)(e,t),e.create=function(t,n){var r=new e(t,n.code,n.msg);return r.data=n.data,r.detail=n.detail,r},e}(i)},9494:function(t,e,n){"use strict";n.d(e,{k:function(){return v}});var r,i,o=n(655),s=n(7362),a=function(){function t(t){this.host=t}return t.prototype.setHost=function(t){return t&&(this.host=t),this},t.prototype.getHost=function(){return this.host},t}(),u=new a(s.L.WEB_API_SERVER.HOST);if(location&&location.host){var c=function(t){try{return t.replace(/^https?:\/\//,"").split("/")[0].split(":")[0].split(".").slice(-2).join(".")}catch(t){return""}};try{for(var l=(0,o.XA)(s.L.WEB_API_SERVER.SUPPORT_HOSTS),d=l.next();!d.done;d=l.next()){var h=d.value,f=c(location.host),p=c(h);if(f&&p&&f===p){u.setHost(h);break}}}catch(t){r={error:t}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}var v={webApi:u,account:new a(s.L.ACCOUNT_SERVER.HOST),u8:new a(s.L.U8_SERVER.HOST),binding:new a(s.L.BINDING_SERVER.HOST),survey:new a(s.L.SURVEY_SERVER.HOST)}},3602:function(t,e,n){"use strict";n.d(e,{o:function(){return i},R:function(){return o}});var r=n(655),i=function(t){function e(e,n){var r=t.call(this,n)||this;return r.statusCode=e,r._type="SDK_HTTP_ERROR",r}return(0,r.ZT)(e,t),e.is=function(t){return t instanceof Error&&"SDK_HTTP_ERROR"===t._type},e.prototype.toString=function(){return"[HG-WEB-SDK] Http Error (".concat(this.statusCode,") ").concat(this.message,": \n").concat(this.stack)},e}(Error);function o(t,e){return void 0===t&&(t=0),new i(t,e||function(t){switch(t){case 0:return"连接失败，请检查网络设置";case 400:return"请求失败，参数错误";case 401:return"请求失败，未授权";case 403:return"请求失败，禁止操作";case 404:return"请求失败，无效的请求地址";case 408:return"请求超时";case 500:return"请求失败，服务器错误";case 503:return"请求失败，服务当前不可用";case 504:return"请求失败，网关错误";default:return"请求错误"}}(t))}},2291:function(t,e,n){"use strict";n.d(e,{KU:function(){return u}});var r=n(655),i=n(6804),o=n(1503),s=n(3234),a=n(3602),u=function(){function t(t){this.onResponse=function(t){return t},this.host=t.host||"",this.headers=t.headers||{},this.timeout=t.timeout||3e4,this.onResponse=t.onResponse||this.onResponse,this.onError=t.onError||this.onError}return t.prototype.request=function(t,e){var n;return(0,r.mG)(this,void 0,void 0,(function(){var u,c,l,d,h,f,p,v,g,m,b;return(0,r.Jh)(this,(function(w){switch(w.label){case 0:c=(u=e||{}).data,l=(0,r._T)(u,["data"]),d=l.method||"GET",t=t.startsWith("/")?t.slice(1):t,w.label=1;case 1:return w.trys.push([1,3,,4]),h="string"==typeof this.host?this.host:this.host(),f=(0,r.pi)((0,r.pi)({},(0,s.Z)(this.headers)?this.headers():this.headers),l.headers),p={prefixUrl:h,method:d,headers:f,timeout:null!==(n=l.timeout)&&void 0!==n?n:this.timeout,credentials:"include"},"GET"===d&&c?p.searchParams=c:c&&(p.json=c),[4,(0,i.ZP)(t,p).json()];case 2:return v=w.sent(),[2,this.onResponse(v,{client:this,url:t,option:e})];case 3:if(g=w.sent(),m=void 0,g instanceof o.B)if(0===(b=g.response.status))m=(0,a.R)(0);else m=(0,a.R)(b);else m=g instanceof Error&&"TimeoutError"===g.name||g instanceof Error&&g.message.includes("timeout")?(0,a.R)(408):g instanceof Error?g:new Error(String(g));if(this.onError)return[2,this.onError(m)];throw m;case 4:return[2]}}))}))},t.prototype.get=function(t,e){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){return[2,this.request(t,{method:"GET",data:e})]}))}))},t.prototype.post=function(t,e){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){return[2,this.request(t,{method:"POST",data:e})]}))}))},t}()},8611:function(t,e,n){"use strict";n.d(e,{ag:function(){return c},kb:function(){return l},o5:function(){return h}});var r=n(655),i=n(7484),o=n.n(i),s=n(1873),a=n(9653),u=["zh-tw","en-us","ja-jp","ko-kr","zh-cn","es-mx","pt-br","fr-fr","de-de","ru-ru","it-it","id-id","th-th","vi-vn"],c=new(function(){function t(t){this.lang=t}return t.prototype.set=function(t){var e,n,i,o;if(t){var c=t.toLowerCase();if(u.indexOf(c)>=0)return this.lang=c,a.Z.setStatus(s.Q.I18N,c),this;var l=null===(i=c.match(/^[a-z]+/))||void 0===i?void 0:i[0];if(l)try{for(var d=(0,r.XA)(u),h=d.next();!h.done;h=d.next()){var f=h.value;if(l===(null===(o=f.match(/^[a-z]+/))||void 0===o?void 0:o[0]))return this.lang=f,a.Z.setStatus(s.Q.I18N,c),this}}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}console.warn("language not supported:",t)}return this},t.prototype.get=function(t){return t&&u.indexOf(t)>=0?t:this.lang},t}())("en-us"),l={"en-us":"Network Error.","ja-jp":"ネットワークエラー","ko-kr":"네트워크가 불안정합니다.","zh-cn":"网络异常","zh-tw":"網路異常","es-mx":"Error de red.","pt-br":"Erro de rede.","fr-fr":"Erreur réseau.","de-de":"Netzwerkfehler.","ru-ru":"Ошибка сети.","it-it":"Errore di rete.","id-id":"Kesalahan jaringan.","th-th":"ข้อผิดพลาดของเครือข่าย","vi-vn":"Lỗi mạng."},d=function(t){return({"zh-cn":"YYYY/MM/DD HH:mm:ss","zh-tw":"YYYY/MM/DD HH:mm:ss","en-us":"YYYY-MM-DD HH:mm:ss","ja-jp":"YYYY/MM/DD HH:mm:ss","ko-kr":"YYYY. MM. DD HH:mm:ss","de-de":"DD.MM.YYYY HH:mm:ss","fr-fr":"DD/MM/YYYY HH:mm:ss","it-it":"DD/MM/YYYY HH:mm:ss","es-mx":"DD/MM/YYYY HH:mm:ss","pt-br":"DD/MM/YYYY HH:mm:ss","ru-ru":"DD.MM.YYYY HH:mm:ss","th-th":"DD/MM/YYYY HH:mm:ss","vi-vn":"DD/MM/YYYY HH:mm:ss","id-id":"DD/MM/YYYY HH.mm.ss"}[t]||"YYYY-MM-DD HH:mm:ss")+" ([UTC]Z)"},h=function(t){return o().unix(t).format(d(c.get()))}},2161:function(t,e,n){"use strict";function r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}n.d(e,{H:function(){return a}});var i=function t(e,n){function i(t,i,o){if("undefined"!=typeof document){"number"==typeof(o=r({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in o)o[a]&&(s+="; "+a,!0!==o[a]&&(s+="="+o[a].split(";")[0]));return document.cookie=t+"="+e.write(i,t)+s}}return Object.create({set:i,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(r[a]=e.read(s,a),t===a)break}catch(t){}}return t?r[t]:r}},remove:function(t,e){i(t,"",r({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,r({},this.attributes,e))},withConverter:function(e){return t(r({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),o=n(1271),s=function(){function t(t,e){var n;void 0===e&&(e={}),this.key=t,this.options=e,this.domain=(0,o.wY)(),this.options.expireDays=null!==(n=this.options.expireDays)&&void 0!==n?n:365}return t.prototype.set=function(t){this.domain&&i.set(this.key,t,{domain:this.domain,expires:this.options.expireDays})},t.prototype.get=function(){if(!this.domain)return null;var t=i.get(this.key);return t||null},t}(),a={cookiesPolicy:new s("cookiePref"),cookieAccepter:new s("cookieAccepter")}},2875:function(t,e,n){"use strict";n.d(e,{k0:function(){return o},K7:function(){return s},lJ:function(){return a}});var r=n(655);function i(t){return"session"===t?sessionStorage:localStorage}function o(t,e){var n=i((null==e?void 0:e.persist)?"local":"session"),r=(null==e?void 0:e.identifier)?"".concat(t,":").concat(e.identifier):t;n.removeItem(r)}function s(t,e,n){var r=i((null==n?void 0:n.persist)?"local":"session"),o=(null==n?void 0:n.identifier)?"".concat(t,":").concat(n.identifier):t,s=Math.floor(+new Date/1e3),a=[e,(null==n?void 0:n.verifier)||"",(null==n?void 0:n.ttl)?s+n.ttl:""].join(":");r.setItem(o,a)}function a(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,o,s,a,u,c,l,d,h,f,p,v;return(0,r.Jh)(this,(function(g){switch(g.label){case 0:if(n=i((null==e?void 0:e.persist)?"local":"session"),o=(null==e?void 0:e.identifier)?"".concat(t,":").concat(e.identifier):t,s=n.getItem(o),a=Math.floor(+new Date/1e3),s){u=s.split(":");try{if(u.length>0&&u.length<=3){if(c=(0,r.CR)(u,3),l=c[0],d=c[1],h=c[2],(null==e?void 0:e.ttl)&&h){if((f=Number.parseInt(h))-a<0)throw new Error("stored value expired");if(Math.abs(f-a)>e.ttl)throw new Error("stored ttl not valid")}if((null==e?void 0:e.verifier)&&e.verifier!==d)throw new Error("stored verifier miss match");return[2,l]}}catch(t){console.warn("[HG-WEB-SDK] Session cache failed, ",t.message)}}return(null==e?void 0:e.fetch)?[4,e.fetch()]:[3,2];case 1:if(p=g.sent())return v=[p,e.verifier,e.ttl?a+e.ttl:""].join(":"),n.setItem(o,v),[2,p];g.label=2;case 2:return n.removeItem(o),[2,null]}}))}))}},2711:function(t,e,n){"use strict";var r=n(655),i=function(){function t(){this.listeners=new Map}return t.prototype.on=function(t,e){this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(e)},t.prototype.off=function(t,e){this.listeners.has(t)&&(this.listeners.get(t).delete(e),0===this.listeners.get(t).size&&this.listeners.delete(t))},t.prototype.emit=function(t,e){var n,i;if(this.listeners.has(t))try{for(var o=(0,r.XA)(this.listeners.get(t)),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.once=function(t,e){var n=this,r=function(i){n.off(t,r),e(i)};this.on(t,r)},t.prototype.clear=function(t){t?this.listeners.delete(t):this.listeners.clear()},t}();e.Z=new i},9653:function(t,e,n){"use strict";var r=n(655),i=function(){function t(){this.store={},this.watcherStore={},this.getterStack=new Map}return t.prototype.setStatus=function(t,e){var n,r;if(this.store[t]!==e){var i=this.store[t];this.store[t]=e,i?null===(n=this.watcherStore[t])||void 0===n||n.forEach((function(t){(0,t.callback)(e,i)})):this.getterStack.has(t)&&(null===(r=this.getterStack.get(t))||void 0===r||r.forEach((function(t){var n=t.resolve;t.reject;n(e)})),this.getterStack.delete(t))}},t.prototype.watch=function(t,e){var n=this,r=this.watcherStore[t];return r||(r=[],this.watcherStore[t]=r),r.push({callback:e}),function(){var r=n.watcherStore[t];r&&r.splice(r.indexOf({callback:e}),1)}},t.prototype.getStatus=function(t){return(0,r.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,r.Jh)(this,(function(r){return(e=this.store[t])?[2,e]:[2,new Promise((function(e,r){var i=n.getterStack.get(t);i||(i=[],n.getterStack.set(t,i)),i.push({resolve:e,reject:r})}))]}))}))},t}();e.Z=new i},7667:function(t,e,n){"use strict";n.d(e,{ZT:function(){return i},z5:function(){return o}});var r=n(655),i=function(){};function o(t,e){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,Promise.all([t(),s(e)])];case 1:return[2,n.sent()[0]]}}))}))}var s=function(t){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return[2,new Promise((function(e){setTimeout(e,t)}))]}))}))}},7362:function(t,e,n){"use strict";n.d(e,{L:function(){return r}});var r={ACCOUNT_SERVER:{HOST:"https://as.gryphline.com",thirdPartyLogin:{channels:["google","apple","facebook"]}},U8_SERVER:{HOST:"https://u8.gryphline.com"},WEB_API_SERVER:{HOST:"https://web-api.gryphline.com",SUPPORT_HOSTS:["https://web-api.skport.com","https://web-api.gryphline.net"]},BINDING_SERVER:{HOST:"https://binding-api-account-prod.gryphline.com",appCode:"3dacefa138426cfe"},SURVEY_SERVER:{HOST:"https://core-api-survey-prod.gryphline.com",appCode:"807a66be672111df"},PROTOCOL_STATIC:{HOST:"https://user.gryphline.com"},protocolMap:{termsOfService:"https://user.gryphline.com/{lang}/protocol/terms_of_service",privacyPolicy:"https://user.gryphline.com/{lang}/protocol/privacy_policy"},ETL:{appId:"cnpwcuvq8wlutsd20e5hk2bk",regionTag:"sg"},features:{"user.email_subscription":!0}}},18:function(t,e,n){"use strict";n.d(e,{D1:function(){return r},gn:function(){return i},PM:function(){return o},BJ:function(){return s},HX:function(){return a},G2:function(){return u}});var r="HG_OAUTH_TOKEN",i="APP_CURRENT_ROLE",o="APP_CURRENT_ROLE_GAME_ROLE",s="APP_ROLE_TOKEN",a="APP_ROLE_U8_TOKEN",u="gl-sdk-ui-container"},7459:function(t,e,n){"use strict";n.d(e,{F:function(){return r}});var r={PAGE_FOOTER_RENDER:"pageFooter:render"}},162:function(t,e,n){"use strict";n.d(e,{NI:function(){return s},r:function(){return a}});var r=n(6755),i=n(4212),o={ak:{key:"ak",app:"arknights",bindingAppCode:"arknights"},exa:{key:"exa",app:"exa",bindingAppCode:"exa"},ef:{key:"ef",app:"endfield",bindingAppCode:"endfield",isMultiServers:!0,downloadConfig:{url:"https://launcher.gryphline.com/s/OI8pbV?ua=&sub_channel=6"}},popucom:{key:"popucom",app:"popucom",bindingAppCode:"popucom"}};function s(t){var e=o[t];if(!e)throw new r.q("GAME_NOT_FOUND",(0,i.Z)("未找到对应的游戏"));return e}function a(t){return s(t).app}},1873:function(t,e,n){"use strict";var r;n.d(e,{Q:function(){return r}}),function(t){t.I18N="i18n",t.COOKIE_CONSENT="cookie:consent"}(r||(r={}))},4212:function(t,e,n){"use strict";function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t}n.d(e,{Z:function(){return r}})},8289:function(t,e,n){"use strict";n.r(e),n.d(e,{GL_WEB_SDK:function(){return Ne}});var r={};n.r(r),n.d(r,{getGameConfig:function(){return pt.NI},isSDKError:function(){return _t},isSafeSDKError:function(){return yt}});var i={};n.r(i),n.d(i,{U8_RSP_STATUS:function(){return Ot},getRoleInfo:function(){return Dt},getServerRoleList:function(){return Gt},getU8Token:function(){return Ct},grant:function(){return Pt}});var o={};n.r(o),n.d(o,{getRoleInfo:function(){return Ut},getServerRoleList:function(){return Lt}});var s=n(655),a=n(9494),u=n(1271),c=n(7754),l=n(8602),d=n(8780),h=n(8611),f=n(6223),p=0,v=1,g=2,m=3,b=4,w=5,_={requireEmail:!1},y=function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var t,e;return(0,s.Jh)(this,(function(n){switch(n.label){case 0:return[4,l.b.getThirdPartyInfo()];case 1:return(t=n.sent()).result&&t.data?[2,null===(e=t.data)||void 0===e?void 0:e.thirdPartyInfo]:[2,null]}}))}))},k=function(t){return(0,s.mG)(void 0,void 0,void 0,(function(){var e,r,i,o,a,u,c,d,p,v,g,m;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:return[4,l.b.getBasicInfo({token:t.token})];case 1:return e=s.sent(),r=e.result,i=e.data,o=e.status,a=e.type,u=e.statusCode,r&&i?i.realEmail?(null===(c=t.onSuccess)||void 0===c||c.call(t,i.realEmail),[3,4]):[3,2]:[3,5];case 2:return[4,n.e(516).then(n.bind(n,7516))];case 3:(0,s.sent().showBindEmailDialog)({lang:h.ag.get(),onFinish:t.onSuccess,onCancel:t.onCancel}),s.label=4;case 4:return[3,6];case 5:"apiServer"===a&&401===u?null===(d=t.onNoSession)||void 0===d||d.call(t):o===f.q.INVALID_TOKEN?null===(p=t.onSessionExpired)||void 0===p||p.call(t):o===f.q.ACCOUNT_BANNED?null===(v=t.onSessionExpired)||void 0===v||v.call(t):o===f.q.ACCOUNT_DELETING?null===(g=t.onSessionExpired)||void 0===g||g.call(t):null===(m=t.onFailed)||void 0===m||m.call(t),s.label=6;case 6:return[2]}}))}))},E="gl_token",S="hg_token",T=function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var t,e,n,r;return(0,s.Jh)(this,(function(i){switch(i.label){case 0:if(t=new URL(window.location.href),e=null===(r=window._GL_WEB_SDK_INIT_OPTIONS)||void 0===r?void 0:r.supportHgToken,!(n=t.searchParams.get(E)||(e?t.searchParams.get(S):null)))return[3,4];t.searchParams.delete(E),e&&t.searchParams.delete(S),window.history.replaceState({},"",t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,l.b.saveToken(n)];case 2:return i.sent(),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}}))}))},x=null,A=function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var t,e,r,i,o,a,d,f,p;return(0,s.Jh)(this,(function(v){switch(v.label){case 0:return t="tpa_action",e="tpa_channelId",r="tpa_channelToken",i="tpa_state",o=new URL(window.location.href),a=o.searchParams.get(t),d=Number(o.searchParams.get(e)),f=o.searchParams.get(r),p=(0,u.Rx)(o.searchParams.get(i)||"{}")||{},o.searchParams.delete(t),o.searchParams.delete(e),o.searchParams.delete(r),o.searchParams.delete(i),(a||d||f||p)&&window.history.replaceState({},"",o),[4,new Promise((function(t){return(0,s.mG)(void 0,void 0,void 0,(function(){var e,r,i,o,u,v;return(0,s.Jh)(this,(function(g){switch(g.label){case 0:if(!(a&&d&&f))return[3,7];if(x={action:a,channelId:d,channelToken:f,state:p},"login"!==a)return[3,5];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,l.b.thirdParty.tokenByChannelToken({channelId:d,channelToken:f})];case 2:return e=g.sent(),r=e.result,i=e.status,o=e.data,u=e.msg,r&&o&&"token"in o&&o.token?"1"===p.requireEmail?k({token:o.token,onSuccess:function(){t(),c.t.event("user_login")},onCancel:function(){t()},onFailed:function(){t()},onNoSession:function(){t()},onSessionExpired:function(){t()}}):(t(),c.t.event("user_login")):101===i&&o&&"ticket"in o&&o.ticket?(m={ticket:o.ticket,onSuccess:function(e){"1"===p.requireEmail?k({token:e,onSuccess:function(){t()},onCancel:function(){t()},onFailed:function(){t()},onNoSession:function(){t()},onSessionExpired:function(){t()}}):t()},onCancel:function(){x=null,t()}},(0,s.mG)(void 0,void 0,void 0,(function(){return(0,s.Jh)(this,(function(t){switch(t.label){case 0:return[4,n.e(483).then(n.bind(n,7483))];case 1:return(0,t.sent().showRegisterConfirmDialog)({lang:h.ag.get(),ticket:m.ticket,onSuccess:function(t){var e;null===(e=m.onSuccess)||void 0===e||e.call(m,t),c.t.event("user_login")},onCancel:function(){var t;null===(t=m.onCancel)||void 0===t||t.call(m)}}),[2]}}))}))):(console.error(u),u&&alert(u),x=null,t()),[3,4];case 3:return v=g.sent(),console.log(v),x=null,t(),[3,4];case 4:return[3,6];case 5:t(),g.label=6;case 6:return[3,8];case 7:t(),g.label=8;case 8:return[2]}var m}))}))}))];case 1:return v.sent(),[2]}}))}))},I={auth:function(t,e){return void 0===e&&(e=u.ZT),(0,s.mG)(void 0,void 0,void 0,(function(){var r,i;return(0,s.Jh)(this,(function(o){switch(o.label){case 0:return r=null!==(i=t.requireEmail)&&void 0!==i?i:_.requireEmail,[4,n.e(477).then(n.bind(n,9017))];case 1:return(0,o.sent().showLoginDialog)({oauth:t.oauth,lang:h.ag.get(),requireEmail:r,onSuccess:function(n){return(0,s.mG)(void 0,void 0,void 0,(function(){var r,i,o,a;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:return r=e,i=[p],a={accountInfo:n.accountInfo,oauthInfo:n.oauthInfo},t.thirdPartyInfo?[4,y()]:[3,2];case 1:return o=s.sent(),[3,3];case 2:o=void 0,s.label=3;case 3:return r.apply(void 0,i.concat([(a.thirdPartyInfo=o,a)])),c.t.event("user_login"),[2]}}))}))},onCancel:function(){e(g)}}),[2]}}))}))},checkSession:function(t,e){return void 0===e&&(e=u.ZT),(0,s.mG)(void 0,void 0,void 0,(function(){var r,i,o,a,u,c,d,k,E,S,T,x,A,I;return(0,s.Jh)(this,(function(O){switch(O.label){case 0:return r=null!==(I=t.requireEmail)&&void 0!==I?I:_.requireEmail,i=function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var e,n,r,i,o,a;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:return t.oauth?[4,l.b.grantInfo({appCode:t.oauth.appCode})]:[2,{status:p}];case 1:return e=s.sent(),n=e.result,r=e.data,i=e.status,o=e.type,a=e.statusCode,n&&r?[2,{status:p,info:{openId:r.uid}}]:"apiServer"===o&&401===a?[2,{status:m}]:i===f.q.INVALID_TOKEN||i===f.q.OPEN_ID_DELETING?[2,{status:b}]:[2,{status:v}]}}))}))},[4,l.b.getBasicInfo()];case 1:return o=O.sent(),a=o.result,u=o.data,c=o.status,d=o.type,k=o.statusCode,a&&u?!r||u.email?[3,2]:(e(w),[3,9]):[3,10];case 2:return u.isLatestUserAgreement?[3,4]:[4,n.e(114).then(n.bind(n,8114))];case 3:return(0,O.sent().showProtocolsUpdateDialog)({lang:h.ag.get(),onConfirm:function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var n,r,o,a,c;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:return[4,i()];case 1:return n=s.sent(),r=e,o=[n.status],c={accountInfo:u,oauthInfo:n.info},t.thirdPartyInfo?[4,y()]:[3,3];case 2:return a=s.sent(),[3,4];case 3:a=void 0,s.label=4;case 4:return r.apply(void 0,o.concat([(c.thirdPartyInfo=a,c)])),[2]}}))}))},onCancel:function(){return(0,s.mG)(void 0,void 0,void 0,(function(){return(0,s.Jh)(this,(function(t){return e(g),[2]}))}))}}),[3,9];case 4:return[4,i()];case 5:return E=O.sent(),S=e,T=[E.status],A={accountInfo:u,oauthInfo:E.info},t.thirdPartyInfo?[4,y()]:[3,7];case 6:return x=O.sent(),[3,8];case 7:x=void 0,O.label=8;case 8:S.apply(void 0,T.concat([(A.thirdPartyInfo=x,A)])),O.label=9;case 9:return[3,11];case 10:"apiServer"===d&&401===k?e(m):c===f.q.INVALID_TOKEN||c===f.q.ACCOUNT_BANNED||c===f.q.ACCOUNT_DELETING?e(b):e(v),O.label=11;case 11:return[2]}}))}))},inheritSession:function(t,e){return void 0===e&&(e=u.ZT),(0,s.mG)(void 0,void 0,void 0,(function(){var r,i,o,a,u,c,d,k,E,S,T,x,A,I;return(0,s.Jh)(this,(function(O){switch(O.label){case 0:return r=null!==(I=t.requireEmail)&&void 0!==I?I:_.requireEmail,i=function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var e,n,r,i,o,a;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:return[4,l.b.grant({appCode:t.oauth.appCode,type:t.oauth.grantType})];case 1:return e=s.sent(),n=e.result,r=e.data,i=e.status,o=e.type,a=e.statusCode,n&&r?[2,{status:p,info:{openId:r.uid,code:r.code,token:r.token}}]:"apiServer"===o&&401===a?[2,{status:m}]:i===f.q.INVALID_TOKEN||i===f.q.OPEN_ID_DELETING?[2,{status:b}]:[2,{status:v}]}}))}))},[4,l.b.getBasicInfo()];case 1:return o=O.sent(),a=o.result,u=o.data,c=o.status,d=o.type,k=o.statusCode,a&&u?!r||u.email?[3,2]:(e(w),[3,9]):[3,10];case 2:return u.isLatestUserAgreement?[3,4]:[4,n.e(114).then(n.bind(n,8114))];case 3:return(0,O.sent().showProtocolsUpdateDialog)({lang:h.ag.get(),onConfirm:function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var n,r,o,a,c;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:return[4,i()];case 1:return n=s.sent(),r=e,o=[n.status],c={accountInfo:u,oauthInfo:n.info},t.thirdPartyInfo?[4,y()]:[3,3];case 2:return a=s.sent(),[3,4];case 3:a=void 0,s.label=4;case 4:return r.apply(void 0,o.concat([(c.thirdPartyInfo=a,c)])),[2]}}))}))},onCancel:function(){return(0,s.mG)(void 0,void 0,void 0,(function(){return(0,s.Jh)(this,(function(t){return e(g),[2]}))}))}}),[3,9];case 4:return[4,i()];case 5:return E=O.sent(),S=e,T=[E.status],A={accountInfo:u,oauthInfo:E.info},t.thirdPartyInfo?[4,y()]:[3,7];case 6:return x=O.sent(),[3,8];case 7:x=void 0,O.label=8;case 8:S.apply(void 0,T.concat([(A.thirdPartyInfo=x,A)])),O.label=9;case 9:return[3,11];case 10:"apiServer"===d&&401===k?e(m):c===f.q.INVALID_TOKEN||c===f.q.ACCOUNT_BANNED||c===f.q.ACCOUNT_DELETING?e(b):e(v),O.label=11;case 11:return[2]}}))}))},requireEmail:k,API:l.b,checkThirdPartyAuthData:function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var t;return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return[4,(0,d.f)()];case 1:return e.sent(),t=x,x=null,[2,t]}}))}))}},O=n(2878),R=n(7362),C={get:function(t,e){return void 0===e&&(e={}),(0,s.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,a,u,c;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:n=e.lang||h.ag.get(),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,fetch("".concat(R.L.PROTOCOL_STATIC.HOST,"/").concat(n,"/protocol/plain/").concat(t),{headers:(c={},c["Content-Type"]="text/plain; charset=UTF-8",c),cache:"no-cache"})];case 2:return(r=s.sent()).status>=200&&r.status<400?[4,r.text()]:[3,4];case 3:return i=s.sent(),(o=document.createElement("html")).innerHTML=i,a=o.querySelector("#title"),u=o.querySelector("#article"),[2,{title:(null==a?void 0:a.innerHTML)||"",article:(null==u?void 0:u.innerHTML)||""}];case 4:return[3,6];case 5:return s.sent(),[3,6];case 6:throw new Error("get protocol error")}}))}))}},P=n(6804),D=n(1503),G=function(t){function e(n){var r=n.statusCode,i=void 0===r?200:r,o=n.resBody,s=void 0===o?{}:o,a=t.call(this,s.msg||s.message||h.kb[h.ag.get()]||"network error")||this;return a.type=e.type,a.statusCode=i,a.resBody=s,a.resBody.msg=a.message,a}return(0,s.ZT)(e,t),e.type="bindingServerError",e}(Error),U=function(t){return(null==t?void 0:t.type)===G.type};function L(t){return(0,s.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,s.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t()];case 1:return e=i.sent(),[2,(0,s.pi)((0,s.pi)({},e),{result:!0})];case 2:return n=i.sent(),U(r=n)?[2,(0,s.pi)((0,s.pi)({},(null==r?void 0:r.resBody)||{}),{statusCode:r.statusCode,result:!1})]:(console.warn(r),[2,{result:!1,msg:(null==r?void 0:r.message)||h.kb[h.ag.get()]||"network error"}]);case 3:return[2]}}))}))}var N=0;function j(t,e,n){return(0,s.mG)(this,void 0,void 0,(function(){var r,i,o,u,c,l;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:t=t.startsWith("/")?t.slice(1):t,s.label=1;case 1:return s.trys.push([1,3,,6]),r={prefixUrl:a.k.binding.getHost(),method:e,headers:(l={},l["X-Language"]=h.ag.get(),l),timeout:2e4},"GET"===e&&n?r.searchParams=n:n&&(r.json=n),[4,(0,P.ZP)(t,r).json()];case 2:if((i=s.sent()).status===N)return[2,i];throw new G({resBody:i});case 3:if(o=s.sent(),U(u=o))throw u;return u instanceof D.B?[4,u.response.json().catch((function(){return{}}))]:[3,5];case 4:throw c=s.sent(),new G({statusCode:u.response.status,resBody:c});case 5:throw u;case 6:return[2]}}))}))}var z=function(t){var e=t.token,n=t.appCode;return L((function(){return j("/account/reservation/v1/query","GET",{token:e,appCode:n})}))},B=function(t){var e=t.token,n=t.appCode,r=t.source,i=t.platform;return L((function(){return j("/account/reservation/v1/apply","POST",{token:e,appCode:n,source:r,platform:i})}))},J=n(4887);var M=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var q=function(t){return this.__data__.has(t)};function H(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new J.Z;++e<n;)this.add(t[e])}H.prototype.add=H.prototype.push=M,H.prototype.has=q;var $=H;var Z=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1};var F=function(t){return t!=t};var W=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1};var Y=function(t,e,n){return e==e?W(t,e,n):Z(t,F,n)};var K=function(t,e){return!!(null==t?0:t.length)&&Y(t,e,0)>-1};var V=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1};var X=function(t,e){return t.has(e)},Q=n(3067),tt=n(8003),et=(0,Q.Z)(tt.Z,"Set"),nt=n(2054);var rt=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},it=et&&1/rt(new et([,-0]))[1]==1/0?function(t){return new et(t)}:nt.Z;var ot=function(t,e,n){var r=-1,i=K,o=t.length,s=!0,a=[],u=a;if(n)s=!1,i=V;else if(o>=200){var c=e?null:it(t);if(c)return rt(c);s=!1,i=X,u=new $}else u=e?[]:a;t:for(;++r<o;){var l=t[r],d=e?e(l):l;if(l=n||0!==l?l:0,s&&d==d){for(var h=u.length;h--;)if(u[h]===d)continue t;e&&u.push(d),a.push(l)}else i(u,d,n)||(u!==a&&u.push(d),a.push(l))}return a};var st=function(t){return t&&t.length?ot(t):[]},at=function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var t,e,n,r;return(0,s.Jh)(this,(function(i){switch(i.label){case 0:return[4,I.API.getToken()];case 1:return(t=i.sent()).result&&(null===(n=t.data)||void 0===n?void 0:n.token)?[4,I.API.grant({appCode:R.L.BINDING_SERVER.appCode,type:1})]:[2,(0,s.pi)((0,s.pi)({},t),{data:void 0})];case 2:return(e=i.sent()).result&&(null===(r=e.data)||void 0===r?void 0:r.token)?[2,e]:[2,(0,s.pi)((0,s.pi)({},e),{data:void 0})]}}))}))},ut={doReservation:function(t,e){return(0,s.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,s.Jh)(this,(function(i){switch(i.label){case 0:return[4,at()];case 1:return n=i.sent(),(null===(r=n.data)||void 0===r?void 0:r.token)?[2,B({token:n.data.token,appCode:t,platform:st(e.platform),source:1})]:[2,(0,s.pi)((0,s.pi)({},n),{data:void 0})]}}))}))},checkReservation:function(t){return(0,s.mG)(void 0,void 0,void 0,(function(){var e,n;return(0,s.Jh)(this,(function(r){switch(r.label){case 0:return[4,at()];case 1:return e=r.sent(),(null===(n=e.data)||void 0===n?void 0:n.token)?[2,z({token:e.data.token,appCode:t})]:[2,(0,s.pi)((0,s.pi)({},e),{data:void 0})]}}))}))}},ct=function(t){function e(n){var r=n.statusCode,i=void 0===r?200:r,o=n.resBody,s=void 0===o?{}:o,a=t.call(this,s.msg||s.message||h.kb[h.ag.get()]||"network error")||this;return a.type=e.type,a.statusCode=i,a.resBody=s,a}return(0,s.ZT)(e,t),e.type="webSurveyServerError",e}(Error),lt=function(t){return(null==t?void 0:t.type)===ct.type};function dt(t){return(0,s.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,s.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t()];case 1:return e=i.sent(),[2,(0,s.pi)((0,s.pi)({},e),{result:!0})];case 2:return n=i.sent(),lt(r=n)?[2,(0,s.pi)((0,s.pi)({},(null==r?void 0:r.resBody)||{}),{statusCode:r.statusCode,result:!1})]:(console.warn(r),[2,{result:!1,msg:(null==r?void 0:r.message)||h.kb[h.ag.get()]||"network error"}]);case 3:return[2]}}))}))}var ht=function(t){var e=t.token,n=t.surveyId;return(0,s.mG)(void 0,void 0,void 0,(function(){return(0,s.Jh)(this,(function(t){return[2,dt((function(){return function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n="GET"),(0,s.mG)(this,void 0,void 0,(function(){var r,i,o,u,c;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:t=t.startsWith("/")?t.slice(1):t,s.label=1;case 1:return s.trys.push([1,3,,6]),r={prefixUrl:a.k.survey.getHost(),method:n,timeout:2e4},"GET"===n&&e?r.searchParams=e:e&&(r.json=e),[4,(0,P.ZP)(t,r).json()];case 2:if(0===(i=s.sent()).code)return[2,i];throw new ct({resBody:i});case 3:if(o=s.sent(),lt(u=o))throw u;return u instanceof D.B?[4,u.response.json().catch((function(){return{}}))]:[3,5];case 4:throw c=s.sent(),new ct({statusCode:u.response.status,resBody:c});case 5:throw u;case 6:return[2]}}))}))}("/client/v1/survey/answer_status",{token:e,hashId:n},"GET")}))]}))}))},ft={checkAnswerStatus:function(t){return(0,s.mG)(void 0,void 0,void 0,(function(){var e,n,r;return(0,s.Jh)(this,(function(i){switch(i.label){case 0:return[4,(0,s.mG)(void 0,void 0,void 0,(function(){var t,e,n,r;return(0,s.Jh)(this,(function(i){switch(i.label){case 0:return[4,I.API.getToken()];case 1:return(t=i.sent()).result&&(null===(n=t.data)||void 0===n?void 0:n.token)?[4,I.API.grant({appCode:R.L.SURVEY_SERVER.appCode,type:1})]:[2,(0,s.pi)((0,s.pi)({},t),{data:void 0})];case 2:return(e=i.sent()).result&&(null===(r=e.data)||void 0===r?void 0:r.token)?[2,e]:[2,(0,s.pi)((0,s.pi)({},e),{data:void 0})]}}))}))];case 1:return e=i.sent(),(null===(r=e.data)||void 0===r?void 0:r.token)?[4,ht({token:e.data.token,surveyId:t})]:[2,(0,s.pi)((0,s.pi)({},e),{data:void 0})];case 2:return n=i.sent(),[2,(0,s.pi)((0,s.pi)({},n),{result:n.result||2===n.code,data:{answered:2===n.code}})]}}))}))}},pt=n(162);function vt(t,e){return(0,s.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,s.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t()];case 1:return r=o.sent(),n=r,[3,3];case 2:throw i=o.sent(),null==e||e(i,null),i;case 3:return null==e||e(null,n),[2,n]}}))}))}var gt=n(9099),mt={getActiveRole:function(t,e){return vt((function(){return(0,gt.Ke)((0,pt.r)(t))}),e)},getActiveRoleV2:function(t,e,n){var r=(0,pt.NI)(t);if("function"==typeof e)return vt((function(){return(0,gt.W0)(r.bindingAppCode,{isMultiServers:r.isMultiServers})}),e);var i=e||{};return i.isMultiServers=!!r.isMultiServers,vt((function(){return(0,gt.W0)(r.bindingAppCode,i)}),n)}},bt={UI:{showSelectDialog:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.e(657).then(n.bind(n,6657)).then((function(e){e.showSelectDialog.apply(e,(0,s.ev)([],(0,s.CR)(t),!1))}))}},API:{getActiveRole:mt.getActiveRole,getActiveRoleV2:mt.getActiveRoleV2}},wt=n(6755),_t=wt.q.is.bind(wt.q),yt=wt.q.isSafe.bind(wt.q),kt=n(579),Et=n(2291),St=n(3602),Tt=n(1350),xt=n(4212);function At(t){return wt.P.create("u8",(0,s.pi)({msg:t.msg||It[t.code]},t))}var It={TOKEN_EXPIRED:(0,xt.Z)("登录状态已失效"),CAPTCHA_VALIDATE_FAILED:(0,xt.Z)("人机验证失败"),INTERVENING:(0,xt.Z)("账号暂时无法使用"),ROLE_CANCELLING:(0,xt.Z)("您的游戏账号在注销冷静期中"),ROLE_BANNED:(0,xt.Z)("游戏账号封禁中"),NO_ROLE:(0,xt.Z)("游戏账号不存在"),DEFAULT:(0,xt.Z)("未处理异常")},Ot={OK:0,ROLE_BANNED:1,MAINTAINING:2,INVALID_TOKEN:3,NO_AUTHORITY:5,REQUIRE_CAPTCHA:6,INVALID_CAPTCHA:7,INVALID_CODE:8,INTERVENING:9,ROLE_DELETING:10,NO_ROLE:101},Rt=new Et.KU({host:a.k.u8.getHost(),timeout:2e4,onResponse:function(t,e){return(0,s.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,s.Jh)(this,(function(o){switch(o.label){case 0:return t.status===Ot.OK?[2,t.data]:t.status!==Ot.REQUIRE_CAPTCHA?[3,3]:(n=t.data.captcha,[4,(0,Tt.B)(n,h.ag.get())]);case 1:return(r=o.sent())?[4,e.client.request(e.url,(0,s.pi)((0,s.pi)({},e.option),{data:(0,s.pi)((0,s.pi)({},null===(i=e.option)||void 0===i?void 0:i.data),{captcha:r})}))]:[3,3];case 2:if((t=o.sent()).status===Ot.OK)return[2,t.data];o.label=3;case 3:switch(t.status){case Ot.ROLE_BANNED:throw At({code:"ROLE_BANNED",data:{startTs:t.data.banStartTs,endTs:t.data.banEndTs},msg:t.msg});case Ot.INVALID_CAPTCHA:throw At({code:"CAPTCHA_VALIDATE_FAILED",msg:t.msg});case Ot.INTERVENING:throw At({code:"INTERVENING",msg:t.msg});case Ot.ROLE_DELETING:throw At({code:"ROLE_CANCELLING",msg:t.msg,data:{requestTs:t.data.delete_request_ts,commitTs:t.data.delete_commit_ts}});case Ot.NO_ROLE:throw At({code:"NO_ROLE",msg:t.msg})}throw At({code:"DEFAULT",msg:t.msg,data:t.data,detail:t})}}))}))},onError:function(t){return(0,s.mG)(void 0,void 0,void 0,(function(){return(0,s.Jh)(this,(function(e){if(St.o.is(t))throw 401===t.statusCode?At({code:"TOKEN_EXPIRED"}):new wt.q("REQUEST_ERROR",t.message);throw t}))}))}});function Ct(t,e,n){return(0,s.mG)(this,void 0,void 0,(function(){return(0,s.Jh)(this,(function(r){switch(r.label){case 0:return[4,Rt.post("/u8/user/auth/v2/token_by_channel_token",{appId:t,channelMasterId:e,channelToken:n})];case 1:return[2,r.sent().token]}}))}))}function Pt(t){return(0,s.mG)(this,void 0,void 0,(function(){return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return[4,Rt.post("/u8/user/auth/v2/grant",{token:t,type:1})];case 1:return[2,e.sent()]}}))}))}function Dt(t){return(0,s.mG)(this,void 0,void 0,(function(){return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return[4,Rt.get("/u8/user/info/v2/basic",{token:t})];case 1:return[2,e.sent()]}}))}))}function Gt(t,e){var n=void 0===e?{}:e,r=n.appCode,i=n.serverId;return(0,s.mG)(this,void 0,void 0,(function(){return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return[4,Rt.post("/game/role/v1/query_role_list",{token:t,appCode:r,serverId:i})];case 1:return[2,e.sent()]}}))}))}function Ut(t){return(0,s.mG)(this,void 0,void 0,(function(){return(0,s.Jh)(this,(function(e){return[2,Dt(t)]}))}))}function Lt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.mG)(this,void 0,void 0,(function(){return(0,s.Jh)(this,(function(e){return[2,Gt.apply(i,(0,s.ev)([],(0,s.CR)(t),!1))]}))}))}var Nt,jt={API:o},zt=n(7459),Bt=n(2711),Jt={render:function(t,e){return(0,s.mG)(this,void 0,void 0,(function(){var r,i;return(0,s.Jh)(this,(function(o){switch(o.label){case 0:return[4,n.e(148).then(n.bind(n,2148))];case 1:return r=o.sent().renderFooter,i=r(t,e),Bt.Z.emit(zt.F.PAGE_FOOTER_RENDER,i),[2,i]}}))}))}},Mt={default:{type:"TESR",content:{image:n(8728),text:"※本遊戲內容涉性(僅部分角色穿著凸顯性特徵服飾)及暴力(但可愛人物打鬥或未描述角色傷亡細節之攻擊等而無血腥畫面)，依遊戲軟體分級管理辦法分類為輔導12級，十二歲以上之人始得使用。\n※本遊戲為免費遊戲，但遊戲內另提供購買虛擬遊戲幣、物品等付費服務，請依個人興趣及能力進行適度消費。\n※請注意遊戲時間，避免沉迷，長時間進行遊戲，容易影響作息，宜適度休息及運動。\n※本遊戲由艾瑞爾網路股份有限公司代理，如有疑問，請以本遊戲客服管道聯繫。"}}},qt={renderFooter:function(t){return(0,s.mG)(void 0,void 0,void 0,(function(){return(0,s.Jh)(this,(function(e){return[2,Jt.render(t,{lang:"zh-tw",keyLogo:{src:n(7692)},companyLogo:{src:n(2171),style:{height:"3em"}},links:[{url:"https://www.ariel.com.tw/tos/",name:"服務條款"},{url:"https://www.ariel.com.tw/ariel-privacy-policy/",name:"保密規則"},{url:"https://user.gryphline.com/zh-tw/protocol/plain/ak/rules",name:"遊戲規章"}],gameRatingInfoMap:Mt,copyrightText:"©2017-".concat("2026"," HYPERGRYPH. All rights reserved.         ©2017-").concat("2026"," GRYPHLINE. All rights reserved.")})]}))}))}},Ht={default:null,"en-us":{type:"ESRB",content:{image:n(7660)}},"ko-kr":{type:"GRAC",content:{image:n(7637),text:""}},"es-mx":{type:"ESRB",content:{image:n(7660)}},"fr-fr":{type:"PEGI",content:{image:n(7612)}},"pt-br":{type:"PEGI",content:{image:n(7612)}},"vi-vn":{type:"VGRS",content:{image:n(8256)}},"zh-tw":{type:"TESR",content:{image:n(8728),text:"※本遊戲內容涉性(僅部分角色穿著凸顯性特徵服飾)及暴力(但可愛人物打鬥或未描述角色傷亡細節之攻擊等而無血腥畫面)，依遊戲軟體分級管理辦法分類為輔導12級，十二歲以上之人始得使用。\n※本遊戲為免費遊戲，但遊戲內另提供購買虛擬遊戲幣、物品等付費服務，請依個人興趣及能力進行適度消費。\n※請注意遊戲時間，避免沉迷，長時間進行遊戲，容易影響作息，宜適度休息及運動。\n※本遊戲由艾瑞爾網路股份有限公司代理，如有疑問，請以本遊戲客服管道聯繫"}}},$t=function(t){var e,n=t.game,r=t.target,i=t.etlOptions,o=(0,pt.NI)(n),a=r?{targetUrl:r.url,targetChannel:r.channel}:{targetUrl:null===(e=o.downloadConfig)||void 0===e?void 0:e.url,targetChannel:"auto"},u=a.targetUrl,l=a.targetChannel;if(u){try{var d=null==i?void 0:i.appId,h=(0,s.pi)((0,s.pi)({},null==i?void 0:i.properties),{download_channel:l});d?c.t.eventToAppId(d,"#download",h):c.t.event("#download",h)}catch(t){console.error("ETL event tracking failed:",t)}try{window.open(u,"_blank")||(console.warn("Failed to open download URL. Popup may be blocked by browser.","URL: ".concat(u)),location.href=u)}catch(t){console.error("Failed to open download URL:",t),location.href=u}}else console.warn("Download game [".concat(n,"] failed, targetUrl is not available."),"Params: ".concat(JSON.stringify({game:n,target:r})))},Zt={renderFooter:function(t){return(0,s.mG)(void 0,void 0,void 0,(function(){return(0,s.Jh)(this,(function(e){return[2,Jt.render(t,{keyLogo:"endfield",links:["endfield/termsOfService","endfield/privacyPolicy","endfield/tradeLaw","endfield/fundLaw","customerService/endfield"],gameRatingInfoMap:Ht,get casualInfo(){return"vi-vn"===h.ag.get()?["Email: <a href='mailto:endfield_cs@gryphline.com'>endfield_cs@gryphline.com</a>","Chơi quá 180 phút một ngày sẽ ảnh hưởng xấu đến sức khỏe","Quyết định phê duyệt nội dung kịch bản trò chơi điện tử G1 trên mạng số: 464/QĐ-PTTH&TTĐT cấp ngày 22/10/2025","Người chịu trách nhiệm nội dung: Ông Hoàng Quý Dương","Tầng 4 - Tòa nhà Tây Hà - 19 Tố Hữu - Phường Trung Văn - Quận Nam Từ Liêm - Hà Nội"].join("\n"):"ko-kr"===h.ag.get()?"*확률형 아이템 포함":void 0},thirdPartyInfo:['"PlayStation Family Mark", "PlayStation" and "PS5 logo" are registered trademarks or trademarks of Sony Interactive Entertainment Inc.',"@Epic"],get companyLogo(){return"zh-tw"===h.ag.get()?{src:n(105),style:{height:"2em"}}:"vi-vn"===h.ag.get()?{src:n(3002),style:{height:"3em"}}:{src:n(1795),style:{height:"2em"}}}})]}))}))},download:function(t){void 0===t&&(t={}),$t((0,s.pi)((0,s.pi)({},t),{game:"ef"}))}},Ft={default:null,"ko-kr":{type:"GRAC",content:{image:n(2079),text:""}},"zh-tw":{type:"TESR",content:{image:n(8728),text:"※本遊戲內容涉及暴力、性，依遊戲軟體分級管理辦法分類為輔導12歲級，十二歲以上之人始得使用。\n※本遊戲為付費遊戲，但遊戲內另提供其它付費下載內容，請依個人興趣及能力進行適度消費。\n※請注意遊戲時間，避免沉迷，長時間進行遊戲，容易影響作息，宜適度休息及運動。\n※本遊戲由艾瑞爾網路股份有限公司代理，如有疑問，請以本遊戲客服管道聯繫"}}},Wt={renderFooter:function(t){return(0,s.mG)(void 0,void 0,void 0,(function(){return(0,s.Jh)(this,(function(e){return[2,Jt.render(t,{keyLogo:"exa",links:["exa/termsOfService","exa/privacyPolicy","exa/tradeLaw","exa/gameManagement","customerService/exa"],gameRatingInfoMap:Ft,get companyLogo(){if("zh-tw"===h.ag.get())return{src:n(6605),style:{height:"2em"}}}})]}))}))}},Yt={renderFooter:function(t){return(0,s.mG)(void 0,void 0,void 0,(function(){return(0,s.Jh)(this,(function(e){return[2,Jt.render(t,{})]}))}))}},Kt={default:null,"ko-kr":{type:"GRAC",content:{image:n(1617),text:""}},"zh-tw":{type:"TESR",content:{image:n(1889),text:"※本軟體因涉及暴力情節，依遊戲軟體分級管理辦法分類為保護級。\n※本遊戲為付費使用。\n※請注意遊戲時間，避免沉迷。"}}},Vt={gryphline:Yt,ak:qt,exa:Wt,endfield:Zt,popucom:{renderFooter:function(t){return(0,s.mG)(void 0,void 0,void 0,(function(){return(0,s.Jh)(this,(function(e){return[2,Jt.render(t,{keyLogo:"popucom",links:["popucom/termsOfService","popucom/privacyPolicy","popucom/tradeLaw","customerService/popucom"],get companyLogo(){if("zh-tw"===h.ag.get())return{src:n(6046),style:{height:"2.5em"}}},thirdPartyInfo:["@PlayStation","@Epic","@Steam","@Nintendo"],gameRatingInfoMap:Kt,get copyrightText(){if("zh-tw"===h.ag.get())return""}})]}))}))}}},Xt=n(2161),Qt=n(722),te=n(9653),ee=n(1873),ne="_cm";!function(t){t.COMMON="0",t.EU_GDPR="1"}(Nt||(Nt={}));var re=[Nt.COMMON,Nt.EU_GDPR];function ie(){return(0,s.mG)(this,void 0,void 0,(function(){var t;return(0,s.Jh)(this,(function(e){switch(e.label){case 0:if((t=sessionStorage.getItem(ne))&&re.includes(t))return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Qt.k.regularCheck("EU-GDPR")];case 2:return e.sent()?(sessionStorage.setItem(ne,Nt.EU_GDPR.toString()),[2,Nt.EU_GDPR]):(sessionStorage.setItem(ne,Nt.COMMON),[2,Nt.COMMON]);case 3:return e.sent(),[2,Nt.COMMON];case 4:return[2,t]}}))}))}function oe(){te.Z.setStatus(ee.Q.COOKIE_CONSENT,{preference:!0,statistics:!0,marketing:!0})}function se(t){return(0,s.mG)(this,void 0,void 0,(function(){var e,r;return(0,s.Jh)(this,(function(i){switch(i.label){case 0:return"1"===Xt.H.cookieAccepter.get()?[2]:[4,n.e(369).then(n.bind(n,3369))];case 1:return e=i.sent().show,r=e(t),document.body.appendChild(r),[2]}}))}))}function ae(t){var e=this;n.e(946).then(n.bind(n,2946)).then((function(n){var r=n.prepare,i=n.initCookieBot;return(0,s.mG)(e,void 0,void 0,(function(){var e;return(0,s.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),r(t),[4,i()];case 1:return n.sent()?[3,3]:[2];case 2:return e=n.sent(),console.error(e),[3,3];case 3:return[2]}}))}))})).catch((function(t){console.error(t)}))}var ue,ce={init:function(t){return(0,s.mG)(this,void 0,void 0,(function(){var e;return(0,s.Jh)(this,(function(r){switch(r.label){case 0:return t?t.enabled?[4,ie()]:("all"===(e=Xt.H.cookiesPolicy.get())||"necessary"===e||n.e(679).then(n.bind(n,2679)).then((function(e){var n=(0,e.renderCookiesReminder)(t);document.body.appendChild(n)})),oe(),[2]):(oe(),[2]);case 1:return r.sent()!==Nt.EU_GDPR?[3,3]:[4,ae(t)];case 2:return r.sent(),[3,5];case 3:return oe(),[4,se(t)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}},le=n(6975),de=null,he=window.opener===window;try{/FBAN|FBAV/i.test(navigator.userAgent)&&(he=!0)}catch(Ee){}var fe=function(t,e,n){return(0,s.mG)(void 0,void 0,void 0,(function(){return(0,s.Jh)(this,(function(r){return de&&window.removeEventListener("message",de),e?[2,new Promise((function(r){var i=function(n){var o=n.data;if("social_media_auth_callback"===(null==o?void 0:o.type)){o&&o.channel===t&&o.channelToken?r({channel:o.channel,channelToken:o.channelToken}):r(null),ue=null,window.removeEventListener("message",i);try{e.close()}catch(t){}}};de=i,window.addEventListener("message",i);var o=setInterval((function(){try{e.closed&&(ue=null,window.removeEventListener("message",i),clearInterval(o),r(null))}catch(t){}}),300);e.location=n}))]:(location.href=n,[2,null])}))}))},pe=n(7667),ve=["facebook","line"],ge={initialized:!1,channels:(0,s.ev)([],(0,s.CR)(ve),!1),onSuccess:function(t){},onError:function(t){},onUserDenied:function(){}},me={init:function(t){var e=void 0===t?{}:t,n=e.channels,r=void 0===n?(0,s.ev)([],(0,s.CR)(ve),!1):n,i=e.onSuccess,o=void 0===i?pe.ZT:i,a=e.onError,u=void 0===a?pe.ZT:a,c=e.onUserDenied,l=void 0===c?pe.ZT:c;return(0,s.mG)(this,void 0,void 0,(function(){var t;return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return ge.initialized?(console.error("Module [socialMedia] has been initialized."),[2]):(ge.initialized=!0,ge.channels=r,ge.onSuccess=o,ge.onError=u,ge.onUserDenied=l,[4,(0,s.mG)(void 0,void 0,void 0,(function(){var t,e,n,r,i;return(0,s.Jh)(this,(function(o){return t="sma_channel",e="sma_channelToken",n=new URL(window.location.href),r=n.searchParams.get(t),i=n.searchParams.get(e),n.searchParams.delete(t),n.searchParams.delete(e),(r||i)&&window.history.replaceState({},"",n),r?[2,{channel:r,channelToken:i}]:[2]}))}))]);case 1:return(t=e.sent())&&(t.channelToken?ge.onSuccess(t.channelToken):ge.onError({errorCode:99,errorMsg:"Unknown Error."})),[2]}}))}))},auth:function(t){return(0,s.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,s.Jh)(this,(function(r){switch(r.label){case 0:return ge.initialized?(e=function(t){return(0,s.mG)(n,void 0,void 0,(function(){var e,n,r;return(0,s.Jh)(this,(function(i){switch(i.label){case 0:return e=function(){if(he)return null;try{null==ue||ue.close()}catch(t){}var t=Math.min(700,screen.width-40),e=Math.min(700,screen.height-40),n=["toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,copyhistory=no","width="+t,"height="+e,"top="+(screen.height/2-e/2),"left="+(screen.width/2-t/2)].join();try{var r=window.open("about:blank","_blank",n);return r&&r!==window?(ue=r,r):(he=!0,null)}catch(t){return he=!0,console.error(t),null}}(),[4,le.V.socialMedia.genAuthUrl(t,{onError:function(t){var e=t.code,n=t.msg;ge.onError({errorCode:e,errorMsg:n})}})];case 1:if(!(n=i.sent()))return[3,6];r=null,i.label=2;case 2:return i.trys.push([2,4,,5]),[4,fe(t,e,n)];case 3:return(r=i.sent())||ge.onUserDenied(),[3,5];case 4:return i.sent(),ge.onError({errorCode:99,errorMsg:"Unknown Error."}),[3,5];case 5:r&&ge.onSuccess(r.channelToken),i.label=6;case 6:return[2]}}))}))},t?-1===ge.channels.indexOf(t)?(console.error("Channel [".concat(t,"] is not included when initialized.")),[2]):[4,e(t)]:[3,2]):(console.error("Module [socialMedia] has not been initialized."),[2]);case 1:return r.sent(),[3,4];case 2:return[4,new Promise((function(t){return(0,s.mG)(n,void 0,void 0,(function(){return(0,s.Jh)(this,(function(e){return console.error("[SocialMedia ChannelSelector] Not implement yet."),t(),[2]}))}))}))];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},getUserInfo:function(t,e){var n=e.onSuccess,r=e.onError;return(0,s.mG)(this,void 0,void 0,(function(){var e;return(0,s.Jh)(this,(function(i){switch(i.label){case 0:return[4,le.V.socialMedia.getUserInfo(t,{onError:function(t){var e=t.code,n=t.msg;null==r||r({errorCode:e,errorMsg:n})}})];case 1:return(e=i.sent())&&(null==n||n(e)),[2]}}))}))}},be=function(t){var e={title:t.title,text:t.desc,url:t.url};return"function"==typeof navigator.share&&"function"==typeof navigator.canShare&&navigator.canShare(e)},we=function(t){var e,n;try{for(var r=(0,s.XA)([/^https?:\/\/(.+\.)?gryphline\.com($|\/|:\d+\/?)/,/^https?:\/\/(.+\.)?gryphline\.net($|\/|:\d+\/?)/,/^https?:\/\/(.+\.)?hypergryph\.com($|\/|:\d+\/?)/,/^https?:\/\/(.+\.)?hypergryph\.net($|\/|:\d+\/?)/,/^https?:\/\/(.+\.)?hycdn\.cn($|\/?)/,/^https?:\/\/(.+\.)?hg-cdn\.com($|\/?)/,/^https?:\/\/localhost(:\d+)?/]),i=r.next();!i.done;i=r.next()){if(i.value.test(t))return!0}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!1},_e=!navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),ye=function(t){return(0,s.mG)(void 0,void 0,void 0,(function(){var e,n;return(0,s.Jh)(this,(function(r){switch(r.label){case 0:if(!navigator.clipboard||!window.isSecureContext)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(t)];case 2:return r.sent(),[2,!0];case 3:return e=r.sent(),console.error("Failed to copy: ",e),[2,!1];case 4:return[3,6];case 5:(n=document.createElement("textarea")).value=t,n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select();try{return document.execCommand("copy"),document.body.removeChild(n),[2,!0]}catch(t){return console.error("Failed to copy text: ",t),document.body.removeChild(n),[2,!1]}r.label=6;case 6:return[2]}}))}))},ke=function(){function t(t){this.params=t}return t.prototype.getChannels=function(){return(0,s.mG)(this,void 0,void 0,(function(){var t;return(0,s.Jh)(this,(function(e){return t=[{key:"facebook",icon:n(3481),title:"Facebook"},{key:"line",icon:n(155),title:"LINE"},{key:"twitter",icon:n(861),title:"X"},{key:"copy",icon:n(2459),title:"copy"}],!_e&&be(this.params)&&t.push({key:"system",icon:n(6960),title:"share"}),[2,t]}))}))},t}();var Ee,Se,Te,xe,Ae,Ie,Oe={params:null,options:null},Re=function(t){var e=(0,s.pi)((0,s.pi)({},Oe.params),t);if(!e.title)throw new Error("Share parameters are required. Please use setGlobalConfig to set default params or provide params to this function");return e.url||(e.url=location.href),e},Ce={canShareSystem:function(t){return be(Re(t))},setGlobalConfig:function(t,e){Oe.params=t,Oe.options=(0,s.pi)((0,s.pi)({},Oe.options),e)},getAvailableChannels:function(t){return void 0===t&&(t={}),(0,s.mG)(this,void 0,void 0,(function(){return(0,s.Jh)(this,(function(e){return[2,(n=Re(t.params),new ke(n)).getChannels()];var n}))}))},shareSiteTo:function(t,e){var n,r;return(0,s.mG)(this,void 0,void 0,(function(){var i,o,a,u,l,d;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:e=Re(e),i=function(t){var e=new URL("https://web-api.gryphline.com/share/site_share"),n={url:t.url||location.href,title:t.title};if(!we(n.url))throw new Error("Share url is not trusted.");if(t.lang&&(n.lang=t.lang),t.site&&(n.site=t.site),t.desc&&(n.desc=t.desc),t.imgUrl&&(n.imgUrl=t.imgUrl),n.imgUrl&&!we(n.imgUrl))throw new Error("Share imgUrl is not trusted.");return e.searchParams.set("q",btoa(encodeURIComponent(JSON.stringify(n)))),e.toString()}(e);try{c.t.event("social_media_share",{channel:t,target:"main_site"})}catch(t){}switch(t){case"facebook":return[3,1];case"line":return[3,2];case"twitter":return[3,3];case"copy":return[3,4];case"system":return[3,5]}return[3,9];case 1:return window.open("https://www.facebook.com/sharer.php?u=".concat(encodeURIComponent(i)),"_blank"),[2,!0];case 2:return window.open("https://line.me/R/share?text=".concat(encodeURIComponent(i)),"_blank"),[2,!0];case 3:return window.open("https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(i)),"_blank"),[2,!0];case 4:return(o=new URL(e.url||location.href)).searchParams.set("share_type","link"),(a=(null!==(n=e.shareBy)&&void 0!==n?n:"").toString())&&o.searchParams.set("share_by",a),u=o.toString(),(null===(r=Oe.options)||void 0===r?void 0:r.copyTitle)&&(u="【".concat(e.title,"】 ").concat(u)),[2,ye(u)];case 5:if(l={title:e.title,text:e.desc,url:e.url},!be(e))return[2,!1];s.label=6;case 6:return s.trys.push([6,8,,9]),[4,navigator.share(l)];case 7:return s.sent(),[2,!0];case 8:return d=s.sent(),console.error(d),[2,!1];case 9:return[3,10];case 10:return[2,!1]}}))}))}},Pe=n(1582),De="x_session_code",Ge=function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var t,e,n;return(0,s.Jh)(this,(function(r){switch(r.label){case 0:if(t=new URL(window.location.href),!(e=t.searchParams.get(De)))return[3,6];t.searchParams.delete(De),window.history.replaceState({},"",t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,Qt.k.sessionCodeConsume(e.trim().replace(/ /g,"+"))];case 2:return(n=r.sent())?[4,Pe.$.setToken(n)]:[3,4];case 3:r.sent(),r.label=4;case 4:return[3,6];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},Ue=function(t){return(0,s.mG)(void 0,void 0,void 0,(function(){var e,n,r;return(0,s.Jh)(this,(function(i){switch(i.label){case 0:if(e=new URL(t),![/(^|.+\.)gryphline\.com$/,/(^|.+\.)gryphline\.net$/,/(^|.+\.)skport\.com$/].some((function(t){return t.test(e.host)})))return[3,7];i.label=1;case 1:return i.trys.push([1,5,,6]),[4,Pe.$.getToken()];case 2:return(n=i.sent())?[4,Qt.k.sessionCodeGenerate(n)]:[3,4];case 3:(r=i.sent())&&(e.search?e.search+="&".concat(De,"=").concat(encodeURIComponent(r)):e.search="?".concat(De,"=").concat(encodeURIComponent(r))),i.label=4;case 4:return[3,6];case 5:return i.sent(),[3,6];case 6:return[2,e.href];case 7:return[2,t]}}))}))},Le={open:function(t,e){return void 0===e&&(e="_blank"),(0,s.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:return n=new URL(t),[/(^|.+\.)gryphline\.com$/,/(^|.+\.)gryphline\.net$/,/(^|.+\.)skport\.com$/].some((function(t){return t.test(n.host)}))?(r=null,"_blank"!==e?[3,2]:[4,window.open("about:blank",e)]):[3,4];case 1:(r=s.sent())&&r!==window&&r.document&&(r.document.write('<div style="position: fixed; width: 100%; height: 100%; background-color: #000000; color: #fff; display: flex; justify-content: center; align-items: center;"><span class="loader" style="font-size: 24px;">LOADING...</span></div>'),r.document.body.style.margin="0",(i=r.document.createElement("style")).innerHTML="\n                                .loader {\n                                  font-weight: bold;\n                                  font-family: sans-serif;\n                                  animation: l1 0.2s linear infinite alternate;\n                                }\n                                @keyframes l1 {to{opacity: 0}}",r.document.head.append(i)),s.label=2;case 2:return[4,Ue(t)];case 3:return o=s.sent(),r&&r!==window?r.location.replace(o):window.location.assign(o),[3,5];case 4:window.open(t,e),s.label=5;case 5:return[2]}}))}))},utils:{getUrlWithSessionCode:Ue}},Ne={SDK_TYPE:"GL",user:I,language:O.d,protocol:C,reservation:ut,survey:ft,ETL:c.t,projects:Vt,socialMedia:me,socialShare:Ce,navigation:Le,Account:kt.Z,Role:bt,Utils:r,U8:jt},je=window._GL_WEB_SDK_INIT_OPTIONS;O.d.set((null==je?void 0:je.language)||document.documentElement.lang);try{je&&(a.k.account.setHost(null===(Ee=je.devOptions)||void 0===Ee?void 0:Ee.accountServerHost),a.k.webApi.setHost(null===(Se=je.devOptions)||void 0===Se?void 0:Se.webApiServerHost),ce.init(je.cookiesReminder),je.etl&&(0,c.U)(je.etl,!0!==(null===(Te=je.cookiesReminder)||void 0===Te?void 0:Te.enabled)),je.user&&(_.requireEmail=null!==(xe=je.user.requireEmail)&&void 0!==xe?xe:_.requireEmail))}catch(t){}for((0,s.mG)(void 0,void 0,void 0,(function(){var t,e,n,r,i,o,a,u;return(0,s.Jh)(this,(function(c){switch(c.label){case 0:t=[T,Ge,A],e=0,n=function(){++e>=t.length&&(0,d.F)()},c.label=1;case 1:c.trys.push([1,6,7,8]),r=(0,s.XA)(t),i=r.next(),c.label=2;case 2:return i.done?[3,5]:[4,(0,i.value)().then(n,n)];case 3:c.sent(),c.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return o=c.sent(),a={error:o},[3,8];case 7:try{i&&!i.done&&(u=r.return)&&u.call(r)}finally{if(a)throw a.error}return[7];case 8:return[2]}}))})),window.GL_WEB_SDK=Ne;null===(Ae=window._GL_WEB_SDK_CALLBACK_QUEUE)||void 0===Ae?void 0:Ae.length;)null===(Ie=window._GL_WEB_SDK_CALLBACK_QUEUE.shift())||void 0===Ie||Ie();delete window._GL_WEB_SDK_CALLBACK_QUEUE},7754:function(t,e,n){"use strict";n.d(e,{t:function(){return p},U:function(){return g}});var r=n(655),i=(n(1501),n(8611)),o=n(7362),s=n(9653),a=n(1873),u=n(9412),c={initialized:!1,enable:!1},l={appId:o.L.ETL.appId||"",regionTag:o.L.ETL.regionTag||"sg",enableAdTrack:!0,routeChange:"history",enableGA4:!0},d=[],h=null,f=new Promise((function(t){h=t})),p={instance:null,getInstanceByAppId:function(t){return(0,u.getInstance)(t)},getInstanceAsync:function(t){return(0,r.mG)(void 0,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,f];case 1:if(n.sent(),t){if(-1===d.indexOf(t))throw new Error("ETL instance not initialized.");return[2,(0,u.getInstance)(t)]}if(!(e=d[0]))throw new Error("No appId available.");return[2,(0,u.getInstance)(e)]}}))}))},event:function(t,e){return void 0===e&&(e={}),(0,r.mG)(void 0,void 0,void 0,(function(){var n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,f];case 1:r.sent(),e=Object.assign({language:i.ag.get()},e),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,p.getInstanceAsync()];case 3:return r.sent().event(t,e),[3,5];case 4:return n=r.sent(),console.warn(n),[3,5];case 5:return[2]}}))}))},eventToAppId:function(t,e,n){return void 0===n&&(n={}),(0,r.mG)(void 0,void 0,void 0,(function(){var o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,f];case 1:r.sent(),n=Object.assign({language:i.ag.get()},n),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,p.getInstanceAsync(t)];case 3:return r.sent().event(e,n),[3,5];case 4:return o=r.sent(),console.warn(o),[3,5];case 5:return[2]}}))}))}};function v(t){var e,n,o,s,a,f,v=t.domain,g=t.sub_domain,m=t.third_domain,b=t.config,w=void 0===b?{}:b,_=t.pageProperties,y=void 0===_?{}:_,k=t.initialPV,E=void 0===k||k,S=t.autoPV,T=void 0===S||S;if(!c.initialized){c.initialized=!0,c.enable=!0;var x=Object.assign({},l,w);if(!(0,u.initWebJSWithConfig)({env:x.env,regionTag:x.regionTag,enableAdTrack:x.enableAdTrack,routeChange:x.routeChange,enableRealTimeSend:x.enableRealTimeSend,enableGA4:x.enableGA4,ga4:x.ga4}))return void console.warn("[@hg/gl-web-sdk] ETL init failed.");v||console.warn("[@hg/gl-web-sdk] ETL property [domain] not specified."),g||console.warn("[@hg/gl-web-sdk] ETL property [sub_domain] not specified.");var A=Array.isArray(x.appId)?x.appId:[x.appId];if(!A.length)return void console.warn("[@hg/gl-web-sdk] ETL appId not specified.");try{for(var I=(0,r.XA)(A),O=I.next();!O.done;O=I.next()){var R=O.value,C=(0,u.getInstance)(R);null===(o=C.setPageProperties)||void 0===o||o.call(C,{domain:v,sub_domain:g,third_domain:m,language:i.ag.get()}),null===(s=C.setPageProperties)||void 0===s||s.call(C,y),T&&(null===(a=C.autoPageViewEvent)||void 0===a||a.call(C)),E&&(null===(f=C.pageViewEvent)||void 0===f||f.call(C,{}))}}catch(t){e={error:t}}finally{try{O&&!O.done&&(n=I.return)&&n.call(I)}finally{if(e)throw e.error}}p.instance=(0,u.getInstance)(A[0]),d.push.apply(d,(0,r.ev)([],(0,r.CR)(A),!1)),null==h||h()}}var g=function(t,e){return void 0===e&&(e=!1),(0,r.mG)(void 0,void 0,void 0,(function(){var n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return e?(v(t),[2]):[4,s.Z.getStatus(a.Q.COOKIE_CONSENT)];case 1:return n=r.sent(),s.Z.watch(a.Q.COOKIE_CONSENT,(function(e){c.enable=!!e.statistics,e.statistics&&v(t)})),n.statistics&&v(t),[2]}}))}))}},579:function(t,e,n){"use strict";var r=n(1582),i=n(2878);e.Z={meta:{get subjectName(){var t={"en-us":"Gryphline Account","ja-jp":"Gryphlineアカウント","ko-kr":"Gryphline 계정","zh-tw":"Gryphline帳號"};return t[i.d.get()]||t["en-us"]}},API:{getInfo:r.$.getInfo,getToken:r.$.getToken,requireToken:r.$.requireToken,grantApp:r.$.grantApp}}},2878:function(t,e,n){"use strict";n.d(e,{d:function(){return r}});var r=n(8611).ag},8602:function(t,e,n){"use strict";n.d(e,{b:function(){return T}});var r,i=n(655),o=n(6223),s=n(4524),a=n(6381),u=n(7754),c=n(7362),l=function(t){switch(t){case"google":return 2;case"facebook":return 3;case"apple":return 4;case"twitter":return 5;default:throw new Error("unknown third party type - [".concat(t,"]"))}},d={general:{sendEmailCode:function(t){var e=t.email,n=t.type;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("/general/v1/send_email_code","POST",{email:e,type:n})}))]}))}))}},thirdParty:{getAuthUrl:function(t,e,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,a;return(0,i.Jh)(this,(function(i){switch(r="",t){case"google":r="/third_party/v1/google_login";break;case"facebook":r="/third_party/v1/facebook_login";break;case"apple":r="/third_party/v1/apple_login";break;case"twitter":r="/third_party/v1/twitter_login";break;default:throw new Error("unknown third party type - [".concat(t,"]"))}return(a=new URL(location.href)).searchParams.delete("tpa_channelId"),a.searchParams.delete("tpa_channelToken"),a.searchParams.delete("tpa_state"),e&&a.searchParams.set("tpa_action",e),n&&a.searchParams.set("tpa_state",JSON.stringify(n)),[2,(0,s.y6)((function(){return(0,o.W)(r,"GET",{callback:a.href})}))]}))}))}},auth:{tokenByThirdPartyToken:function(t){var e=t.channelId,n=t.channelToken;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("/user/auth/v1/token_by_third_party_token","POST",{channelId:e,channelToken:n})}))]}))}))},tokenByEmailPassword:function(t){var e=t.email,n=t.password;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("/user/auth/v1/token_by_email_password","POST",{email:e,password:n})}))]}))}))},register:function(t){var e=t.email,n=t.password,r=t.code,a=t.emailSubscription;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("/user/auth/v1/register","POST",{email:e,password:n,code:r,emailSubscription:c.L.features["user.email_subscription"]?a:void 0})}))]}))}))},forgetPassword:function(t){var e=t.email,n=t.password,r=t.code;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("/user/auth/v1/forget_password","POST",{email:e,password:n,code:r})}))]}))}))}},user:{getBasicInfo:function(t){var e,n,r=t.token;return(0,i.mG)(this,void 0,void 0,(function(){var t,c;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,(0,s.y6)((function(){return(0,o.W)("/user/info/v1/basic","GET",{token:r})}))];case 1:return t=i.sent(),(null===(e=t.data)||void 0===e?void 0:e.hgId)&&(t.data.displayName=t.data.email||t.data.nickName||t.data.hgId),t.result&&(null===(n=t.data)||void 0===n?void 0:n.hgId)&&a.xu.getCache()!==t.data.hgId&&(c=t.data.hgId,a.xu.saveCache(c),u.t.getInstanceAsync().then((function(t){t.userLoginEvent(c,{})}))),[2,t]}}))}))},getThirdPartyInfo:function(t){var e=t.token;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("/user/info/v1/third_party","GET",{token:e})}))]}))}))},validateThirdParty:function(t){var e=t.token,n=t.channelId,r=t.channelToken;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("/user/info/v1/validate_third_party","POST",{token:e,channelId:n,channelToken:r})}))]}))}))},bindThirdPartyLogin:function(t){var e=t.token,n=t.channelId,r=t.channelToken;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("/user/info/v1/bind_third_party_login","POST",{token:e,channelId:n,channelToken:r})}))]}))}))},unbindThirdPartyLogin:function(t){var e=t.token,n=t.channelId,r=t.channelToken;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("/user/info/v1/unbind_third_party_login","POST",{token:e,channelId:n,channelToken:r})}))]}))}))},bindEmail:function(t){var e=t.token,n=t.email,r=t.password,a=t.code,u=t.emailSubscription;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("/user/info/v1/bind_email","POST",{token:e,email:n,password:r,code:a,emailSubscription:c.L.features["user.email_subscription"]?u:void 0})}))]}))}))},cancelDeactivate:function(t){var e=t.token;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("/user/info/v1/cancel_deactivate","POST",{token:e})}))]}))}))},updateAgreement:function(t){var e=t.token;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("/user/info/v1/update_agreement_version","POST",{token:e})}))]}))}))},updateEmailSubscription:function(t){var e=t.token,n=t.emailSubscription;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("/user/info/v1/update_email_subscription","POST",{token:e,emailSubscription:c.L.features["user.email_subscription"]?n:void 0})}))]}))}))},grant:function(t){var e=t.token,n=t.appCode,r=t.type;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("user/oauth2/v2/grant","POST",{token:e,appCode:n,type:r})}))]}))}))},grantInfo:function(t){var e=t.token,n=t.appCode;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("/user/oauth2/v1/grant_info","GET",{token:e,appCode:n})}))]}))}))},cancelUnbindGrant:function(t){var e=t.token,n=t.appCode;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(0,s.y6)((function(){return(0,o.W)("/user/oauth2/v1/cancel_unbind_grant","POST",{token:e,appCode:n})}))]}))}))},logout:function(t){var e=t.token;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return u.t.getInstanceAsync().then((function(t){t.unsetUser()})),a.xu.clear(),[2,(0,s.y6)((function(){return(0,o.W)("/user/info/v1/logout","POST",{token:e})}))]}))}))}}},h=n(6975),f=function(t){var e=[],n={running:!1,toRun:null},r=function(t,r){return(0,i.mG)(void 0,void 0,void 0,(function(){var o,s,a,u,c,l;return(0,i.Jh)(this,(function(d){switch(d.label){case 0:if(e.push([t,r]),n.running)return[2];n.running=!0,n.toRun=e.shift()||null,d.label=1;case 1:if(!n.toRun)return[3,6];o=(0,i.CR)(n.toRun,2),s=o[0],a=o[1],d.label=2;case 2:return d.trys.push([2,4,,5]),u=a,c=[null],[4,s()];case 3:return u.apply(void 0,c.concat([d.sent()])),[3,5];case 4:return l=d.sent(),a(l),[3,5];case 5:return n.toRun=e.shift()||null,[3,1];case 6:return n.running=!1,[2]}}))}))};return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){return[2,new Promise((function(n,o){r((function(){return t.apply(void 0,(0,i.ev)([],(0,i.CR)(e),!1))}),(function(t,e){t?o(t):n(e)}))}))]}))}))}},p=n(8780),v=new a.Ct,g=f((function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return(t=a._4.getCache())?[2,{result:!0,data:{token:t}}]:[4,(0,p.f)()];case 1:return r.sent(),[4,h.V.getCookieStore("account_token")];case 2:return(e=r.sent()).result&&(null===(n=e.data)||void 0===n?void 0:n.content)?(a._4.saveCache(e.data.content),[2,(0,i.pi)((0,i.pi)({},e),{data:{token:e.data.content}})]):[2,(0,i.pi)((0,i.pi)({},e),{type:"apiServer",data:void 0})]}}))}))})),m=function(t){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){return a._4.saveCache(t),[2,h.V.setCookieStore("account_token",{content:t})]}))}))},b=function(){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return a._4.clear(),[2,h.V.clearCookieStore("account_token")]}))}))},w=null,_=!1,y=window.opener===window,k=function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,e,n,o,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:if(_)return[2,null];if(y)return[2,null];try{null==r||r.close()}catch(t){}t=Math.min(700,screen.width-40),e=Math.min(700,screen.height-40),n=["toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,copyhistory=no","width="+t,"height="+e,"top="+(screen.height/2-e/2),"left="+(screen.width/2-t/2)].join(),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,window.open("about:blank","_blank",n)];case 2:return(o=i.sent())&&o!==window?(r=o,[2,o]):(y=!0,[2,null]);case 3:return s=i.sent(),y=!0,console.error(s),[2,null];case 4:return[2]}}))}))},E=function(t,e,n){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(i){return w&&window.removeEventListener("message",w),e?[2,new Promise((function(i){var o=function(n){var s=n.data;if("third_party_auth_callback"===(null==s?void 0:s.type)){s&&s.channelId===t&&s.channelToken?i({channelId:s.channelId,channelToken:s.channelToken}):i(null),r=null,window.removeEventListener("message",o);try{e.close()}catch(t){}}};w=o,window.addEventListener("message",o);var s=setInterval((function(){try{e.closed&&(r=null,window.removeEventListener("message",o),clearInterval(s),i(null))}catch(t){}}),300);e.location=n}))]:(location.href=n,[2,null])}))}))},S=function(t){return(0,i.mG)(void 0,void 0,void 0,(function(){var e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,d.auth.tokenByThirdPartyToken(t)];case 1:return(e=r.sent()).result&&e.data&&"token"in e.data&&e.data.token?[4,m(e.data.token)]:[3,3];case 2:return n=r.sent(),[2,(0,i.pi)((0,i.pi)({},n),{msg:n.msg||e.msg,status:e.status,data:e.data})];case 3:if(101===e.status&&e.data&&"ticket"in e.data&&e.data.ticket)return[2,(0,i.pi)((0,i.pi)({},e),{result:!1,data:e.data})];r.label=4;case 4:return[2,(0,i.pi)((0,i.pi)({},e),{result:!1,data:void 0})]}}))}))},T={thirdParty:{setForceRedirect:function(t){_=t},tokenByChannelToken:S,bindByChannelToken:function(t){var e=t.channelId,n=t.channelToken;return(0,i.mG)(void 0,void 0,void 0,(function(){var t,r,o;return(0,i.Jh)(this,(function(s){switch(s.label){case 0:return[4,g()];case 1:return(t=s.sent()).result&&(null===(o=t.data)||void 0===o?void 0:o.token)?(r=t.data.token,[2,d.user.bindThirdPartyLogin({token:r,channelId:e,channelToken:n})]):[2,(0,i.pi)((0,i.pi)({},t),{result:!1,data:void 0})]}}))}))},unbindByChannelToken:function(t){var e=t.channelId,n=t.channelToken;return(0,i.mG)(void 0,void 0,void 0,(function(){var t,r,o;return(0,i.Jh)(this,(function(s){switch(s.label){case 0:return[4,g()];case 1:return(t=s.sent()).result&&(null===(o=t.data)||void 0===o?void 0:o.token)?(r=t.data.token,[2,d.user.unbindThirdPartyLogin({token:r,channelId:e,channelToken:n})]):[2,(0,i.pi)((0,i.pi)({},t),{result:!1,data:void 0})]}}))}))},validateByChannelToken:function(t){var e=t.channelId,n=t.channelToken;return(0,i.mG)(void 0,void 0,void 0,(function(){var t,r,o;return(0,i.Jh)(this,(function(s){switch(s.label){case 0:return[4,g()];case 1:return(t=s.sent()).result&&(null===(o=t.data)||void 0===o?void 0:o.token)?(r=t.data.token,[2,d.user.validateThirdParty({token:r,channelId:e,channelToken:n})]):[2,(0,i.pi)((0,i.pi)({},t),{result:!1,data:void 0})]}}))}))},login:function(t,e){return(0,i.mG)(void 0,void 0,void 0,(function(){var n,r,o,s,a,u;return(0,i.Jh)(this,(function(c){switch(c.label){case 0:return[4,k()];case 1:return n=c.sent(),r=l(t),[4,d.thirdParty.getAuthUrl(t,"login",e)];case 2:return(o=c.sent()).result&&(null===(u=o.data)||void 0===u?void 0:u.authURL)?(s=o.data.authURL,[4,E(r,n,s)]):[3,4];case 3:if(a=c.sent())return[2,S(a)];c.label=4;case 4:try{null==n||n.close()}catch(t){}return[2,(0,i.pi)((0,i.pi)({},o),{result:!1,data:void 0,msg:o.result?"":o.msg})]}}))}))},register:function(t){return(0,i.mG)(void 0,void 0,void 0,(function(){var e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,d.auth.tokenByThirdPartyToken({channelId:1,channelToken:window.btoa(JSON.stringify({ticket:t}))})];case 1:return(e=r.sent()).result&&e.data&&"token"in e.data&&e.data.token?[4,m(e.data.token)]:[3,3];case 2:return n=r.sent(),[2,(0,i.pi)((0,i.pi)({},n),{msg:n.msg||e.msg,status:e.status,data:e.data})];case 3:return[2,e]}}))}))},bind:function(t){return(0,i.mG)(void 0,void 0,void 0,(function(){var e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,k()];case 1:return e=r.sent(),n=l(t),[2,new Promise((function(r){return(0,i.mG)(void 0,void 0,void 0,(function(){var o,s,a,u,c,l,h,f;return(0,i.Jh)(this,(function(p){switch(p.label){case 0:return[4,g()];case 1:return(o=p.sent()).result&&(null===(h=o.data)||void 0===h?void 0:h.token)?(s=o.data.token,[4,d.thirdParty.getAuthUrl(t,"bind")]):[3,9];case 2:return(a=p.sent()).result&&(null===(f=a.data)||void 0===f?void 0:f.authURL)?(u=a.data.authURL,[4,E(n,e,u)]):[3,7];case 3:return(c=p.sent())?[4,d.user.bindThirdPartyLogin((0,i.pi)((0,i.pi)({},c),{token:s}))]:[3,5];case 4:return l=p.sent(),r(l),[3,6];case 5:try{null==e||e.close()}catch(t){}r({result:!1,data:void 0}),p.label=6;case 6:return[3,8];case 7:try{null==e||e.close()}catch(t){}r((0,i.pi)((0,i.pi)({},a),{result:!1,data:void 0})),p.label=8;case 8:return[3,10];case 9:try{null==e||e.close()}catch(t){}r((0,i.pi)((0,i.pi)({},o),{result:!1,data:void 0})),p.label=10;case 10:return[2]}}))}))}))]}}))}))},unbind:function(t){return(0,i.mG)(void 0,void 0,void 0,(function(){var e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,k()];case 1:return e=r.sent(),n=l(t),[2,new Promise((function(r){return(0,i.mG)(void 0,void 0,void 0,(function(){var o,s,a,u,c,l,h,f;return(0,i.Jh)(this,(function(p){switch(p.label){case 0:return[4,g()];case 1:return(o=p.sent()).result&&(null===(h=o.data)||void 0===h?void 0:h.token)?(s=o.data.token,[4,d.thirdParty.getAuthUrl(t,"unbind")]):[3,9];case 2:return(a=p.sent()).result&&(null===(f=a.data)||void 0===f?void 0:f.authURL)?(u=a.data.authURL,[4,E(n,e,u)]):[3,7];case 3:return(c=p.sent())?[4,d.user.unbindThirdPartyLogin((0,i.pi)((0,i.pi)({},c),{token:s}))]:[3,5];case 4:return l=p.sent(),r(l),[3,6];case 5:try{null==e||e.close()}catch(t){}r({result:!1,data:void 0}),p.label=6;case 6:return[3,8];case 7:try{null==e||e.close()}catch(t){}r((0,i.pi)((0,i.pi)({},a),{result:!1,data:void 0})),p.label=8;case 8:return[3,10];case 9:try{null==e||e.close()}catch(t){}r((0,i.pi)((0,i.pi)({},o),{result:!1,data:void 0})),p.label=10;case 10:return[2]}}))}))}))]}}))}))},validate:function(t){return(0,i.mG)(void 0,void 0,void 0,(function(){var e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,k()];case 1:return e=r.sent(),n=l(t),[2,new Promise((function(r){return(0,i.mG)(void 0,void 0,void 0,(function(){var o,s,a,u,c,l,h,f;return(0,i.Jh)(this,(function(p){switch(p.label){case 0:return[4,g()];case 1:return(o=p.sent()).result&&(null===(h=o.data)||void 0===h?void 0:h.token)?(s=o.data.token,[4,d.thirdParty.getAuthUrl(t,"validate")]):[3,9];case 2:return(a=p.sent()).result&&(null===(f=a.data)||void 0===f?void 0:f.authURL)?(u=a.data.authURL,[4,E(n,e,u)]):[3,7];case 3:return(c=p.sent())?[4,d.user.validateThirdParty((0,i.pi)((0,i.pi)({},c),{token:s}))]:[3,5];case 4:return l=p.sent(),r(l),[3,6];case 5:try{null==e||e.close()}catch(t){}r({result:!1,data:void 0}),p.label=6;case 6:return[3,8];case 7:try{null==e||e.close()}catch(t){}r((0,i.pi)((0,i.pi)({},a),{result:!1,data:void 0})),p.label=8;case 8:return[3,10];case 9:try{null==e||e.close()}catch(t){}r((0,i.pi)((0,i.pi)({},o),{result:!1,data:void 0})),p.label=10;case 10:return[2]}}))}))}))]}}))}))},getChannelToken:function(t,e){return void 0===e&&(e="custom"),(0,i.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:if(["login","bind","unbind","validate"].indexOf(e)>=0)throw new Error("Action [".concat(e,"] reserved."));return[4,k()];case 1:return n=o.sent(),r=l(t),[2,new Promise((function(o){return(0,i.mG)(void 0,void 0,void 0,(function(){var s,a,u,c;return(0,i.Jh)(this,(function(l){switch(l.label){case 0:return[4,d.thirdParty.getAuthUrl(t,e)];case 1:return(s=l.sent()).result&&(null===(c=s.data)||void 0===c?void 0:c.authURL)?(a=s.data.authURL,[4,E(r,n,a)]):[3,3];case 2:if(u=l.sent())o({result:!0,data:{channelId:u.channelId,channelToken:u.channelToken}});else{try{null==n||n.close()}catch(t){}o({result:!1,data:void 0})}return[3,4];case 3:try{null==n||n.close()}catch(t){}o((0,i.pi)((0,i.pi)({},s),{result:!1,data:void 0})),l.label=4;case 4:return[2]}}))}))}))]}}))}))}},sendEmailCode:function(t){var e=t.email,n=t.type;return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,d.general.sendEmailCode({email:e,type:n})]}))}))},getToken:g,saveToken:m,clearToken:b,checkRemoteToken:function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,e,n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(t=a._4.getCache())?[4,h.V.getCookieStore("account_token")]:[2,{result:!0,data:{status:1}}];case 1:return e=i.sent(),n=null===(r=e.data)||void 0===r?void 0:r.content,e.result&&n?t!==n?[2,{result:!0,data:{status:3}}]:[2,{result:!0,data:{status:0}}]:[2,{result:!0,data:{status:2}}]}}))}))},loginByEmailPassword:function(t){var e=t.email,n=t.password;return(0,i.mG)(void 0,void 0,void 0,(function(){var t,r,o;return(0,i.Jh)(this,(function(s){switch(s.label){case 0:return[4,d.auth.tokenByEmailPassword({email:e,password:n})];case 1:return(t=s.sent()).result&&(null===(o=t.data)||void 0===o?void 0:o.token)?[4,m(t.data.token)]:[3,3];case 2:return r=s.sent(),[2,(0,i.pi)((0,i.pi)({},r),{data:t.data})];case 3:return[2,t]}}))}))},register:function(t){var e=t.email,n=t.password,r=t.code,o=t.emailSubscription;return(0,i.mG)(void 0,void 0,void 0,(function(){var t,s,a;return(0,i.Jh)(this,(function(u){switch(u.label){case 0:return[4,d.auth.register({email:e,password:n,code:r,emailSubscription:o})];case 1:return(t=u.sent()).result&&(null===(a=t.data)||void 0===a?void 0:a.token)?[4,m(t.data.token)]:[3,3];case 2:return s=u.sent(),[2,(0,i.pi)((0,i.pi)({},s),{data:t.data})];case 3:return[2,t]}}))}))},forgetPassword:function(t){var e=t.email,n=t.password,r=t.code;return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,d.auth.forgetPassword({email:e,password:n,code:r})]}))}))},getBasicInfo:function(t){var e=(void 0===t?{}:t).token;return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,r;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:return e?[2,d.user.getBasicInfo({token:e})]:[4,g()];case 1:return(t=o.sent()).result&&(null===(r=t.data)||void 0===r?void 0:r.token)?(n=t.data.token,[2,d.user.getBasicInfo({token:n})]):[2,(0,i.pi)((0,i.pi)({},t),{data:void 0})]}}))}))},getThirdPartyInfo:function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,g()];case 1:return(t=r.sent()).result&&(null===(n=t.data)||void 0===n?void 0:n.token)?(e=t.data.token,[2,d.user.getThirdPartyInfo({token:e})]):[2,(0,i.pi)((0,i.pi)({},t),{data:void 0})]}}))}))},bindEmail:function(t){var e=t.token,n=t.email,r=t.password,o=t.code,s=t.emailSubscription;return(0,i.mG)(void 0,void 0,void 0,(function(){var t,a,u;return(0,i.Jh)(this,(function(c){switch(c.label){case 0:return e?[2,d.user.bindEmail({token:e,email:n,password:r,code:o,emailSubscription:s})]:[4,g()];case 1:return(t=c.sent()).result&&(null===(u=t.data)||void 0===u?void 0:u.token)?(a=t.data.token,[2,d.user.bindEmail({token:a,email:n,password:r,code:o,emailSubscription:s})]):[2,(0,i.pi)((0,i.pi)({},t),{data:void 0})]}}))}))},cancelDeactivate:function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,g()];case 1:return(t=r.sent()).result&&(null===(n=t.data)||void 0===n?void 0:n.token)?(e=t.data.token,[2,d.user.cancelDeactivate({token:e})]):[2,(0,i.pi)((0,i.pi)({},t),{data:void 0})]}}))}))},updateAgreement:function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,g()];case 1:return(t=r.sent()).result&&(null===(n=t.data)||void 0===n?void 0:n.token)?(e=t.data.token,[2,d.user.updateAgreement({token:e})]):[2,(0,i.pi)((0,i.pi)({},t),{data:void 0})]}}))}))},updateEmailSubscription:function(t){return(0,i.mG)(void 0,void 0,void 0,(function(){var e,n,r;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:return[4,g()];case 1:return(e=o.sent()).result&&(null===(r=e.data)||void 0===r?void 0:r.token)?(n=e.data.token,[2,d.user.updateEmailSubscription({token:n,emailSubscription:t})]):[2,(0,i.pi)((0,i.pi)({},e),{data:void 0})]}}))}))},grant:f((function(t){var e=t.appCode,n=t.type,r=void 0===n?1:n;return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,o,s,a,u,c,l;return(0,i.Jh)(this,(function(h){switch(h.label){case 0:return[4,g()];case 1:return t=h.sent(),n=null===(c=t.data)||void 0===c?void 0:c.token,t.result&&n?(o="".concat(n,":").concat(e,":").concat(r),(s=null===(l=null==v?void 0:v.getCache())||void 0===l?void 0:l[o])?[2,s]:[4,d.user.grant({token:n,appCode:e,type:r})]):[3,3];case 2:return a=h.sent(),v.saveCache(((u={})[o]=a,u)),[2,a];case 3:return[2,(0,i.pi)((0,i.pi)({},t),{data:void 0})]}}))}))})),grantInfo:function(t){var e=t.appCode;return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,r;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:return[4,g()];case 1:return(t=o.sent()).result&&(null===(r=t.data)||void 0===r?void 0:r.token)?(n=t.data.token,[2,d.user.grantInfo({token:n,appCode:e})]):[2,(0,i.pi)((0,i.pi)({},t),{data:void 0})]}}))}))},cancelUnbindGrant:function(t){var e=t.appCode;return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n,r;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:return[4,g()];case 1:return(t=o.sent()).result&&(null===(r=t.data)||void 0===r?void 0:r.token)?(n=t.data.token,[2,d.user.cancelUnbindGrant({token:n,appCode:e})]):[2,(0,i.pi)((0,i.pi)({},t),{data:void 0})]}}))}))},logout:function(){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,b()];case 1:return[2,{result:t.sent().result}]}}))}))}}},8780:function(t,e,n){"use strict";n.d(e,{f:function(){return s},F:function(){return a}});var r=n(655),i=!1,o=[],s=function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){return i?[2]:[2,new Promise((function(t){o.push((function(){return t()}))}))]}))}))},a=function(){var t;if(!i)for(i=!0;o.length;)null===(t=o.shift())||void 0===t||t()}},4524:function(t,e,n){"use strict";n.d(e,{$U:function(){return o},kA:function(){return s},y6:function(){return a}});var r=n(655),i=n(8611),o=function(t){function e(n){var r,o=n.statusCode,s=void 0===o?200:o,a=n.resBody,u=void 0===a?{}:a,c=t.call(this,null!==(r=u.msg)&&void 0!==r?r:u.status?"unknown error":u.message||i.kb[i.ag.get()]||"network error")||this;return c.type=e.type,c.statusCode=s,c.resBody=u,c.resBody.msg=c.message,c}return(0,r.ZT)(e,t),e.type="accountServerError",e}(Error),s=function(t){return(null==t?void 0:t.type)===o.type};function a(t){return(0,r.mG)(this,void 0,void 0,(function(){var e,n,o;return(0,r.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t()];case 1:return e=a.sent(),[2,(0,r.pi)((0,r.pi)({},e),{result:!0})];case 2:return n=a.sent(),s(o=n)?[2,(0,r.pi)((0,r.pi)({},(null==o?void 0:o.resBody)||{}),{statusCode:o.statusCode,result:!1})]:(console.warn(o),[2,{result:!1,msg:(null==o?void 0:o.message)||i.kb[i.ag.get()]||"network error"}]);case 3:return[2]}}))}))}},6223:function(t,e,n){"use strict";n.d(e,{q:function(){return l},W:function(){return d}});var r=n(655),i=n(6804),o=n(1503),s=n(9494),a=n(8611),u=n(1350),c=n(4524),l={OK:0,REQUIRE_CAPTCHA:1,CAPTCHA_FAILED:2,INVALID_TOKEN:3,REQUIRE_TWO_STEP_VALIDATE:5,REQUIRE_ADVANCED_ACCOUNT:6,ACCOUNT_DELETING:8,ACCOUNT_BANNED:10,OPEN_ID_NOT_EXIST:101,OPEN_ID_DELETING:102};function d(t,e,n){return(0,r.mG)(this,void 0,void 0,(function(){var h,f,p,v,g,m,b,w,_;return(0,r.Jh)(this,(function(y){switch(y.label){case 0:h=a.ag.get(),t=t.startsWith("/")?t.slice(1):t,y.label=1;case 1:return y.trys.push([1,6,,9]),f={prefixUrl:s.k.account.getHost(),method:e,headers:(_={},_["X-Language"]=h,_),timeout:2e4},"GET"===e&&n?f.searchParams=n:n&&(f.json=n),[4,(0,i.ZP)(t,f).json()];case 2:return(p=y.sent()).status===l.OK?[2,p]:p.status===l.REQUIRE_CAPTCHA&&p.data?(p.msg="",v=p.data.captcha,[4,(0,u.B)(v,h)]):[3,5];case 3:return(g=y.sent())?[4,d(t,e,(0,r.pi)((0,r.pi)({},n),{captcha:g}))]:[3,5];case 4:return[2,y.sent()];case 5:throw new c.$U({resBody:p});case 6:if(m=y.sent(),b=m,(0,c.kA)(b))throw b;return b instanceof o.B?[4,b.response.json().catch((function(){return{}}))]:[3,8];case 7:throw w=y.sent(),new c.$U({statusCode:b.response.status,resBody:w});case 8:throw b;case 9:return[2]}}))}))}},1582:function(t,e,n){"use strict";n.d(e,{$:function(){return C}});var r=n(655),i=function(){function t(t){this.duration=1e3,this.running=!1,this.caching=!1,this.resolvers=[],this.rejecters=[],this.duration=(null==t?void 0:t.duration)||this.duration}return t.prototype.run=function(t){return(0,r.mG)(this,void 0,void 0,(function(){var e,n,i=this;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(this.caching)return[2,this.value];if(this.running)return[2,new Promise((function(t,e){i.resolvers.push(t),i.rejecters.push(e)}))];this.running=!0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t()];case 2:return e=r.sent(),this.resolvers.forEach((function(t){return t(e)})),this.cache(e),this.clearRunning(),[2,e];case 3:throw n=r.sent(),this.rejecters.forEach((function(t){return t(n)})),this.clearRunning(),n;case 4:return[2]}}))}))},t.prototype.cache=function(t){var e=this;this.value=t,this.caching=!0,setTimeout((function(){e.caching=!1}),this.duration)},t.prototype.clearRunning=function(){this.running=!1,this.rejecters.splice(0,this.rejecters.length),this.resolvers.splice(0,this.resolvers.length)},t}(),o=n(4212),s=n(6755);function a(t){return s.P.create("account",(0,r.pi)({msg:t.msg||u[t.code]},t))}var u={NO_LOGIN:(0,o.Z)("No authorized."),LOGIN_EXPIRED:(0,o.Z)("Auth expired."),ACCOUNT_CANCELLING:(0,o.Z)("Account in cancellation."),DEFAULT:(0,o.Z)("Unhandled error.")},c=n(722),l=n(6381),d=new i;function h(){return(0,r.mG)(this,void 0,void 0,(function(){var t,e=this;return(0,r.Jh)(this,(function(n){return null===(t=l._4.getCache())?[2,d.run((function(){return(0,r.mG)(e,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,c.k.getCookieStore("account_token")];case 1:return(t=e.sent())&&l._4.saveCache(t),[2,t]}}))}))}))]:[2,t]}))}))}function f(){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,h()];case 1:if(!(t=e.sent()))throw a({code:"NO_LOGIN"});return[2,t]}}))}))}var p,v=n(2291),g=n(3602),m=n(1350);!function(t){t[t.CLIENT=0]="CLIENT",t[t.OTHER=1]="OTHER"}(p||(p={}));var b=n(7754),w=n(9494),_=n(8611),y=0,k=1,E=8,S=new v.KU({host:w.k.account.getHost(),headers:function(){var t;return(t={})["X-Language"]=_.ag.get(),t},timeout:2e4,onResponse:function(t,e){return(0,r.mG)(void 0,void 0,void 0,(function(){var n,i,o;return(0,r.Jh)(this,(function(s){switch(s.label){case 0:return t.status===y?[2,t.data]:t.status===k&&t.data?(t.msg="",n=t.data.captcha,[4,(0,m.B)(n,_.ag.get())]):[3,3];case 1:return(i=s.sent())?[4,e.client.request(e.url,(0,r.pi)((0,r.pi)({},e.option),{data:(0,r.pi)((0,r.pi)({},null===(o=e.option)||void 0===o?void 0:o.data),{captcha:i})}))]:[3,3];case 2:if((t=s.sent()).status===y)return[2,t.data];s.label=3;case 3:if(t.status===E)throw a({code:"ACCOUNT_CANCELLING",msg:t.msg,data:{requestTs:t.data.delete_request_ts,commitTs:t.data.delete_commit_ts}});throw a({code:"DEFAULT",msg:t.msg,data:t.data,detail:t})}}))}))},onError:function(t){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){if(g.o.is(t))throw 401===t.statusCode?a({code:"LOGIN_EXPIRED"}):new s.q("REQUEST_ERROR",t.message);throw t}))}))}});function T(t){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,S.get("/user/info/v1/basic",{token:t})];case 1:return(e=n.sent()).hgId&&(e.displayName=e.email||e.nickName||e.hgId),e.hgId&&l.xu.getCache()!==e.hgId&&(l.xu.saveCache(e.hgId),b.t.getInstanceAsync().then((function(t){t.userLoginEvent(e.hgId,{})}))),[2,e]}}))}))}var x,A=n(2875),I=n(18),O=n(7362);!function(t){t.GAME="GAME",t.APP="APP",t.SERVICE="SERVICE"}(x||(x={}));var R={arknights:{key:"arknights",type:x.GAME,code:"arknights"},endfield:{key:"endfield",type:x.GAME,code:"endfield"},exa:{key:"exa",type:x.GAME,code:""},popucom:{key:"popucom",type:x.GAME,code:"popucom"},binding:{key:"binding",type:x.SERVICE,code:O.L.BINDING_SERVER.appCode}};var C={getInfo:function(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,f()];case 1:return[2,T(t.sent())]}}))}))},getToken:h,requireToken:f,setToken:function(t){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,c.k.setCookieStore("account_token",t)];case 1:return e.sent()&&l._4.saveCache(t),[2,t]}}))}))},clearToken:function(){c.k.clearCookieStore("account_token"),l._4.clear()},grantApp:function(t){return(0,r.mG)(this,void 0,void 0,(function(){var e,n;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return[4,f()];case 1:return e=i.sent(),n=function(t){return R[t].code}(t),[4,(0,A.lJ)(I.D1,{identifier:n,verifier:e,fetch:function(){return function(t,e){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,S.post("/user/oauth2/v2/grant",{token:t,appCode:e,type:p.OTHER})];case 1:return[2,n.sent().token]}}))}))}(e,n)}})];case 2:return[2,i.sent()]}}))}))}}},538:function(t,e,n){"use strict";n.d(e,{kP:function(){return f},Pm:function(){return g},an:function(){return p},Hr:function(){return v}});var r=n(655),i=n(4212),o=n(6755),s=n(2291),a=n(3602);function u(t){return o.P.create("role",(0,r.pi)({msg:t.msg||c[t.code]},t))}var c={DEFAULT:(0,i.Z)("未处理异常")},l=n(9494),d=n(8611),h=new s.KU({host:l.k.binding.getHost(),headers:function(){var t;return(t={})["X-Language"]=d.ag.get(),t},timeout:2e4,onResponse:function(t){if(0===t.status)return t.data;throw u({code:"DEFAULT",msg:t.msg,data:t.data,detail:t})},onError:function(t){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){if(a.o.is(t))throw new o.q("REQUEST_ERROR",t.message);throw t}))}))}});function f(t,e,n){return(0,r.mG)(this,void 0,void 0,(function(){var o,s;return(0,r.Jh)(this,(function(a){switch(a.label){case 0:return[4,h.get("/account/binding/v1/binding_list",(0,r.pi)({token:t,appCode:e},(null==n?void 0:n.serverId)&&{serverId:n.serverId}))];case 1:if(0===(o=a.sent()).list.length)return[2,[]];if(!(s=o.list.find((function(t){return t.appCode===e}))))throw u({code:"DEFAULT",msg:(0,i.Z)("角色数据不匹配")});return[2,s.bindingList]}}))}))}function p(t,e){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,h.post("/account/binding/v1/token_by_uid",{token:t,uid:e})];case 1:return[2,n.sent().token]}}))}))}function v(t,e){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,h.post("/account/binding/v1/u8_token_by_uid",{token:t,uid:e})];case 1:return[2,n.sent().token]}}))}))}function g(t,e){var n;return(0,r.mG)(this,void 0,void 0,(function(){var i,o,s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,h.get("/general/v1/auth_app_list",{token:t})];case 1:return i=r.sent(),(o=null===(n=i.appList)||void 0===n?void 0:n.find((function(t){return t.appCode===e})))&&o.supportServer&&o.serverList?[2,o.serverList]:[2,[]];case 2:return s=r.sent(),console.warn("fetchServerList failed:",s),[2,[]];case 3:return[2]}}))}))}},9099:function(t,e,n){"use strict";n.d(e,{Ke:function(){return f},W0:function(){return v},Mb:function(){return g},JV:function(){return m}});var r=n(655),i=n(2875),o=n(18),s=n(579),a=n(538),u=n(6755),c=n(4212);function l(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,s.Z.API.grantApp("binding")];case 1:return[2,t.sent()]}}))}))}function d(t){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,l()];case 1:return e=n.sent(),[4,(0,i.lJ)(o.BJ,{identifier:t,verifier:e,fetch:function(){return(0,a.an)(e,t)}})];case 2:return[2,n.sent()]}}))}))}function h(t){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,l()];case 1:return e=n.sent(),[4,(0,i.lJ)(o.HX,{identifier:t,verifier:e,fetch:function(){return(0,a.Hr)(e,t)}})];case 2:return[2,n.sent()]}}))}))}function f(t){return(0,r.mG)(this,void 0,void 0,(function(){var e,n,s,u,c,d,h,f,v,g;return(0,r.Jh)(this,(function(m){switch(m.label){case 0:return[4,l()];case 1:return e=m.sent(),[4,(0,a.kP)(e,t)];case 2:return 0===(n=m.sent()).length?[2,null]:[4,(0,i.lJ)(o.gn,{persist:!0,identifier:t})];case 3:if((s=m.sent())&&((u=n.find((function(t){return t.uid===s})))||(0,i.k0)(o.gn,{persist:!0,identifier:t})),!u){try{for(c=(0,r.XA)(n),d=c.next();!d.done;d=c.next()){if((h=d.value).isDefault){u=h;break}h.isOfficial&&(u=h)}}catch(t){v={error:t}}finally{try{d&&!d.done&&(g=c.return)&&g.call(c)}finally{if(v)throw v.error}}u||(u=n[0])}return[4,p(t,u.uid)];case 4:return f=m.sent(),[2,u?{role:u,token:f}:null]}}))}))}function p(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,d(e)];case 1:return n=r.sent(),(0,i.K7)(o.gn,e,{persist:!0,identifier:t}),[2,n]}}))}))}function v(t,e){return void 0===e&&(e={}),(0,r.mG)(this,void 0,void 0,(function(){var n,s,u,c,d,h,f,p,v,m,b,w,_,y,k,E,S;return(0,r.Jh)(this,(function(T){switch(T.label){case 0:return[4,l()];case 1:return n=T.sent(),[4,(0,a.kP)(n,t,e)];case 2:return 0===(s=T.sent()).length?[2,null]:[4,(0,i.lJ)(o.gn,{persist:!0,identifier:t})];case 3:if((u=T.sent())&&((c=s.find((function(t){return t.uid===u})))||(0,i.k0)(o.gn,{persist:!0,identifier:t})),!c){try{for(d=(0,r.XA)(s),h=d.next();!h.done;h=d.next()){if((f=h.value).isDefault){c=f;break}f.isOfficial&&(c=f)}}catch(t){E={error:t}}finally{try{h&&!h.done&&(S=d.return)&&S.call(d)}finally{if(E)throw E.error}}c||(c=s[0])}return c?(v=!!e.isMultiServers)?[4,(0,i.lJ)(o.PM,{persist:!0,identifier:t})]:[3,8]:[2,null];case 4:if((m=T.sent())&&((p=c.roles.find((function(t){return t.roleId===m})))||(0,i.k0)(o.PM,{persist:!0,identifier:t})),p||(p=c.roles[0]),!p||p.serverName)return[3,8];b=p.serverId,T.label=5;case 5:return T.trys.push([5,7,,8]),[4,(0,a.Pm)(n,t)];case 6:return w=T.sent(),(_=w.find((function(t){return t.serverId===b})))&&(p.serverName=_.serverName),[3,8];case 7:return y=T.sent(),console.warn("Failed to fetch server name:",y),[3,8];case 8:return v&&!p?[2,null]:[4,g(t,c.uid,{isMultiServers:v,roleId:null==p?void 0:p.roleId})];case 9:return k=T.sent(),[2,{role:c,serverRole:p,token:k}]}}))}))}function g(t,e,n){return void 0===n&&(n={}),(0,r.mG)(this,void 0,void 0,(function(){var s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(n.isMultiServers&&!n.roleId)throw new u.q("ROLE_ID_REQUIRED",(0,c.Z)("角色roleId不能为空"));return[4,h(e)];case 1:return s=r.sent(),(0,i.K7)(o.gn,e,{persist:!0,identifier:t}),n.isMultiServers&&n.roleId&&(0,i.K7)(o.PM,n.roleId,{persist:!0,identifier:t}),[2,s]}}))}))}function m(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,l()];case 1:return n=r.sent(),[4,(0,a.kP)(n,t,e)];case 2:return[2,r.sent()]}}))}))}},6975:function(t,e,n){"use strict";n.d(e,{V:function(){return h}});var r=n(655),i=n(6804),o=n(1503),s=n(8611),a=n(9494),u=function(t){function e(n){var r=n.statusCode,i=void 0===r?200:r,o=n.resBody,a=void 0===o?{}:o,u=t.call(this,a.msg||a.message||s.kb[s.ag.get()]||"network error")||this;return u.type=e.type,u.statusCode=i,u.resBody=a,u.resBody.msg=u.message,u}return(0,r.ZT)(e,t),e.type="webApiServerError",e}(Error),c=function(t){return(null==t?void 0:t.type)===u.type};function l(t){return(0,r.mG)(this,void 0,void 0,(function(){var e,n,i;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t()];case 1:return e=o.sent(),[2,(0,r.pi)((0,r.pi)({},e),{result:!0})];case 2:return n=o.sent(),c(i=n)?[2,(0,r.pi)((0,r.pi)({},(null==i?void 0:i.resBody)||{}),{statusCode:i.statusCode,result:!1})]:(console.warn(i),[2,{result:!1,msg:(null==i?void 0:i.message)||s.kb[s.ag.get()]||"network error"}]);case 3:return[2]}}))}))}function d(t,e,n){return void 0===e&&(e=null),void 0===n&&(n="GET"),(0,r.mG)(this,void 0,void 0,(function(){var l,d,h,f,p,v;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),t=t.startsWith("/")?t.slice(1):t,l={prefixUrl:a.k.webApi.getHost(),method:n,headers:(v={},v["X-Language"]=s.ag.get(),v),credentials:"include",timeout:1e4},"GET"===n&&e?l.searchParams=e:e&&(l.json=e),[4,(0,i.ZP)(t,l).json()];case 1:if(0===(d=r.sent()).code)return[2,d];throw new u({resBody:d});case 2:if(h=r.sent(),c(f=h))throw f;return f instanceof o.B?[4,f.response.json().catch((function(){return{}}))]:[3,4];case 3:throw p=r.sent(),new u({statusCode:f.response.status,resBody:p});case 4:throw f;case 5:return[2]}}))}))}var h={getCookieStore:function(t){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return[2,l((function(){return d("/cookie_store/".concat(t))}))]}))}))},setCookieStore:function(t,e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){return[2,l((function(){return d("/cookie_store/".concat(t),e,"POST")}))]}))}))},clearCookieStore:function(t){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return[2,l((function(){return d("/cookie_store/".concat(t),null,"DELETE")}))]}))}))},socialMedia:{genAuthUrl:function(t,e){var n=(void 0===e?{}:e).onError;return(0,r.mG)(this,void 0,void 0,(function(){var e,i,o,s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,l((function(){return d("/social_media/auth_url/".concat(t),{redirect_uri:location.href})}))];case 1:return e=r.sent(),i=e.code,o=e.data,s=e.msg,0===i&&o?[2,o.authUrl]:(null==n||n({code:i,msg:s}),[2,null])}}))}))},getUserInfo:function(t,e){var n=(void 0===e?{}:e).onError;return(0,r.mG)(this,void 0,void 0,(function(){var e,i,o,s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,l((function(){return d("/social_media/user_info",{token:t})}))];case 1:return e=r.sent(),i=e.code,o=e.data,s=e.msg,0===i&&o?[2,o]:(null==n||n({code:i,msg:s}),[2,null])}}))}))}}}},722:function(t,e,n){"use strict";n.d(e,{k:function(){return l}});var r,i=n(655),o=n(2291),s=n(3602),a=n(9494),u=n(8611),c=new o.KU({host:a.k.webApi.getHost(),headers:(r={},r["X-Language"]=u.ag.get(),r),onError:function(t){if(s.o.is(t)&&401===t.statusCode)return{code:-1,msg:"",data:{}};throw t}});var l={getCookieStore:function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,c.get("/cookie_store/".concat(t||""))];case 1:return e=i.sent(),n=e.code,r=e.data,e.msg,0!==n?[2,null]:[2,r.content]}}))}))},setCookieStore:function(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,c.post("/cookie_store/".concat(t||""),{content:e})];case 1:return n=i.sent(),r=n.code,n.data,n.msg,0!==r?[2,!1]:[2,!0]}}))}))},clearCookieStore:function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,c.request("/cookie_store/".concat(t||""),{method:"DELETE"})];case 1:return e=r.sent(),n=e.code,e.data,e.msg,0!==n?[2,!1]:[2,!0]}}))}))},sessionCodeGenerate:function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,c.post("/account/session/code_generate",{token:t})];case 1:return e=i.sent(),n=e.code,r=e.data,0!==n?[2,null]:[2,r.code]}}))}))},sessionCodeConsume:function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,c.post("/account/session/code_consume",{code:t})];case 1:return e=i.sent(),n=e.code,r=e.data,0!==n?[2,null]:[2,r.token]}}))}))},regularCheck:function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,c.post("/regular/check",{g:t})];case 1:return e=i.sent(),n=e.code,r=e.data,0!==n?[2,null]:[2,r.result]}}))}))}}},6381:function(t,e,n){"use strict";n.d(e,{Ct:function(){return r},_4:function(){return i},xu:function(){return o}});var r=function(){function t(t){void 0===t&&(t=1e3),this.cacheTime=t,this.value=null,this.updatedAt=0}return t.prototype.clear=function(){this.value=null},t.prototype.getCache=function(){return this.cacheTime<0?this.value||null:Date.now()-this.updatedAt<this.cacheTime&&this.value||null},t.prototype.saveCache=function(t){return t&&(this.value=t,this.updatedAt=Date.now()),this},t}(),i=new r(-1),o=new r(-1)},1271:function(t,e,n){"use strict";n.d(e,{wY:function(){return i},ZT:function(){return o},Rx:function(){return s}});var r=n(655),i=function(){var t,e,n=location.origin.replace(/^https?:\/\//,"").replace(/:\d+$/,"");if("localhost"===n)return n;try{for(var i=(0,r.XA)([".int.gryphline.net",".gryphline.com",".gryphline.net"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(".".concat(n)===s)return s;if(new RegExp("".concat(s.replace(/\./g,"\\."),"$")).test(n))return s}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return null},o=function(){},s=function(t){try{return JSON.parse(t)}catch(t){return null}}},655:function(t,e,n){"use strict";n.d(e,{ZT:function(){return i},pi:function(){return o},_T:function(){return s},mG:function(){return a},Jh:function(){return u},XA:function(){return c},CR:function(){return l},ev:function(){return d}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function d(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create},8728:function(t,e,n){"use strict";t.exports=n.p+"assets/12p.7d5a190e026d120c9631.png"},1889:function(t,e,n){"use strict";t.exports=n.p+"assets/6p.9aae0a29577f9e274d04.png"},2171:function(t,e,n){"use strict";t.exports=n.p+"assets/copyright.bf9c23d7cfa767767647.png"},7692:function(t,e,n){"use strict";t.exports=n.p+"assets/title.2f78167f8bddbbdeb568.svg"},1795:function(t,e,n){"use strict";t.exports=n.p+"assets/copyright.160113cbd1f4597b075d.png"},3002:function(t,e,n){"use strict";t.exports=n.p+"assets/copyright.e0eb9909d07f9f32a14b.png"},105:function(t,e,n){"use strict";t.exports=n.p+"assets/copyright.e092e4e3cc2cae7c4097.png"},7660:function(t,e,n){"use strict";t.exports=n.p+"assets/ESRB.5a6a455503a8b3568bf3.svg"},7637:function(t,e,n){"use strict";t.exports=n.p+"assets/GRAC.5da95862e5586437597d.png"},7612:function(t,e,n){"use strict";t.exports=n.p+"assets/PEGI.36702e64a7e0452b7bcf.png"},8256:function(t,e,n){"use strict";t.exports=n.p+"assets/VGRS.3a3f8a0a04bffa737aaa.png"},6605:function(t,e,n){"use strict";t.exports=n.p+"assets/copyright.e8f0b37137f226cc3142.png"},2079:function(t,e,n){"use strict";t.exports=n.p+"assets/GRAC.bbdea20ff4de750fa7a7.png"},6046:function(t,e,n){"use strict";t.exports=n.p+"assets/copyright.b542f16f03a36dd266c3.png"},1617:function(t,e,n){"use strict";t.exports=n.p+"assets/GRAC.3a3e442cd76ff9eff6b3.png"},2459:function(t,e,n){"use strict";t.exports=n.p+"assets/copy.15f85e8ef7e8f0fc0c99.svg"},3481:function(t,e,n){"use strict";t.exports=n.p+"assets/facebook.7a39da80970d4c7d02bc.svg"},155:function(t,e,n){"use strict";t.exports=n.p+"assets/line.77f393cfec302adfcd1b.svg"},6960:function(t,e,n){"use strict";t.exports=n.p+"assets/system.c68527cf6c667a6aeb14.svg"},861:function(t,e,n){"use strict";t.exports=n.p+"assets/twitter.e64637ca73ec3c990df6.svg"},1501:function(t,e,n){"use strict";var r=n(2719);t.exports=r},9798:function(t,e,n){"use strict";n(2795),n(3383);var r=n(8749);t.exports=r("Array","flat")},509:function(t,e,n){"use strict";var r=n(9985),i=n(3691),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a function")}},7370:function(t,e,n){"use strict";var r=n(4201),i=n(5391),o=n(2560).f,s=r("unscopables"),a=Array.prototype;void 0===a[s]&&o(a,s,{configurable:!0,value:i(null)}),t.exports=function(t){a[s][t]=!0}},5027:function(t,e,n){"use strict";var r=n(8999),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not an object")}},4328:function(t,e,n){"use strict";var r=n(5290),i=n(7578),o=n(6310),s=function(t){return function(e,n,s){var a=r(e),u=o(a);if(0===u)return!t&&-1;var c,l=i(s,u);if(t&&n!=n){for(;u>l;)if((c=a[l++])!=c)return!0}else for(;u>l;l++)if((t||l in a)&&a[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},5271:function(t,e,n){"use strict";var r=n(2297),i=n(9429),o=n(8999),s=n(4201)("species"),a=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(i(e)&&(e===a||r(e.prototype))||o(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?a:e}},7120:function(t,e,n){"use strict";var r=n(5271);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},6648:function(t,e,n){"use strict";var r=n(8844),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},926:function(t,e,n){"use strict";var r=n(3043),i=n(9985),o=n(6648),s=n(4201)("toStringTag"),a=Object,u="Arguments"===o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=a(t),s))?n:u?o(e):"Object"===(r=o(e))&&i(e.callee)?"Arguments":r}},8758:function(t,e,n){"use strict";var r=n(6812),i=n(9152),o=n(2474),s=n(2560);t.exports=function(t,e,n){for(var a=i(e),u=s.f,c=o.f,l=0;l<a.length;l++){var d=a[l];r(t,d)||n&&r(n,d)||u(t,d,c(e,d))}}},5773:function(t,e,n){"use strict";var r=n(7697),i=n(2560),o=n(5684);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},5684:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},1880:function(t,e,n){"use strict";var r=n(9985),i=n(2560),o=n(8702),s=n(5014);t.exports=function(t,e,n,a){a||(a={});var u=a.enumerable,c=void 0!==a.name?a.name:e;if(r(n)&&o(n,c,a),a.global)u?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(u=!0):delete t[e]}catch(t){}u?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},5014:function(t,e,n){"use strict";var r=n(9037),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},7697:function(t,e,n){"use strict";var r=n(3689);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6420:function(t,e,n){"use strict";var r=n(9037),i=n(8999),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},5565:function(t){"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},71:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(t,e,n){"use strict";var r,i,o=n(9037),s=n(71),a=o.process,u=o.Deno,c=a&&a.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},8749:function(t,e,n){"use strict";var r=n(9037),i=n(8844);t.exports=function(t,e){return i(r[t].prototype[e])}},2739:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(t,e,n){"use strict";var r=n(9037),i=n(2474).f,o=n(5773),s=n(1880),a=n(5014),u=n(8758),c=n(5266);t.exports=function(t,e){var n,l,d,h,f,p=t.target,v=t.global,g=t.stat;if(n=v?r:g?r[p]||a(p,{}):r[p]&&r[p].prototype)for(l in e){if(h=e[l],d=t.dontCallGetSet?(f=i(n,l))&&f.value:n[l],!c(v?l:p+(g?".":"#")+l,t.forced)&&void 0!==d){if(typeof h==typeof d)continue;u(h,d)}(t.sham||d&&d.sham)&&o(h,"sham",!0),s(n,l,h,t)}}},3689:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},7809:function(t,e,n){"use strict";var r=n(2297),i=n(6310),o=n(5565),s=n(4071),a=function(t,e,n,u,c,l,d,h){for(var f,p,v=c,g=0,m=!!d&&s(d,h);g<u;)g in n&&(f=m?m(n[g],g,e):n[g],l>0&&r(f)?(p=i(f),v=a(t,e,f,p,v,l-1)-1):(o(v+1),t[v]=f),v++),g++;return v};t.exports=a},4071:function(t,e,n){"use strict";var r=n(6576),i=n(509),o=n(7215),s=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},7215:function(t,e,n){"use strict";var r=n(3689);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},2615:function(t,e,n){"use strict";var r=n(7215),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},1236:function(t,e,n){"use strict";var r=n(7697),i=n(6812),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),u=a&&"something"===function(){}.name,c=a&&(!r||r&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:u,CONFIGURABLE:c}},6576:function(t,e,n){"use strict";var r=n(6648),i=n(8844);t.exports=function(t){if("Function"===r(t))return i(t)}},8844:function(t,e,n){"use strict";var r=n(7215),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);t.exports=r?s:function(t){return function(){return o.apply(t,arguments)}}},6058:function(t,e,n){"use strict";var r=n(9037),i=n(9985),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},4849:function(t,e,n){"use strict";var r=n(509),i=n(981);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},9037:function(t,e,n){"use strict";var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},6812:function(t,e,n){"use strict";var r=n(8844),i=n(690),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},7248:function(t){"use strict";t.exports={}},2688:function(t,e,n){"use strict";var r=n(6058);t.exports=r("document","documentElement")},8506:function(t,e,n){"use strict";var r=n(7697),i=n(3689),o=n(6420);t.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},4413:function(t,e,n){"use strict";var r=n(8844),i=n(3689),o=n(6648),s=Object,a=r("".split);t.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?a(t,""):s(t)}:s},6738:function(t,e,n){"use strict";var r=n(8844),i=n(9985),o=n(4091),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},618:function(t,e,n){"use strict";var r,i,o,s=n(9834),a=n(9037),u=n(8999),c=n(5773),l=n(6812),d=n(4091),h=n(2713),f=n(7248),p="Object already initialized",v=a.TypeError,g=a.WeakMap;if(s||d.state){var m=d.state||(d.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,r=function(t,e){if(m.has(t))throw new v(p);return e.facade=t,m.set(t,e),e},i=function(t){return m.get(t)||{}},o=function(t){return m.has(t)}}else{var b=h("state");f[b]=!0,r=function(t,e){if(l(t,b))throw new v(p);return e.facade=t,c(t,b,e),e},i=function(t){return l(t,b)?t[b]:{}},o=function(t){return l(t,b)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw new v("Incompatible receiver, "+t+" required");return n}}}},2297:function(t,e,n){"use strict";var r=n(6648);t.exports=Array.isArray||function(t){return"Array"===r(t)}},9985:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},9429:function(t,e,n){"use strict";var r=n(8844),i=n(3689),o=n(9985),s=n(926),a=n(6058),u=n(6738),c=function(){},l=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=r(d.exec),f=!d.test(c),p=function(t){if(!o(t))return!1;try{return l(c,[],t),!0}catch(t){return!1}},v=function(t){if(!o(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!h(d,u(t))}catch(t){return!0}};v.sham=!0,t.exports=!l||i((function(){var t;return p(p.call)||!p(Object)||!p((function(){t=!0}))||t}))?v:p},5266:function(t,e,n){"use strict";var r=n(3689),i=n(9985),o=/#|\.prototype\./,s=function(t,e){var n=u[a(t)];return n===l||n!==c&&(i(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=s.data={},c=s.NATIVE="N",l=s.POLYFILL="P";t.exports=s},981:function(t){"use strict";t.exports=function(t){return null==t}},8999:function(t,e,n){"use strict";var r=n(9985);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},3931:function(t){"use strict";t.exports=!1},734:function(t,e,n){"use strict";var r=n(6058),i=n(9985),o=n(3622),s=n(9525),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,a(t))}},6310:function(t,e,n){"use strict";var r=n(3126);t.exports=function(t){return r(t.length)}},8702:function(t,e,n){"use strict";var r=n(8844),i=n(3689),o=n(9985),s=n(6812),a=n(7697),u=n(1236).CONFIGURABLE,c=n(6738),l=n(618),d=l.enforce,h=l.get,f=String,p=Object.defineProperty,v=r("".slice),g=r("".replace),m=r([].join),b=a&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),w=String(String).split("String"),_=t.exports=function(t,e,n){"Symbol("===v(f(e),0,7)&&(e="["+g(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||u&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),b&&n&&s(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=d(t);return s(r,"source")||(r.source=m(w,"string"==typeof e?e:"")),t};Function.prototype.toString=_((function(){return o(this)&&h(this).source||c(this)}),"toString")},8828:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},5391:function(t,e,n){"use strict";var r,i=n(5027),o=n(8920),s=n(2739),a=n(7248),u=n(2688),c=n(6420),l=n(2713),d=l("IE_PROTO"),h=function(){},f=function(t){return"<script>"+t+"</"+"script>"},p=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;v="undefined"!=typeof document?document.domain&&r?p(r):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F):p(r);for(var n=s.length;n--;)delete v.prototype[s[n]];return v()};a[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=i(t),n=new h,h.prototype=null,n[d]=t):n=v(),void 0===e?n:o.f(n,e)}},8920:function(t,e,n){"use strict";var r=n(7697),i=n(5648),o=n(2560),s=n(5027),a=n(5290),u=n(300);e.f=r&&!i?Object.defineProperties:function(t,e){s(t);for(var n,r=a(e),i=u(e),c=i.length,l=0;c>l;)o.f(t,n=i[l++],r[n]);return t}},2560:function(t,e,n){"use strict";var r=n(7697),i=n(8506),o=n(5648),s=n(5027),a=n(8360),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";e.f=r?o?function(t,e,n){if(s(t),e=a(e),s(n),"function"==typeof t&&"prototype"===e&&"value"in n&&f in n&&!n.writable){var r=l(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:h in n?n.configurable:r.configurable,enumerable:d in n?n.enumerable:r.enumerable,writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(s(t),e=a(e),s(n),i)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},2474:function(t,e,n){"use strict";var r=n(7697),i=n(2615),o=n(9556),s=n(5684),a=n(5290),u=n(8360),c=n(6812),l=n(8506),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(t,e){if(t=a(t),e=u(e),l)try{return d(t,e)}catch(t){}if(c(t,e))return s(!i(o.f,t,e),t[e])}},2741:function(t,e,n){"use strict";var r=n(4948),i=n(2739).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},7518:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},3622:function(t,e,n){"use strict";var r=n(8844);t.exports=r({}.isPrototypeOf)},4948:function(t,e,n){"use strict";var r=n(8844),i=n(6812),o=n(5290),s=n(4328).indexOf,a=n(7248),u=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,l=[];for(n in r)!i(a,n)&&i(r,n)&&u(l,n);for(;e.length>c;)i(r,n=e[c++])&&(~s(l,n)||u(l,n));return l}},300:function(t,e,n){"use strict";var r=n(4948),i=n(2739);t.exports=Object.keys||function(t){return r(t,i)}},9556:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},5899:function(t,e,n){"use strict";var r=n(2615),i=n(9985),o=n(8999),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&i(n=t.toString)&&!o(a=r(n,t)))return a;if(i(n=t.valueOf)&&!o(a=r(n,t)))return a;if("string"!==e&&i(n=t.toString)&&!o(a=r(n,t)))return a;throw new s("Can't convert object to primitive value")}},9152:function(t,e,n){"use strict";var r=n(6058),i=n(8844),o=n(2741),s=n(7518),a=n(5027),u=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?u(e,n(t)):e}},4684:function(t,e,n){"use strict";var r=n(981),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},2713:function(t,e,n){"use strict";var r=n(3430),i=n(4630),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},4091:function(t,e,n){"use strict";var r=n(3931),i=n(9037),o=n(5014),s="__core-js_shared__",a=t.exports=i[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.37.1",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},3430:function(t,e,n){"use strict";var r=n(4091);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},146:function(t,e,n){"use strict";var r=n(3615),i=n(3689),o=n(9037).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},7578:function(t,e,n){"use strict";var r=n(8700),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5290:function(t,e,n){"use strict";var r=n(4413),i=n(4684);t.exports=function(t){return r(i(t))}},8700:function(t,e,n){"use strict";var r=n(8828);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},3126:function(t,e,n){"use strict";var r=n(8700),i=Math.min;t.exports=function(t){var e=r(t);return e>0?i(e,9007199254740991):0}},690:function(t,e,n){"use strict";var r=n(4684),i=Object;t.exports=function(t){return i(r(t))}},8732:function(t,e,n){"use strict";var r=n(2615),i=n(8999),o=n(734),s=n(4849),a=n(5899),u=n(4201),c=TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,u=s(t,l);if(u){if(void 0===e&&(e="default"),n=r(u,t,e),!i(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},8360:function(t,e,n){"use strict";var r=n(8732),i=n(734);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},3043:function(t,e,n){"use strict";var r={};r[n(4201)("toStringTag")]="z",t.exports="[object z]"===String(r)},3691:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},4630:function(t,e,n){"use strict";var r=n(8844),i=0,o=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},9525:function(t,e,n){"use strict";var r=n(146);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(t,e,n){"use strict";var r=n(7697),i=n(3689);t.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},9834:function(t,e,n){"use strict";var r=n(9037),i=n(9985),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},4201:function(t,e,n){"use strict";var r=n(9037),i=n(3430),o=n(6812),s=n(4630),a=n(146),u=n(9525),c=r.Symbol,l=i("wks"),d=u?c.for||c:c&&c.withoutSetter||s;t.exports=function(t){return o(l,t)||(l[t]=a&&o(c,t)?c[t]:d("Symbol."+t)),l[t]}},2795:function(t,e,n){"use strict";var r=n(9989),i=n(7809),o=n(690),s=n(6310),a=n(8700),u=n(7120);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),n=s(e),r=u(e,0);return r.length=i(r,e,e,n,0,void 0===t?1:a(t)),r}})},3383:function(t,e,n){"use strict";n(7370)("flat")},2719:function(t,e,n){"use strict";var r=n(9798);t.exports=r},1503:function(t,e,n){"use strict";n.d(e,{B:function(){return r}});class r extends Error{response;request;options;constructor(t,e,n){const r=`${t.status||0===t.status?t.status:""} ${t.statusText??""}`.trim();super(`Request failed with ${r?`status code ${r}`:"an unknown error"}: ${e.method} ${e.url}`),this.name="HTTPError",this.response=t,this.request=e,this.options=n}}},6804:function(t,e,n){"use strict";n.d(e,{ZP:function(){return j}});var r=n(1503);class i extends Error{name="NonError";value;constructor(t){let e="Non-error value was thrown";try{"string"==typeof t?e=t:t&&"object"==typeof t&&"message"in t&&"string"==typeof t.message&&(e=t.message)}catch{}super(e),this.value=t}}class o extends Error{name="ForceRetryError";customDelay;code;customRequest;constructor(t){const e=t?.cause?t.cause instanceof Error?t.cause:new i(t.cause):void 0;super(t?.code?`Forced retry: ${t.code}`:"Forced retry",e?{cause:e}:void 0),this.customDelay=t?.delay,this.code=t?.code,this.customRequest=t?.request}}const s=(()=>{let t=!1,e=!1;const n="function"==typeof globalThis.ReadableStream,r="function"==typeof globalThis.Request;if(n&&r)try{e=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type")}catch(t){if(t instanceof Error&&"unsupported BodyInit type"===t.message)return!1;throw t}return t&&!e})(),a="function"==typeof globalThis.AbortController,u="function"==typeof globalThis.AbortSignal&&"function"==typeof globalThis.AbortSignal.any,c="function"==typeof globalThis.ReadableStream,l="function"==typeof globalThis.FormData,d=["get","post","put","patch","head","delete"],h={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*",bytes:"*/*"},f=2147483647,p=(new TextEncoder).encode("------WebKitFormBoundaryaxpyiPgbbPti10Rw").length,v=Symbol("stop");class g{options;constructor(t){this.options=t}}const m=t=>new g(t),b={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,onUploadProgress:!0,fetch:!0,context:!0},w={next:!0},_={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,duplex:!0},y=(t,e,n)=>{let r,i=0;return t.pipeThrough(new TransformStream({transform(t,o){if(o.enqueue(t),r){i+=r.byteLength;let t=0===e?0:i/e;t>=1&&(t=1-Number.EPSILON),n?.({percent:t,totalBytes:Math.max(e,i),transferredBytes:i},r)}r=t},flush(){r&&(i+=r.byteLength,n?.({percent:1,totalBytes:Math.max(e,i),transferredBytes:i},r))}}))},k=(t,e,n)=>{if(!t.body)return t;const r=(t=>{if(!t)return 0;if(t instanceof FormData){let e=0;for(const[n,r]of t)e+=p,e+=(new TextEncoder).encode(`Content-Disposition: form-data; name="${n}"`).length,e+="string"==typeof r?(new TextEncoder).encode(r).length:r.size;return e}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength;if("string"==typeof t)return(new TextEncoder).encode(t).length;if(t instanceof URLSearchParams)return(new TextEncoder).encode(t.toString()).length;if("byteLength"in t)return t.byteLength;if("object"==typeof t&&null!==t)try{const e=JSON.stringify(t);return(new TextEncoder).encode(e).length}catch{return 0}return 0})(n??t.body);return new Request(t,{duplex:"half",body:y(t.body,r,e)})},E=t=>null!==t&&"object"==typeof t,S=(...t)=>{for(const e of t)if((!E(e)||Array.isArray(e))&&void 0!==e)throw new TypeError("The `options` argument must be an object");return O({},...t)},T=(t={},e={})=>{const n=new globalThis.Headers(t),r=e instanceof globalThis.Headers,i=new globalThis.Headers(e);for(const[t,e]of i.entries())r&&"undefined"===e||void 0===e?n.delete(t):n.set(t,e);return n};function x(t,e,n){return Object.hasOwn(e,n)&&void 0===e[n]?[]:O(t[n]??[],e[n]??[])}const A=(t={},e={})=>({beforeRequest:x(t,e,"beforeRequest"),beforeRetry:x(t,e,"beforeRetry"),afterResponse:x(t,e,"afterResponse"),beforeError:x(t,e,"beforeError")}),I=(t,e)=>{const n=new URLSearchParams;for(const r of[t,e])if(void 0!==r)if(r instanceof URLSearchParams)for(const[t,e]of r.entries())n.append(t,e);else if(Array.isArray(r))for(const t of r){if(!Array.isArray(t)||2!==t.length)throw new TypeError("Array search parameters must be provided in [[key, value], ...] format");n.append(String(t[0]),String(t[1]))}else if(E(r))for(const[t,e]of Object.entries(r))void 0!==e&&n.append(t,String(e));else{const t=new URLSearchParams(r);for(const[e,r]of t.entries())n.append(e,r)}return n},O=(...t)=>{let e,n={},r={},i={};const o=[];for(const s of t)if(Array.isArray(s))Array.isArray(n)||(n=[]),n=[...n,...s];else if(E(s)){for(let[t,r]of Object.entries(s))if("signal"===t&&r instanceof globalThis.AbortSignal)o.push(r);else if("context"!==t)"searchParams"!==t?(E(r)&&t in n&&(r=O(n[t],r)),n={...n,[t]:r}):e=null==r?void 0:void 0===e?r:I(e,r);else{if(null!=r&&(!E(r)||Array.isArray(r)))throw new TypeError("The `context` option must be an object");n={...n,context:null==r?{}:{...n.context,...r}}}E(s.hooks)&&(i=A(i,s.hooks),n.hooks=i),E(s.headers)&&(r=T(r,s.headers),n.headers=r)}return void 0!==e&&(n.searchParams=e),o.length>0&&(1===o.length?n.signal=o[0]:n.signal=u?AbortSignal.any(o):o.at(-1)),void 0===n.context&&(n.context={}),n},R=t=>d.includes(t)?t.toUpperCase():t,C={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:[413,429,503],maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:t=>.3*2**(t-1)*1e3,jitter:void 0,retryOnTimeout:!1},P=(t={})=>{if("number"==typeof t)return{...C,limit:t};if(t.methods&&!Array.isArray(t.methods))throw new Error("retry.methods must be an array");if(t.statusCodes&&!Array.isArray(t.statusCodes))throw new Error("retry.statusCodes must be an array");const e=Object.fromEntries(Object.entries(t).filter((([,t])=>void 0!==t)));return{...C,...e}};class D extends Error{request;constructor(t){super(`Request timed out: ${t.method} ${t.url}`),this.name="TimeoutError",this.request=t}}function G(t){return t instanceof r.B||t?.name===r.B.name}function U(t){return t instanceof D||t?.name===D.name}class L{static create(t,e){const n=new L(t,e),i=n.#t((async()=>{if("number"==typeof n.#e.timeout&&n.#e.timeout>f)throw new RangeError("The `timeout` option cannot be greater than 2147483647");await Promise.resolve();let t=await n.#n();for(const e of n.#e.hooks.afterResponse){const r=n.#r(t.clone()),i=await e(n.request,n.#i(),r,{retryCount:n.#o});if(i instanceof globalThis.Response&&(t=i),i instanceof g)throw await Promise.all([r.body?.cancel(),t.body?.cancel()]),new o(i.options)}if(n.#r(t),!t.ok&&("function"==typeof n.#e.throwHttpErrors?n.#e.throwHttpErrors(t.status):n.#e.throwHttpErrors)){let e=new r.B(t,n.request,n.#i());for(const t of n.#e.hooks.beforeError)e=await t(e,{retryCount:n.#o});throw e}if(n.#e.onDownloadProgress){if("function"!=typeof n.#e.onDownloadProgress)throw new TypeError("The `onDownloadProgress` option must be a function");if(!c)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return((t,e)=>{if(!t.body)return t;if(204===t.status)return new Response(null,{status:t.status,statusText:t.statusText,headers:t.headers});const n=Math.max(0,Number(t.headers.get("content-length"))||0);return new Response(y(t.body,n,e),{status:t.status,statusText:t.statusText,headers:t.headers})})(t.clone(),n.#e.onDownloadProgress)}return t})).finally((async()=>{const t=n.#s,e=[];t&&!t.bodyUsed&&e.push(t.body?.cancel()),n.request.bodyUsed||e.push(n.request.body?.cancel()),await Promise.all(e)}));for(const[t,r]of Object.entries(h))"bytes"===t&&"function"!=typeof globalThis.Response?.prototype?.bytes||(i[t]=async()=>{n.request.headers.set("accept",n.request.headers.get("accept")||r);const o=await i;if("json"===t){if(204===o.status)return"";const t=await o.text();return""===t?"":e.parseJson?e.parseJson(t):JSON.parse(t)}return o[t]()});return i}static#a(t){return!t||"object"!=typeof t||Array.isArray(t)||t instanceof URLSearchParams?t:Object.fromEntries(Object.entries(t).filter((([,t])=>void 0!==t)))}request;#u;#o=0;#c;#e;#s;#l;#d;constructor(t,e={}){if(this.#c=t,this.#e={...e,headers:T(this.#c.headers,e.headers),hooks:A({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},e.hooks),method:R(e.method??this.#c.method??"GET"),prefixUrl:String(e.prefixUrl||""),retry:P(e.retry),throwHttpErrors:e.throwHttpErrors??!0,timeout:e.timeout??1e4,fetch:e.fetch??globalThis.fetch.bind(globalThis),context:e.context??{}},"string"!=typeof this.#c&&!(this.#c instanceof URL||this.#c instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this.#e.prefixUrl&&"string"==typeof this.#c){if(this.#c.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this.#e.prefixUrl.endsWith("/")||(this.#e.prefixUrl+="/"),this.#c=this.#e.prefixUrl+this.#c}a&&u&&(this.#l=this.#e.signal??this.#c.signal,this.#u=new globalThis.AbortController,this.#e.signal=this.#l?AbortSignal.any([this.#l,this.#u.signal]):this.#u.signal),s&&(this.#e.duplex="half"),void 0!==this.#e.json&&(this.#e.body=this.#e.stringifyJson?.(this.#e.json)??JSON.stringify(this.#e.json),this.#e.headers.set("content-type",this.#e.headers.get("content-type")??"application/json"));const n=e.headers&&new globalThis.Headers(e.headers).has("content-type");if(this.#c instanceof globalThis.Request&&(l&&this.#e.body instanceof globalThis.FormData||this.#e.body instanceof URLSearchParams)&&!n&&this.#e.headers.delete("content-type"),this.request=new globalThis.Request(this.#c,this.#e),void 0!==(r=this.#e.searchParams)&&(Array.isArray(r)?r.length>0:r instanceof URLSearchParams?r.size>0:"object"==typeof r?Object.keys(r).length>0:"string"==typeof r?r.trim().length>0:Boolean(r))){const t="?"+("string"==typeof this.#e.searchParams?this.#e.searchParams.replace(/^\?/,""):new URLSearchParams(L.#a(this.#e.searchParams)).toString()),e=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,t);this.request=new globalThis.Request(e,this.#e)}var r;if(this.#e.onUploadProgress){if("function"!=typeof this.#e.onUploadProgress)throw new TypeError("The `onUploadProgress` option must be a function");if(!s)throw new Error("Request streams are not supported in your environment. The `duplex` option for `Request` is not available.");this.request=this.#h(this.request,this.#e.body??void 0)}}#f(){const t=this.#e.retry.delay(this.#o);let e=t;!0===this.#e.retry.jitter?e=Math.random()*t:"function"==typeof this.#e.retry.jitter&&(e=this.#e.retry.jitter(t),(!Number.isFinite(e)||e<0)&&(e=t));const n=this.#e.retry.backoffLimit??Number.POSITIVE_INFINITY;return Math.min(n,e)}async#p(t){if(this.#o++,this.#o>this.#e.retry.limit)throw t;const e=t instanceof Error?t:new i(t);if(e instanceof o)return e.customDelay??this.#f();if(!this.#e.retry.methods.includes(this.request.method.toLowerCase()))throw t;if(void 0!==this.#e.retry.shouldRetry){const n=await this.#e.retry.shouldRetry({error:e,retryCount:this.#o});if(!1===n)throw t;if(!0===n)return this.#f()}if(U(t)&&!this.#e.retry.retryOnTimeout)throw t;if(G(t)){if(!this.#e.retry.statusCodes.includes(t.response.status))throw t;const e=t.response.headers.get("Retry-After")??t.response.headers.get("RateLimit-Reset")??t.response.headers.get("X-RateLimit-Retry-After")??t.response.headers.get("X-RateLimit-Reset")??t.response.headers.get("X-Rate-Limit-Reset");if(e&&this.#e.retry.afterStatusCodes.includes(t.response.status)){let t=1e3*Number(e);Number.isNaN(t)?t=Date.parse(e)-Date.now():t>=Date.parse("2024-01-01")&&(t-=Date.now());const n=this.#e.retry.maxRetryAfter??t;return t<n?t:n}if(413===t.response.status)throw t}return this.#f()}#r(t){return this.#e.parseJson&&(t.json=async()=>this.#e.parseJson(await t.text())),t}async#t(t){try{return await t()}catch(e){const n=Math.min(await this.#p(e),f);if(this.#o<1)throw e;if(await async function(t,{signal:e}){return new Promise(((n,r)=>{function i(){clearTimeout(o),r(e.reason)}e&&(e.throwIfAborted(),e.addEventListener("abort",i,{once:!0}));const o=setTimeout((()=>{e?.removeEventListener("abort",i),n()}),t)}))}(n,this.#l?{signal:this.#l}:{}),e instanceof o&&e.customRequest){const t=this.#e.signal?new globalThis.Request(e.customRequest,{signal:this.#e.signal}):new globalThis.Request(e.customRequest);this.#v(t)}for(const t of this.#e.hooks.beforeRetry){const n=await t({request:this.request,options:this.#i(),error:e,retryCount:this.#o});if(n instanceof globalThis.Request){this.#v(n);break}if(n instanceof globalThis.Response)return n;if(n===v)return}return this.#t(t)}}async#n(){this.#u?.signal.aborted&&(this.#u=new globalThis.AbortController,this.#e.signal=this.#l?AbortSignal.any([this.#l,this.#u.signal]):this.#u.signal,this.request=new globalThis.Request(this.request,{signal:this.#e.signal}));for(const t of this.#e.hooks.beforeRequest){const e=await t(this.request,this.#i(),{retryCount:this.#o});if(e instanceof Response)return e;if(e instanceof globalThis.Request){this.#v(e);break}}const t=((t,e)=>{const n={};for(const r in e)Object.hasOwn(e,r)&&(r in _||r in b||r in t&&!(r in w)||(n[r]=e[r]));return n})(this.request,this.#e);return this.#s=this.request,this.request=this.#s.clone(),!1===this.#e.timeout?this.#e.fetch(this.#s,t):async function(t,e,n,r){return new Promise(((i,o)=>{const s=setTimeout((()=>{n&&n.abort(),o(new D(t))}),r.timeout);r.fetch(t,e).then(i).catch(o).then((()=>{clearTimeout(s)}))}))}(this.#s,t,this.#u,this.#e)}#i(){if(!this.#d){const{hooks:t,...e}=this.#e;this.#d=Object.freeze(e)}return this.#d}#v(t){this.#d=void 0,this.request=this.#h(t)}#h(t,e){return this.#e.onUploadProgress&&t.body?k(t,this.#e.onUploadProgress,e??this.#e.body??void 0):t}}const N=t=>{const e=(e,n)=>L.create(e,S(t,n));for(const n of d)e[n]=(e,r)=>L.create(e,S(t,r,{method:n}));return e.create=t=>N(S(t)),e.extend=e=>("function"==typeof e&&(e=e(t??{})),N(S(t,e))),e.stop=v,e.retry=m,e};var j=N()},4887:function(t,e,n){"use strict";n.d(e,{Z:function(){return G}});var r=n(3067),i=(0,r.Z)(Object,"create");var o=function(){this.__data__=i?i(null):{},this.size=0};var s=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},a=Object.prototype.hasOwnProperty;var u=function(t){var e=this.__data__;if(i){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(e,t)?e[t]:void 0},c=Object.prototype.hasOwnProperty;var l=function(t){var e=this.__data__;return i?void 0!==e[t]:c.call(e,t)};var d=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this};function h(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}h.prototype.clear=o,h.prototype.delete=s,h.prototype.get=u,h.prototype.has=l,h.prototype.set=d;var f=h;var p=function(){this.__data__=[],this.size=0},v=n(9651);var g=function(t,e){for(var n=t.length;n--;)if((0,v.Z)(t[n][0],e))return n;return-1},m=Array.prototype.splice;var b=function(t){var e=this.__data__,n=g(e,t);return!(n<0)&&(n==e.length-1?e.pop():m.call(e,n,1),--this.size,!0)};var w=function(t){var e=this.__data__,n=g(e,t);return n<0?void 0:e[n][1]};var _=function(t){return g(this.__data__,t)>-1};var y=function(t,e){var n=this.__data__,r=g(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function k(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}k.prototype.clear=p,k.prototype.delete=b,k.prototype.get=w,k.prototype.has=_,k.prototype.set=y;var E=k,S=n(8003),T=(0,r.Z)(S.Z,"Map");var x=function(){this.size=0,this.__data__={hash:new f,map:new(T||E),string:new f}};var A=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var I=function(t,e){var n=t.__data__;return A(e)?n["string"==typeof e?"string":"hash"]:n.map};var O=function(t){var e=I(this,t).delete(t);return this.size-=e?1:0,e};var R=function(t){return I(this,t).get(t)};var C=function(t){return I(this,t).has(t)};var P=function(t,e){var n=I(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function D(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}D.prototype.clear=x,D.prototype.delete=O,D.prototype.get=R,D.prototype.has=C,D.prototype.set=P;var G=D},7685:function(t,e,n){"use strict";var r=n(8003).Z.Symbol;e.Z=r},3243:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var r=n(7685),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r.Z?r.Z.toStringTag:void 0;var u=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[a]=n:delete t[a]),i},c=Object.prototype.toString;var l=function(t){return c.call(t)},d=r.Z?r.Z.toStringTag:void 0;var h=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":d&&d in Object(t)?u(t):l(t)}},3067:function(t,e,n){"use strict";n.d(e,{Z:function(){return w}});var r,i=n(3234),o=n(8003).Z["__core-js_shared__"],s=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";var a=function(t){return!!s&&s in t},u=n(7226),c=Function.prototype.toString;var l=function(t){if(null!=t){try{return c.call(t)}catch(t){}try{return t+""}catch(t){}}return""},d=/^\[object .+?Constructor\]$/,h=Function.prototype,f=Object.prototype,p=h.toString,v=f.hasOwnProperty,g=RegExp("^"+p.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var m=function(t){return!(!(0,u.Z)(t)||a(t))&&((0,i.Z)(t)?g:d).test(l(t))};var b=function(t,e){return null==t?void 0:t[e]};var w=function(t,e){var n=b(t,e);return m(n)?n:void 0}},8003:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r="object"==typeof global&&global&&global.Object===Object&&global,i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")()},9651:function(t,e){"use strict";e.Z=function(t,e){return t===e||t!=t&&e!=e}},3234:function(t,e,n){"use strict";var r=n(3243),i=n(7226);e.Z=function(t){if(!(0,i.Z)(t))return!1;var e=(0,r.Z)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},7226:function(t,e){"use strict";e.Z=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},2054:function(t,e){"use strict";e.Z=function(){}}}]);